module.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=35)}([function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("util")},function(t,e,n){try{var i=n(2);if("function"!=typeof i.inherits)throw"";t.exports=i.inherits}catch(e){t.exports=n(59)}},function(t,e,n){"use strict";var i=n(9),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=u;var s=n(7);s.inherits=n(3);var a=n(25),o=n(28);s.inherits(u,a);for(var l=r(o.prototype),c=0;c<l.length;c++){var h=l[c];u.prototype[h]||(u.prototype[h]=o.prototype[h])}function u(t){if(!(this instanceof u))return new u(t);a.call(this,t),o.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),u.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){var i=n(24);"disable"===process.env.READABLE_STREAM&&i?(t.exports=i,(e=t.exports=i.Readable).Readable=i.Readable,e.Writable=i.Writable,e.Duplex=i.Duplex,e.Transform=i.Transform,e.PassThrough=i.PassThrough,e.Stream=i):((e=t.exports=n(25)).Stream=i||e,e.Readable=e,e.Writable=n(28),e.Duplex=n(4),e.Transform=n(30),e.PassThrough=n(74))},function(t,e,n){var i=n(71),r=i.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(s(i,e),e.Buffer=a),s(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=Buffer.isBuffer},function(t,e,n){var i=n(23);function r(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function s(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}t.exports=i(r),t.exports.strict=i(s),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},function(t,e,n){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,s,a=arguments.length;switch(a){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,n)});case 4:return process.nextTick(function(){t.call(null,e,n,i)});default:for(r=new Array(a-1),s=0;s<r.length;)r[s++]=arguments[s];return process.nextTick(function(){t.apply(null,r)})}}}:t.exports=process},function(t,e){t.exports=require("os")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(18),r=n(0),s=n(17),a=n(53),o=n(12),l=n(1),c=n(54),h=n(62),u=n(84);e.default=class{constructor(t,e){this.state=t,this.settings=e,process.on("exit",()=>{this.kill()})}log(t){let e=t.toString();e.startsWith("WARNING:")||console.log(e)}clientVersion(){return"de97aa246d6e02a33e77e322f1cd196e"}clientUrl(){return`https://cdn.serenade.ai/client/Serenade-${this.clientVersion()}.tar.gz`}checkPort(t){let e=!0,n=s.createServer();n.once("error",t=>{"EADDRINUSE"===t.code&&(e=!1)}),n.once("listening",function(){n.close()}),setTimeout(()=>{t(e)},100),n.listen(17373)}downloadAndDecompress(t,e,n,i,s){let u=!0;const f=`${this.settings.path()}/${n}`;let d=l.dirname(f);if(r.existsSync(`${d}/${e}`))return void(s&&s());c.sync(d),o.sync(d);const p=r.createWriteStream(f);a.get(t,t=>{let e=0;const n=t.headers["content-length"];let a=0;void 0!==n&&(a=parseInt(n,10)),t.on("data",t=>{e+=t.length,u&&(this.state.set("status",`${i} (${Math.min(100,Math.floor(100*e/a))}%)\n`),u=!1,setTimeout(()=>{u=!0},500))}),t.pipe(p),p.on("finish",()=>{h.decompress({src:f,dest:d},t=>{r.unlinkSync(f),s&&s()})})})}installAndRun(t){this.settings.get("disable_autostart")?t():this.installJdk(()=>{this.installClient(()=>{this.checkPort(e=>{e?(this.clientProcess=i.spawn(this.javaBinary(),["--add-opens=java.base/java.nio=ALL-UNNAMED","--add-opens=java.base/java.lang=ALL-UNNAMED",'-Dapple.awt.UIElement="true"',"-jar",`"${this.settings.path()}/client/${this.clientVersion()}/serenade.jar"`],{cwd:`${this.settings.path()}/jdk/${this.jdkVersion()}/${this.javaPath()}`,shell:!0}),this.clientProcess.stdout.on("data",this.log),this.clientProcess.stderr.on("data",this.log),t()):t()})})})}installClient(t){this.downloadAndDecompress(this.clientUrl(),this.clientVersion(),"client/serenade.tar.gz","Updating",t)}installJdk(t){this.downloadAndDecompress(this.jdkUrl(),this.jdkVersion(),"jdk/jdk.tar.gz","Installing",t)}kill(){this.clientProcess&&u(this.clientProcess.pid)}}},function(t,e,n){var i=n(1),r=n(0),s=parseInt("0777",8);function a(t,e,n,o){"function"==typeof e?(n=e,e={}):e&&"object"==typeof e||(e={mode:e});var l=e.mode,c=e.fs||r;void 0===l&&(l=s&~process.umask()),o||(o=null);var h=n||function(){};t=i.resolve(t),c.mkdir(t,l,function(n){if(!n)return h(null,o=o||t);switch(n.code){case"ENOENT":a(i.dirname(t),e,function(n,i){n?h(n,i):a(t,e,h,i)});break;default:c.stat(t,function(t,e){t||!e.isDirectory()?h(n,o):h(null,o)})}})}t.exports=a.mkdirp=a.mkdirP=a,a.sync=function t(e,n,a){n&&"object"==typeof n||(n={mode:n});var o=n.mode,l=n.fs||r;void 0===o&&(o=s&~process.umask()),a||(a=null),e=i.resolve(e);try{l.mkdirSync(e,o),a=a||e}catch(r){switch(r.code){case"ENOENT":a=t(i.dirname(e),n,a),t(e,n,a);break;default:var c;try{c=l.statSync(e)}catch(t){throw r}if(!c.isDirectory())throw r}}return a}},function(t,e){t.exports=require("assert")},function(t,e,n){t.exports=p,p.Minimatch=g;var i={sep:"/"};try{i=n(1)}catch(t){}var r=p.GLOBSTAR=g.GLOBSTAR={},s=n(56),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},o="[^/]",l=o+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",h="(?:(?!(?:\\/|^)\\.).)*?",u="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var f=/\/+/;function d(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function p(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new g(e,n).match(t))}function g(t,e){if(!(this instanceof g))return new g(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==i.sep&&(t=t.split(i.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function v(t,e){if(e||(e=this instanceof g?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:s(t)}p.filter=function(t,e){return e=e||{},function(n,i,r){return p(n,t,e)}},p.defaults=function(t){if(!t||!Object.keys(t).length)return p;var e=p,n=function(n,i,r){return e.minimatch(n,i,d(t,r))};return n.Minimatch=function(n,i){return new e.Minimatch(n,d(t,i))},n},g.defaults=function(t){return t&&Object.keys(t).length?p.defaults(t).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(f)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,i=0;if(n.nonegate)return;for(var r=0,s=t.length;r<s&&"!"===t.charAt(r);r++)e=!e,i++;i&&(this.pattern=t.substr(i));this.negate=e},p.braceExpand=function(t,e){return v(t,e)},g.prototype.braceExpand=v,g.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return r;if(""===t)return"";var i,s="",c=!!n.nocase,h=!1,f=[],d=[],p=!1,g=-1,v=-1,b="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function _(){if(i){switch(i){case"*":s+=l,c=!0;break;case"?":s+=o,c=!0;break;default:s+="\\"+i}y.debug("clearStateChar %j %j",i,s),i=!1}}for(var w,x=0,E=t.length;x<E&&(w=t.charAt(x));x++)if(this.debug("%s\t%s %s %j",t,x,s,w),h&&u[w])s+="\\"+w,h=!1;else switch(w){case"/":return!1;case"\\":_(),h=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,x,s,w),p){this.debug("  in class"),"!"===w&&x===v+1&&(w="^"),s+=w;continue}y.debug("call clearStateChar %j",i),_(),i=w,n.noext&&_();continue;case"(":if(p){s+="(";continue}if(!i){s+="\\(";continue}f.push({type:i,start:x-1,reStart:s.length,open:a[i].open,close:a[i].close}),s+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,s),i=!1;continue;case")":if(p||!f.length){s+="\\)";continue}_(),c=!0;var k=f.pop();s+=k.close,"!"===k.type&&d.push(k),k.reEnd=s.length;continue;case"|":if(p||!f.length||h){s+="\\|",h=!1;continue}_(),s+="|";continue;case"[":if(_(),p){s+="\\"+w;continue}p=!0,v=x,g=s.length,s+=w;continue;case"]":if(x===v+1||!p){s+="\\"+w,h=!1;continue}if(p){var S=t.substring(v+1,x);try{RegExp("["+S+"]")}catch(t){var T=this.parse(S,m);s=s.substr(0,g)+"\\["+T[0]+"\\]",c=c||T[1],p=!1;continue}}c=!0,p=!1,s+=w;continue;default:_(),h?h=!1:!u[w]||"^"===w&&p||(s+="\\"),s+=w}p&&(S=t.substr(v+1),T=this.parse(S,m),s=s.substr(0,g)+"\\["+T[0],c=c||T[1]);for(k=f.pop();k;k=f.pop()){var M=s.slice(k.reStart+k.open.length);this.debug("setting tail",s,k),M=M.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",M,M,k,s);var A="*"===k.type?l:"?"===k.type?o:"\\"+k.type;c=!0,s=s.slice(0,k.reStart)+A+"\\("+M}_(),h&&(s+="\\\\");var L=!1;switch(s.charAt(0)){case".":case"[":case"(":L=!0}for(var O=d.length-1;O>-1;O--){var P=d[O],D=s.slice(0,P.reStart),j=s.slice(P.reStart,P.reEnd-8),R=s.slice(P.reEnd-8,P.reEnd),N=s.slice(P.reEnd);R+=N;var C=D.split("(").length-1,I=N;for(x=0;x<C;x++)I=I.replace(/\)[+*?]?/,"");var $="";""===(N=I)&&e!==m&&($="$");var B=D+j+N+$+R;s=B}""!==s&&c&&(s="(?=.)"+s);L&&(s=b+s);if(e===m)return[s,c];if(!c)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var q=n.nocase?"i":"";try{var z=new RegExp("^"+s+"$",q)}catch(t){return new RegExp("$.")}return z._glob=t,z._src=s,z};var m={};p.makeRe=function(t,e){return new g(t,e||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?l:e.dot?c:h,i=e.nocase?"i":"",s=t.map(function(t){return t.map(function(t){return t===r?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(t){this.regexp=!1}return this.regexp},p.match=function(t,e,n){var i=new g(e,n=n||{});return t=t.filter(function(t){return i.match(t)}),i.options.nonull&&!t.length&&t.push(e),t},g.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==i.sep&&(t=t.split(i.sep).join("/"));t=t.split(f),this.debug(this.pattern,"split",t);var r,s,a=this.set;for(this.debug(this.pattern,"set",a),s=t.length-1;s>=0&&!(r=t[s]);s--);for(s=0;s<a.length;s++){var o=a[s],l=t;n.matchBase&&1===o.length&&(l=[r]);var c=this.matchOne(l,o,e);if(c)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(t,e,n){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,a=0,o=t.length,l=e.length;s<o&&a<l;s++,a++){this.debug("matchOne loop");var c,h=e[a],u=t[s];if(this.debug(e,h,u),!1===h)return!1;if(h===r){this.debug("GLOBSTAR",[e,h,u]);var f=s,d=a+1;if(d===l){for(this.debug("** at the end");s<o;s++)if("."===t[s]||".."===t[s]||!i.dot&&"."===t[s].charAt(0))return!1;return!0}for(;f<o;){var p=t[f];if(this.debug("\nglobstar while",t,f,e,d,p),this.matchOne(t.slice(f),e.slice(d),n))return this.debug("globstar found match!",f,o,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,f,e,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",t,f,e,d),f!==o))}if("string"==typeof h?(c=i.nocase?u.toLowerCase()===h.toLowerCase():u===h,this.debug("string match",h,u,c)):(c=u.match(h),this.debug("pattern match",h,u,c)),!c)return!1}if(s===o&&a===l)return!0;if(s===o)return n;if(a===l)return s===o-1&&""===t[s];throw new Error("wtf?")}},function(t,e,n){"use strict";function i(t){return"/"===t.charAt(0)}function r(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),n=e[1]||"",i=Boolean(n&&":"!==n.charAt(1));return Boolean(e[2]||i)}t.exports="win32"===process.platform?r:i,t.exports.posix=i,t.exports.win32=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(42);var r,s;!function(t){t[t.Add=0]="Add",t[t.Delete=1]="Delete"}(r=e.DiffRangeType||(e.DiffRangeType={})),function(t){t[t.Line=0]="Line",t[t.Word=1]="Word"}(s=e.DiffHighlightType||(e.DiffHighlightType={}));class a{constructor(t,e){this.row=t,this.column=e}static fromArray(t){return new a(t[0],t[1])}}e.DiffPoint=a;class o{constructor(t,e,n,i){this.diffRangeType=t,this.diffHighlightType=e,this.start=n,this.stop=i}static fromDiff(t,e,n,i){let r=s.Word;const c=l(e,n),h=l(e,n+i);return c[0]==h[0]&&(c[1]++,h[1]++),n+i!=e.length-1&&"\n"!=e[n]||(c[0]++,c[1]=0,r=s.Line,c[0]==h[0]&&(h[0]++,h[1]=0)),new o(t,r,a.fromArray(c),a.fromArray(h))}}function l(t,e){let n=0,i=0;for(let r=0;r<e;r++)i++,"\n"==t[r]&&(n++,i=0);return[n,i]}e.DiffRange=o,e.cursorToRowAndColumn=l,e.diff=function(t,e){const n=new i;let s=n.diff_main(t,e);n.diff_cleanupSemantic(s);let a=[],l=-1,c=-1;for(const n of s)0==n[0]?(l+=n[1].length,c+=n[1].length):1==n[0]?(a.push(o.fromDiff(r.Add,e,c,n[1].length)),c+=n[1].length):-1==n[0]&&(a.push(o.fromDiff(r.Delete,t,l,n[1].length)),l+=n[1].length);return a}},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("child_process")},function(t,e,n){t.exports=y;var i=n(0),r=n(20),s=n(14),a=(s.Minimatch,n(3)),o=n(21).EventEmitter,l=n(1),c=n(13),h=n(15),u=n(60),f=n(22),d=(f.alphasort,f.alphasorti,f.setopts),p=f.ownProp,g=n(61),v=(n(2),f.childrenIgnored),m=f.isIgnored,b=n(8);function y(t,e,n){if("function"==typeof e&&(n=e,e={}),e||(e={}),e.sync){if(n)throw new TypeError("callback provided to sync glob");return u(t,e)}return new w(t,e,n)}y.sync=u;var _=y.GlobSync=u.GlobSync;function w(t,e,n){if("function"==typeof e&&(n=e,e=null),e&&e.sync){if(n)throw new TypeError("callback provided to sync glob");return new _(t,e)}if(!(this instanceof w))return new w(t,e,n);d(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof n&&(n=b(n),this.on("error",n),this.on("end",function(t){n(null,t)}));var r=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return o();for(var s=!0,a=0;a<i;a++)this._process(this.minimatch.set[a],a,!1,o);function o(){--r._processing,r._processing<=0&&(s?process.nextTick(function(){r._finish()}):r._finish())}s=!1}y.glob=y,y.hasMagic=function(t,e){var n=function(t,e){if(null===e||"object"!=typeof e)return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}({},e);n.noprocess=!0;var i=new w(t,n).minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var r=0;r<i[0].length;r++)if("string"!=typeof i[0][r])return!0;return!1},y.Glob=w,a(w,o),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,n=0;n<this.matches.length;n++)this._realpathSet(n,i)}function i(){0==--t&&e._finish()}},w.prototype._realpathSet=function(t,e){var n=this.matches[t];if(!n)return e();var i=Object.keys(n),s=this,a=i.length;if(0===a)return e();var o=this.matches[t]=Object.create(null);i.forEach(function(n,i){n=s._makeAbs(n),r.realpath(n,s.realpathCache,function(i,r){i?"stat"===i.syscall?o[n]=!0:s.emit("error",i):o[r]=!0,0==--a&&(s.matches[t]=o,e())})})},w.prototype._mark=function(t){return f.mark(this,t)},w.prototype._makeAbs=function(t){return f.makeAbs(this,t)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var n=t[e];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<i.length;e++){var r=i[e];this._processing--,this._process(r[0],r[1],r[2],r[3])}}}},w.prototype._process=function(t,e,n,i){if(c(this instanceof w),c("function"==typeof i),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,n,i]);else{for(var r,a=0;"string"==typeof t[a];)a++;switch(a){case t.length:return void this._processSimple(t.join("/"),e,i);case 0:r=null;break;default:r=t.slice(0,a).join("/")}var o,l=t.slice(a);null===r?o=".":h(r)||h(t.join("/"))?(r&&h(r)||(r="/"+r),o=r):o=r;var u=this._makeAbs(o);if(v(this,o))return i();l[0]===s.GLOBSTAR?this._processGlobStar(r,o,u,l,e,n,i):this._processReaddir(r,o,u,l,e,n,i)}},w.prototype._processReaddir=function(t,e,n,i,r,s,a){var o=this;this._readdir(n,s,function(l,c){return o._processReaddir2(t,e,n,i,r,s,c,a)})},w.prototype._processReaddir2=function(t,e,n,i,r,s,a,o){if(!a)return o();for(var c=i[0],h=!!this.minimatch.negate,u=c._glob,f=this.dot||"."===u.charAt(0),d=[],p=0;p<a.length;p++){if("."!==(v=a[p]).charAt(0)||f)(h&&!t?!v.match(c):v.match(c))&&d.push(v)}var g=d.length;if(0===g)return o();if(1===i.length&&!this.mark&&!this.stat){this.matches[r]||(this.matches[r]=Object.create(null));for(p=0;p<g;p++){var v=d[p];t&&(v="/"!==t?t+"/"+v:t+v),"/"!==v.charAt(0)||this.nomount||(v=l.join(this.root,v)),this._emitMatch(r,v)}return o()}i.shift();for(p=0;p<g;p++){v=d[p];t&&(v="/"!==t?t+"/"+v:t+v),this._process([v].concat(i),r,s,o)}o()},w.prototype._emitMatch=function(t,e){if(!this.aborted&&!m(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var n=h(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var i=this.cache[n];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0;var r=this.statCache[n];r&&this.emit("stat",e,r),this.emit("match",e)}}},w.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var n=this,r=g("lstat\0"+t,function(i,r){if(i&&"ENOENT"===i.code)return e();var s=r&&r.isSymbolicLink();n.symlinks[t]=s,s||!r||r.isDirectory()?n._readdir(t,!1,e):(n.cache[t]="FILE",e())});r&&i.lstat(t,r)}},w.prototype._readdir=function(t,e,n){if(!this.aborted&&(n=g("readdir\0"+t+"\0"+e,n))){if(e&&!p(this.symlinks,t))return this._readdirInGlobStar(t,n);if(p(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}i.readdir(t,function(t,e,n){return function(i,r){i?t._readdirError(e,i,n):t._readdirEntries(e,r,n)}}(this,t,n))}},w.prototype._readdirEntries=function(t,e,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var r=e[i];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,n(null,e)}},w.prototype._readdirError=function(t,e,n){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);r.path=this.cwd,r.code=e.code,this.emit("error",r),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return n()}},w.prototype._processGlobStar=function(t,e,n,i,r,s,a){var o=this;this._readdir(n,s,function(l,c){o._processGlobStar2(t,e,n,i,r,s,c,a)})},w.prototype._processGlobStar2=function(t,e,n,i,r,s,a,o){if(!a)return o();var l=i.slice(1),c=t?[t]:[],h=c.concat(l);this._process(h,r,!1,o);var u=this.symlinks[n],f=a.length;if(u&&s)return o();for(var d=0;d<f;d++){if("."!==a[d].charAt(0)||this.dot){var p=c.concat(a[d],l);this._process(p,r,!0,o);var g=c.concat(a[d],i);this._process(g,r,!0,o)}}o()},w.prototype._processSimple=function(t,e,n){var i=this;this._stat(t,function(r,s){i._processSimple2(t,e,r,s,n)})},w.prototype._processSimple2=function(t,e,n,i,r){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return r();if(t&&h(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=l.join(this.root,t):(t=l.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),r()},w.prototype._stat=function(t,e){var n=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&p(this.cache,n)){var s=this.cache[n];if(Array.isArray(s)&&(s="DIR"),!r||"DIR"===s)return e(null,s);if(r&&"FILE"===s)return e()}var a=this.statCache[n];if(void 0!==a){if(!1===a)return e(null,a);var o=a.isDirectory()?"DIR":"FILE";return r&&"FILE"===o?e():e(null,o,a)}var l=this,c=g("stat\0"+n,function(r,s){if(s&&s.isSymbolicLink())return i.stat(n,function(i,r){i?l._stat2(t,n,null,s,e):l._stat2(t,n,i,r,e)});l._stat2(t,n,r,s,e)});c&&i.lstat(n,c)},w.prototype._stat2=function(t,e,n,i,r){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[e]=!1,r();var s="/"===t.slice(-1);if(this.statCache[e]=i,"/"===e.slice(-1)&&i&&!i.isDirectory())return r(null,!1,i);var a=!0;return i&&(a=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||a,s&&"FILE"===a?r():r(null,a,i)}},function(t,e,n){t.exports=h,h.realpath=h,h.sync=u,h.realpathSync=u,h.monkeypatch=function(){i.realpath=h,i.realpathSync=u},h.unmonkeypatch=function(){i.realpath=r,i.realpathSync=s};var i=n(0),r=i.realpath,s=i.realpathSync,a=process.version,o=/^v[0-5]\./.test(a),l=n(55);function c(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function h(t,e,n){if(o)return r(t,e,n);"function"==typeof e&&(n=e,e=null),r(t,e,function(i,r){c(i)?l.realpath(t,e,n):n(i,r)})}function u(t,e){if(o)return s(t,e);try{return s(t,e)}catch(n){if(c(n))return l.realpathSync(t,e);throw n}}},function(t,e){t.exports=require("events")},function(t,e,n){function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.alphasort=c,e.alphasorti=l,e.setopts=function(t,e,n){n||(n={});if(n.matchBase&&-1===e.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!n.silent,t.pattern=e,t.strict=!1!==n.strict,t.realpath=!!n.realpath,t.realpathCache=n.realpathCache||Object.create(null),t.follow=!!n.follow,t.dot=!!n.dot,t.mark=!!n.mark,t.nodir=!!n.nodir,t.nodir&&(t.mark=!0);t.sync=!!n.sync,t.nounique=!!n.nounique,t.nonull=!!n.nonull,t.nosort=!!n.nosort,t.nocase=!!n.nocase,t.stat=!!n.stat,t.noprocess=!!n.noprocess,t.absolute=!!n.absolute,t.maxLength=n.maxLength||1/0,t.cache=n.cache||Object.create(null),t.statCache=n.statCache||Object.create(null),t.symlinks=n.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(h))}(t,n),t.changedCwd=!1;var s=process.cwd();i(n,"cwd")?(t.cwd=r.resolve(n.cwd),t.changedCwd=t.cwd!==s):t.cwd=s;t.root=n.root||r.resolve(t.cwd,"/"),t.root=r.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=a(t.cwd)?t.cwd:u(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,t.minimatch=new o(e,n),t.options=t.minimatch.options},e.ownProp=i,e.makeAbs=u,e.finish=function(t){for(var e=t.nounique,n=e?[]:Object.create(null),i=0,r=t.matches.length;i<r;i++){var s=t.matches[i];if(s&&0!==Object.keys(s).length){var a=Object.keys(s);e?n.push.apply(n,a):a.forEach(function(t){n[t]=!0})}else if(t.nonull){var o=t.minimatch.globSet[i];e?n.push(o):n[o]=!0}}e||(n=Object.keys(n));t.nosort||(n=n.sort(t.nocase?l:c));if(t.mark){for(var i=0;i<n.length;i++)n[i]=t._mark(n[i]);t.nodir&&(n=n.filter(function(e){var n=!/\/$/.test(e),i=t.cache[e]||t.cache[u(t,e)];return n&&i&&(n="DIR"!==i&&!Array.isArray(i)),n}))}t.ignore.length&&(n=n.filter(function(e){return!f(t,e)}));t.found=n},e.mark=function(t,e){var n=u(t,e),i=t.cache[n],r=e;if(i){var s="DIR"===i||Array.isArray(i),a="/"===e.slice(-1);if(s&&!a?r+="/":!s&&a&&(r=r.slice(0,-1)),r!==e){var o=u(t,r);t.statCache[o]=t.statCache[n],t.cache[o]=t.cache[n]}}return r},e.isIgnored=f,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return!(!t.gmatcher||!t.gmatcher.match(e))})};var r=n(1),s=n(14),a=n(15),o=s.Minimatch;function l(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function c(t,e){return t.localeCompare(e)}function h(t){var e=null;if("/**"===t.slice(-3)){var n=t.replace(/(\/\*\*)+$/,"");e=new o(n,{dot:!0})}return{matcher:new o(t,{dot:!0}),gmatcher:e}}function u(t,e){var n=e;return n="/"===e.charAt(0)?r.join(t.root,e):a(e)||""===e?e:t.changedCwd?r.resolve(t.cwd,e):r.resolve(e),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))})}},function(t,e){t.exports=function t(e,n){if(e&&n)return t(e)(n);if("function"!=typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){i[t]=e[t]});return i;function i(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var i=e.apply(this,t),r=t[t.length-1];return"function"==typeof i&&i!==r&&Object.keys(r).forEach(function(t){i[t]=r[t]}),i}}},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";var i=n(9);t.exports=b;var r,s=n(70);b.ReadableState=m;n(21).EventEmitter;var a=function(t,e){return t.listeners(e).length},o=n(26),l=n(6).Buffer,c=global.Uint8Array||function(){};var h=n(7);h.inherits=n(3);var u=n(2),f=void 0;f=u&&u.debuglog?u.debuglog("stream"):function(){};var d,p=n(72),g=n(27);h.inherits(b,o);var v=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var i=e instanceof(r=r||n(4));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var s=t.highWaterMark,a=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:i&&(a||0===a)?a:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(29).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(r=r||n(4),!(this instanceof b))return new b(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function y(t,e,n,i,r){var s,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}(t,a)):(r||(s=function(t,e){var n;i=e,l.isBuffer(i)||i instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(a,e)),s?t.emit("error",s):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):S(t,a)):_(t,a,e,!1))):i||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),S(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=l.from(t,e),e=""),n=!0),y(this,t,e,!1,n)},b.prototype.unshift=function(t){return y(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=n(29).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var w=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(k,t):k(t))}function k(t){f("emit readable"),t.emit("readable"),L(t)}function S(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){f("readable nexttick read 0"),t.read(0)}function A(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var s=n.data,a=t>s.length?s.length:t;if(a===s.length?r+=s:r+=s.slice(0,t),0===(t-=a)){a===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(a));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=l.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var s=i.data,a=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,a),0===(t-=a)){a===s.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(a));break}++r}return e.length-=r,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function P(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(D,e,t))}function D(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function j(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?P(this):E(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&P(this),null;var i,r=e.needReadable;return f("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",r=!0),e.ended||e.reading?f("reading or ended",r=!1):r&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(i=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&P(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,f("pipe count=%d opts=%j",r.pipesCount,e);var o=(!e||!1!==e.end)&&t!==process.stdout&&t!==process.stderr?c:b;function l(e,i){f("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,f("cleanup"),t.removeListener("close",v),t.removeListener("finish",m),t.removeListener("drain",h),t.removeListener("error",g),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",p),u=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function c(){f("onend"),t.end()}r.endEmitted?i.nextTick(o):n.once("end",o),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,L(t))}}(n);t.on("drain",h);var u=!1;var d=!1;function p(e){f("ondata"),d=!1,!1!==t.write(e)||d||((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==j(r.pipes,t))&&!u&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(e){f("onerror",e),b(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",m),b()}function m(){f("onfinish"),t.removeListener("close",v),b()}function b(){f("unpipe"),n.unpipe(t)}return n.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",v),t.once("finish",m),t.emit("pipe",n),r.flowing||(f("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<r;s++)i[s].emit("unpipe",this,n);return this}var a=j(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=o.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(M,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(A,t,e))}(this,t)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){(f("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var s=0;s<v.length;s++)t.on(v[s],this.emit.bind(this,v[s]));return this._read=function(e){f("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O},function(t,e,n){t.exports=n(24)},function(t,e,n){"use strict";var i=n(9);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var i=n(9);function r(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var s,a=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:i.nextTick;v.WritableState=g;var o=n(7);o.inherits=n(3);var l={deprecate:n(73)},c=n(26),h=n(6).Buffer,u=global.Uint8Array||function(){};var f,d=n(27);function p(){}function g(t,e){s=s||n(4),t=t||{};var o=e instanceof s;this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var l=t.highWaterMark,c=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:o&&(c||0===c)?c:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,s=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,s){--e.pendingcb,n?(i.nextTick(s,r),i.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(s(r),t._writableState.errorEmitted=!0,t.emit("error",r),x(t,e))}(t,n,r,e,s);else{var o=_(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(t,n),r?a(b,t,n,o,s):b(t,n,o,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function v(t){if(s=s||n(4),!(f.call(v,this)||this instanceof s))return new v(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function m(t,e,n,i,r,s,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function b(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),x(t,e)}function y(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,s=new Array(i),a=e.corkedRequestsFree;a.entry=n;for(var o=0,l=!0;n;)s[o]=n,n.isBuf||(l=!1),n=n.next,o+=1;s.allBuffers=l,m(t,e,!0,e.length,s,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new r(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,u=n.callback;if(m(t,e,!1,e.objectMode?1:c.length,c,h,u),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function w(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),x(t,e)})}function x(t,e){var n=_(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(w,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}o.inherits(v,c),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===v&&(t&&t._writableState instanceof g)}})):f=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var r,s=this._writableState,a=!1,o=!s.objectMode&&(r=t,h.isBuffer(r)||r instanceof u);return o&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof n&&(n=p),s.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(o||function(t,e,n,r){var s=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(r,a),s=!1),s}(this,s,t,n))&&(s.pendingcb++,a=function(t,e,n,i,r,s){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n));return e}(e,i,r);i!==a&&(n=!0,r="buffer",i=a)}var o=e.objectMode?1:i.length;e.length+=o;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else m(t,e,!1,o,i,r,s);return l}(this,s,o,t,e,n)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||y(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,x(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=d.destroy,v.prototype._undestroy=d.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}},function(t,e,n){"use strict";var i=n(6).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=h,this.end=u,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function o(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},s.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=a(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=a;var i=n(4),r=n(7);function s(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);i.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",o)}function o(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){l(t,e,n)}):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(3),r.inherits(a,i),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){var i=n(32),r=n(33),s="0".charCodeAt(0),a=parseInt("7777",8),o=function(t,e,n,i){for(;n<i;n++)if(t[n]===e)return n;return i},l=function(t){for(var e=256,n=0;n<148;n++)e+=t[n];for(var i=156;i<512;i++)e+=t[i];return e},c=function(t,e){return(t=t.toString(8)).length>e?"7777777777777777777".slice(0,e)+" ":"0000000000000000000".slice(0,e-t.length)+t+" "};var h=function(t,e,n){if(128&(t=t.slice(e,e+n))[e=0])return function(t){var e;if(128===t[0])e=!0;else{if(255!==t[0])return null;e=!1}for(var n=!1,i=[],r=t.length-1;r>0;r--){var s=t[r];e?i.push(s):n&&0===s?i.push(0):n?(n=!1,i.push(256-s)):i.push(255-s)}var a=0,o=i.length;for(r=0;r<o;r++)a+=i[r]*Math.pow(256,r);return e?a:-1*a}(t);for(;e<t.length&&32===t[e];)e++;for(var i=(r=o(t,32,e,t.length),s=t.length,a=t.length,"number"!=typeof r?a:(r=~~r)>=s?s:r>=0?r:(r+=s)>=0?r:0);e<i&&0===t[e];)e++;return i===e?0:parseInt(t.slice(e,i).toString(),8);var r,s,a},u=function(t,e,n,i){return t.slice(e,o(t,0,e,e+n)).toString(i)},f=function(t){var e=Buffer.byteLength(t),n=Math.floor(Math.log(e)/Math.log(10))+1;return e+n>=Math.pow(10,n)&&n++,e+n+t};e.decodeLongPath=function(t,e){return u(t,0,t.length,e)},e.encodePax=function(t){var e="";t.name&&(e+=f(" path="+t.name+"\n")),t.linkname&&(e+=f(" linkpath="+t.linkname+"\n"));var n=t.pax;if(n)for(var r in n)e+=f(" "+r+"="+n[r]+"\n");return i(e)},e.decodePax=function(t){for(var e={};t.length;){for(var n=0;n<t.length&&32!==t[n];)n++;var i=parseInt(t.slice(0,n).toString(),10);if(!i)return e;var r=t.slice(n+1,i-1).toString(),s=r.indexOf("=");if(-1===s)return e;e[r.slice(0,s)]=r.slice(s+1),t=t.slice(i)}return e},e.encode=function(t){var e=r(512),n=t.name,i="";if(5===t.typeflag&&"/"!==n[n.length-1]&&(n+="/"),Buffer.byteLength(n)!==n.length)return null;for(;Buffer.byteLength(n)>100;){var o=n.indexOf("/");if(-1===o)return null;i+=i?"/"+n.slice(0,o):n.slice(0,o),n=n.slice(o+1)}return Buffer.byteLength(n)>100||Buffer.byteLength(i)>155?null:t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(n),e.write(c(t.mode&a,6),100),e.write(c(t.uid,6),108),e.write(c(t.gid,6),116),e.write(c(t.size,11),124),e.write(c(t.mtime.getTime()/1e3|0,11),136),e[156]=s+function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(t.type),t.linkname&&e.write(t.linkname,157),e.write("ustar\x0000",257),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(c(t.devmajor||0,6),329),e.write(c(t.devminor||0,6),337),i&&e.write(i,345),e.write(c(l(e),6),148),e)},e.decode=function(t,e){var n=0===t[156]?0:t[156]-s,i=u(t,0,100,e),r=h(t,100,8),a=h(t,108,8),o=h(t,116,8),c=h(t,124,12),f=h(t,136,12),d=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(n),p=0===t[157]?null:u(t,157,100,e),g=u(t,265,32),v=u(t,297,32),m=h(t,329,8),b=h(t,337,8);t[345]&&(i=u(t,345,155,e)+"/"+i),0===n&&i&&"/"===i[i.length-1]&&(n=5);var y=l(t);if(256===y)return null;if(y!==h(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");return{name:i,mode:r,uid:a,gid:o,size:c,mtime:new Date(1e3*f),type:d,linkname:p,uname:g,gname:v,devmajor:m,devminor:b}}},function(t,e){t.exports=function(t,e){if(Buffer.isBuffer(t))return t;if("string"==typeof t)return n(t,e);if(Array.isArray(t))return n(t);throw new Error("Input should be a buffer or a string")};var n=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from:function(t,e){return new Buffer(t,e)}},function(t,e,n){var i=n(76),r=n(77);t.exports=function(t,e,n){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(t,e,n);var s=r(t);return 0===t?s:void 0===e?i(s,0):("string"!=typeof n&&(n=void 0),i(s,e,n))}},function(t,e,n){var i=n(8),r=function(){},s=function(t,e,n){if("function"==typeof e)return s(t,null,e);e||(e={}),n=i(n||r);var a=t._writableState,o=t._readableState,l=e.readable||!1!==e.readable&&t.readable,c=e.writable||!1!==e.writable&&t.writable,h=function(){t.writable||u()},u=function(){c=!1,l||n.call(t)},f=function(){l=!1,c||n.call(t)},d=function(e){n.call(t,e?new Error("exited with error code: "+e):null)},p=function(e){n.call(t,e)},g=function(){return(!l||o&&o.ended)&&(!c||a&&a.ended)?void 0:n.call(t,new Error("premature close"))},v=function(){t.req.on("finish",u)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?c&&!a&&(t.on("end",h),t.on("close",h)):(t.on("complete",u),t.on("abort",g),t.req?v():t.on("request",v)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",d),t.on("end",f),t.on("finish",u),!1!==e.error&&t.on("error",p),t.on("close",g),function(){t.removeListener("complete",u),t.removeListener("abort",g),t.removeListener("request",v),t.req&&t.req.removeListener("finish",u),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",u),t.removeListener("exit",d),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",g)}};t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=new(n(36).default);e.activate=function(t){i.activate()},e.deactivate=function(){i.deactivate()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(37),r=n(38),s=n(43),a=n(45),o=n(47),l=n(48),c=n(50),h=n(51),u=n(87),f=n(88),d=n(89);e.default=class extends c.default{activate(){this.initialize(),this.subscriptions=new i.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"serenade:initialize":()=>this.initialize(),"serenade:show-transcript-input":()=>this.showTranscriptInput(),"serenade:restart":()=>this.restart()}))}deactivate(){this.destroy(),this.subscriptions.dispose()}initialize(){if(this.ipc)return;this.state=new f.default,this.settings=new u.default,this.clientRunner=new h.default(this.state,this.settings).get(),new o.default(this.state);const t=new a.default(this,this.state,this.settings);this.ipc=new l.default(this,this.state,t,this.clientRunner);const e=new r.default(this.state,this.ipc,this.settings,new s.default);this.transcriptInputView=new d.default(this,this.ipc),e.initialize(),this.run()}focusEditor(){void 0!==this.currentEditor&&atom.workspace.paneForItem(this.currentEditor).activate()}restart(){this.clientRunner.kill(),this.clientRunner.installAndRun(()=>{})}showTranscriptInput(){this.initialize(),this.setCurrentEditor(),this.transcriptInputView.show()}setCurrentEditor(){this.currentEditor=atom.workspace.getActiveTextEditor()}}},function(t,e){t.exports=require("atom")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(39),r=n(16);e.default=class extends i.default{constructor(t,e,n,i){super(),this.state=t,this.ipc=e,this.settings=n,this.alternativesPanel=i}createPanel(){this.container=document.createElement("div"),this.container.innerHTML=this.alternativesPanel.html(),this.$(".input-login-email").getModel().setPlaceholderText("Email"),this.$(".input-login-password").getModel().setPlaceholderText("Password"),this.$(".input-register-name").getModel().setPlaceholderText("Full name"),this.$(".input-register-email").getModel().setPlaceholderText("Email"),this.$(".input-register-password").getModel().setPlaceholderText("Password"),this.panel=atom.workspace.addRightPanel({item:this.container,visible:!1}),this.panel.show()}$(t){return this.container.querySelector(t)}$$(t){return this.container.querySelectorAll(t)}addComputedStyleElement(t){this.container.appendChild(t)}initialize(){this.createPanel();const t=Object.getPrototypeOf(this),e=this.eventHandlers();for(const n of Object.keys(e))this.state.subscribe(n,(i,r)=>{t[e[n].name].call(this,i,r)});super.initialize()}getLoginFields(){return{email:this.$(".input-login-email").getModel().getText(),password:this.$(".input-login-password").getModel().getText()}}getRegisterFields(){return{name:this.$(".input-register-name").getModel().getText(),email:this.$(".input-register-email").getModel().getText(),password:this.$(".input-register-password").getModel().getText()}}getState(t){return this.state.get(t)}onHighlightedRanges(t,e){const n=[1,2,3,4,3,2,1],i=250/n.length,s=atom.workspace.getActiveTextEditor();if(s&&0!=t.length)for(let e of t)for(let t=0;t<n.length;t++)setTimeout(()=>{const a=s.markBufferRange([e.start,e.stop]);s.decorateMarker(a,{type:"highlight",class:e.diffRangeType==r.DiffRangeType.Delete?`error-color-${n[t]}`:`success-color-${n[t]}`}),setTimeout(()=>{a.destroy()},i)},t*i)}sendIPC(t,e){this.ipc.send(t,e)}setState(t,e){this.state.set(t,e)}setupLoginEvents(){this.$(".input-login-email").addEventListener("keyup",t=>{13===t.which&&this.login()}),this.$(".input-login-password").addEventListener("keyup",t=>{13===t.which&&this.login()}),this.$(".btn-login").addEventListener("click",()=>{this.login()})}setupRegisterEvents(){this.$(".input-register-name").addEventListener("keyup",t=>{13===t.which&&this.register()}),this.$(".input-register-email").addEventListener("keyup",t=>{13===t.which&&this.register()}),this.$(".input-register-password").addEventListener("keyup",t=>{13===t.which&&this.register()}),this.$(".btn-register").addEventListener("click",()=>{this.register()})}showDocsPanel(t){const e=this.getState("docs");this.setState("docs",e!==t&&t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(40),r=n(41);e.default=class{constructor(){this.successColorLight="success-color-4"}$(t){return document.querySelector(t)}$$(t){return document.querySelectorAll(t)}alternativeRows(t,e){let n=1;return t.map(t=>{let i="",r=n.toString();if(t.sequences&&1===t.sequences.length&&t.sequences[0].commands&&1===t.sequences[0].commands.length&&"COMMAND_TYPE_INVALID"===t.sequences[0].commands[0].type){if(r="&times",i="invalid",e.validOnly)return null}else if(n++,e.invalidOnly)return null;let s=t.sequences.some(t=>t.commands.some(t=>"COMMAND_TYPE_SNIPPET_EXECUTED"===t.type)),a=t.description.replace(/<code>([\s\S]+)<\/code>/g,(t,n)=>n.includes("\n")||s?(s=!0,`<div class="alternative-code"><pre>${this.escapeText(n)}</pre></div>`):(e&&e.truncate&&(n=this.truncate(n,e.truncate)),` <pre class="inline">${this.escapeText(n)}</pre>`));return`\n    <a class="alternative-row ${i} ${s?"has-newline":""}" data-index="${r}">\n        <div class="alternative-number">${r}</div>\n        <div class="alternative-description">${a}</div>\n    </a>`}).filter(t=>null!==t)}createStyleRule(t){let e=document.createElement("style");this.addComputedStyleElement(e),e.sheet.insertRule(t,0)}escapeText(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t}eventHandlers(){return{alternatives:this.onAlternatives,appState:this.onAppState,clientRunning:this.onClientRunning,highlightedAlternative:this.onHighlightedAlternative,highlightedRanges:this.onHighlightedRanges,listening:this.onListening,loading:this.onLoading,loginError:this.onLoginError,nuxCompleted:this.onNuxCompleted,nuxStep:this.onNuxStep,status:this.onStatus,volume:this.onVolume}}extractColor(t){const e=getComputedStyle(this.$(`.${t}-placeholder`))["background-color"].match(/\d+/g);this.$(`.${t}-placeholder`).style.display="none";let n=`${e[0]}, ${e[1]}, ${e[2]}`;this.setState("setColor",{name:t,value:n});for(let e=1;e<=10;e++)this.createStyleRule(`.${t}-${e} { background: rgba(${n}, ${e/10}); }`)}initialize(){this.$(".btn-pre-login").addEventListener("click",()=>{this.$(".alternatives-login").classList.remove("hidden"),this.$(".alternatives-register").classList.add("hidden"),this.$(".alternatives-pre-login-buttons").classList.add("hidden")}),this.$$(".btn-pre-register").forEach(t=>{t.addEventListener("click",()=>{this.$(".alternatives-register").classList.remove("hidden"),this.$(".alternatives-login").classList.add("hidden"),this.$(".alternatives-pre-login-buttons").classList.add("hidden")})}),this.$(".btn-pre-skip").addEventListener("click",()=>{this.$(".btn-pre-skip").setAttribute("href","#"),this.$(".btn-pre-skip .lds-ring").classList.remove("hidden"),this.sendIPC("REGISTER_WITHOUT_SIGNUP",{})}),this.$(".btn-menu").addEventListener("click",()=>{this.$(".btn-menu i").classList.toggle("active");let t=this.$(".menu-dropdown");t.classList.contains("active")?(t.classList.toggle("active"),setTimeout(()=>{t.classList.add("hidden")},200)):(t.classList.remove("hidden"),setTimeout(()=>{t.classList.toggle("active")},1))}),this.$(".btn-listen").addEventListener("click",()=>{this.setState("listening",!this.getState("listening"))}),this.$(".btn-guide").addEventListener("click",()=>{this.showDocsPanel("https://docs.serenade.ai")}),this.$(".btn-reference").addEventListener("click",()=>{this.showDocsPanel("https://docs.serenade.ai/docs/reference.html")}),this.$(".btn-clear").addEventListener("click",()=>{this.sendIPC("SEND_TEXT",{text:"cancel"})}),this.$(".alternatives-valid-list").addEventListener("click",t=>{const e=t.target.closest(".alternative-row");if(e.classList.contains("suggestion"))return;const n=e.getAttribute("data-index");this.sendIPC("SEND_TEXT",{text:`use ${n}`})}),this.$(".alternatives-valid-list").addEventListener("mouseover",t=>{const e=t.target.closest(".alternative-row");null!=e&&e.classList.add(this.successColorLight)}),this.$(".alternatives-valid-list").addEventListener("mouseout",t=>{const e=t.target.closest(".alternative-row");null==e||e.classList.contains("highlighted")||e.classList.remove(this.successColorLight)}),this.setupLoginEvents(),this.setupRegisterEvents(),this.extractColor("success-color"),this.extractColor("error-color")}login(){this.$(".btn-login .lds-ring").classList.remove("hidden"),this.$(".btn-login").setAttribute("disabled","true"),this.sendIPC("AUTHENTICATE",this.getLoginFields())}onAlternatives(t,e){if("alternatives"in t){let e="";0===t.alternatives.length?"files"===t.alternativeType&&(e="No matching files found"):t.alternatives.length>1&&(e="Did you mean");const n=this.alternativeRows(t.alternatives,{truncate:"files"===t.alternativeType?50:void 0,validOnly:!0}),i=this.$(".alternatives-valid");n.length>0?(i.classList.remove("hidden"),this.$(".alternatives-valid-header").innerHTML="files"===t.alternativeType?"Select a file":"Select a command",this.$(".alternatives-valid-list").innerHTML=n.join("")):i.classList.add("hidden");const r=this.alternativeRows(t.alternatives,{invalidOnly:!0}),s=this.$(".alternatives-invalid");r.length>0?(s.classList.remove("hidden"),this.$(".alternatives-invalid-header").innerHTML="Invalid commands",this.$(".alternatives-invalid-list").innerHTML=r.join("")):s.classList.add("hidden")}else if(t.suggestions||!e||e&&"alternatives"in e){const t=this.getState("nuxCompleted");this.$(".alternatives-valid").classList.remove("hidden"),this.$(".alternatives-valid-header").innerHTML=t?"Try saying":"",this.$(".alternatives-valid-list").innerHTML=t?r.random(5):"",this.$(".alternatives-invalid").classList.add("hidden"),this.$(".alternatives-invalid-header").innerHTML="",this.$(".alternatives-invalid-list").innerHTML=""}}onAppState(t,e){this.$(".alternatives-panel").classList.remove("hidden");const n=this.$(".alternatives-login-container"),i=this.$(".alternatives-volume-container"),r=this.$(".alternatives-list-container"),s=this.$(".nux");"LOADING"===t?(n.classList.add("hidden"),i.classList.add("hidden"),r.classList.add("hidden"),s.classList.add("hidden")):"LOGIN_FORM"===t?(n.classList.remove("hidden"),i.classList.add("hidden"),r.classList.add("hidden"),s.classList.add("hidden"),this.$(".alternatives-status").innerHTML=""):"READY"===t&&(n.classList.add("hidden"),i.classList.remove("hidden"),r.classList.remove("hidden"),this.setState("status","Not connected"),this.getState("nuxCompleted")||s.classList.remove("hidden"))}onClientRunning(t,e){const n=this.$(".btn-listen");t?(n.removeAttribute("disabled"),n.innerHTML="Listen"):(n.setAttribute("disabled","true"),n.innerHTML="Loading...")}onHighlightedAlternative(t,e){if(!("alternatives"in this.getState("alternatives")))return;const n=this.$$(".alternatives-valid-list .alternative-row:not(.invalid)");if(t<n.length){this.$(".alternatives-valid-header").innerHTML="Ran command";const e=n[t];e.classList.add(this.successColorLight),e.classList.add("highlighted"),e.querySelector(".alternative-number").innerHTML='<i class="fas fa-check"></i>'}}onHighlightedRanges(t,e){}onListening(t,e){this.getState("clientRunning")&&(this.$(".btn-listen").innerHTML=t?"Pause":"Listen"),t&&this.setState("alternatives",{suggestions:!0})}onLoading(t,e){t&&(this.$(".alternatives-valid-header").innerHTML='<div class="lds-ring"><div></div><div></div><div></div><div></div></div>Loading...')}onLoginError(t,e){this.$(".btn-login").removeAttribute("disabled"),this.$(".btn-login .lds-ring").classList.add("hidden"),this.$(".btn-register").removeAttribute("disabled"),this.$(".btn-register .lds-ring").classList.add("hidden"),this.$$(".login-error").forEach(e=>{e.classList.remove("hidden"),e.innerHTML=t})}onNuxCompleted(t,e){t?this.$(".nux").classList.add("hidden"):(this.setState("nuxStep",0),this.$(".nux").classList.remove("hidden"),this.$(".btn-nux-next").addEventListener("click",()=>{const t=this.getState("nuxStep");t<i.steps().length-1?this.setState("nuxStep",t+1):(this.setState("nuxCompleted",!0),this.setState("alternatives",{suggestions:!0}))}),this.$(".btn-nux-back").addEventListener("click",()=>{const t=this.getState("nuxStep");t>0&&this.setState("nuxStep",t-1)}))}onNuxStep(t,e){const n=i.steps(),r=n[t];this.$(".btn-nux-next").innerHTML=t===n.length-1?"Close":"Next &rsaquo;",this.$(".nux-progress").style.width=Math.ceil(t/(n.length-1)*100)+"%",this.$(".nux-heading").innerHTML=r.title,this.$(".nux-body").innerHTML=r.body;const s=this.$(".btn-nux-back");0==t?s.classList.add("hidden"):s.classList.remove("hidden")}onStatus(t,e){this.$(".alternatives-status").innerHTML=t,"Listening"==t?this.$(".listening-indicator").classList.remove("hidden"):this.$(".listening-indicator").classList.add("hidden")}onVolume(t,e){this.$(".alternatives-bar").style.width=(t||0)+"%"}register(){this.$(".btn-register .lds-ring").classList.remove("hidden"),this.$(".btn-register").setAttribute("disabled","true"),this.sendIPC("REGISTER",this.getRegisterFields())}truncate(t,e){return t.length<=e?t:(e-="...".length,e=Math.floor(e/2),t.substr(0,e)+"..."+t.substr(t.length-e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.steps=function(){return[{title:"Welcome to Serenade!",body:"<p>This guide will walk you through writing your first code with voice.</p>"},{title:"Setup",body:"<p>You should keep Serenade open in a panel that's side-by-side with the code you're editing, since you'll need to see what's displayed here.</p>"},{title:"Alternatives",body:'<p>As you speak, you\'ll see a list of alternatives appear below. This list appears when Serenade isn\'t exactly sure what you said. When it appears, you can say "clear" to clear the list and start over, or "use" followed by the number you want to select, like "use one" or "use three".</p><p>You can also pause while speaking, and Serenade will wait for you; there\'s no need to try to say an entire command in one breath.</p>'},{title:"Adding code",body:'<p>Now, let\'s write some Python with voice. First, create a new Python file called hello.py. Then, press the "Listen" button above. Try saying:</p><code>add import random</code><p>To select an alternative, say "use" followed by the number you want. Or, you can say "clear" to try again.</p>'},{title:"Undo",body:'<p>If you accidentally select the wrong alternative, you can always say "undo" to go back. "redo" also works.</p>'},{title:"Add function",body:'<p>Next, create a new function by saying:</p><code>add function get random</code><p>Then, select which alternative you want with a "use" command.</p>'},{title:"Add parameter",body:'<p>Add a parameter called "number" to that function by saying:</p><code>add parameter number</code><p>Then, say a "use" command.</p>'},{title:"Add return",body:'<p>Let\'s give the function a body. Add a return statement by saying:</p><code>add return 4</code><p>Then, say a "use" command.</p>'},{title:"Cursor movement",body:'<p>You can move around the cursor with commands like "up", "next line", or "line one". Try saying:</p><code>line one</code>'},{title:"Deletion",body:"<p>Now, to delete the import statement you added earlier, say:</p><code>delete line</code>"},{title:"Learn more",body:'<p>That\'s it for our introduction! As a next step, take a look at the <a href="https://docs.serenade.ai">Serenade guide</a> to learn more.</p>'}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.random=function(t){let e=["new tab","next tab","previous tab","close tab","go to tab three","next word","next line","previous line","split left","split right","left window","right window","line one","copy next two words","go to phrase hello world","paste","cut function","copy class","delete if","indent line two times","indent next five lines","dedent line","save","style file","undo","redo","copy phrase foobar","change return value to 50","newline","next character","previous word","go to end of line","go to start of word","delete to end of line","delete three words","go to third character","go to second word","delete second argument","copy previous five lines","delete last four words","next class","previous function","go to return value","cut third import","type function","type pascal case hello world","type underscores hello world","type all caps hello world","add argument bar","add function called hello","add parameter foo","add class styler","add import requests","add import numpy as np","add assert false","add decorator app dot get","add return true","add if a less than three","add method init","add return","add while counter greater than zero","add try","add print hi","add function underscore get","add parent exception","add call say with argument message"],n=[];for(let i=0;i<t;i++)n.push(e.splice(Math.floor(Math.random()*e.length),1)[0]);return n.map(t=>`\n<a class="alternative-row suggestion">\n    <div class="alternative-description">${t}</div>\n</a>\n    `).join("")}},function(t,e){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};n.Diff=function(t,e){this[0]=t,this[1]=e},n.Diff.prototype.length=2,n.Diff.prototype.toString=function(){return this[0]+","+this[1]},n.prototype.diff_main=function(t,e,i,r){if(void 0===r&&(r=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[new n.Diff(0,t)]:[];void 0===i&&(i=!0);var s=i,a=this.diff_commonPrefix(t,e);i=t.substring(0,a),t=t.substring(a),e=e.substring(a),a=this.diff_commonSuffix(t,e);var o=t.substring(t.length-a);return t=t.substring(0,t.length-a),e=e.substring(0,e.length-a),t=this.diff_compute_(t,e,s,r),i&&t.unshift(new n.Diff(0,i)),o&&t.push(new n.Diff(0,o)),this.diff_cleanupMerge(t),t},n.prototype.diff_compute_=function(t,e,i,r){if(!t)return[new n.Diff(1,e)];if(!e)return[new n.Diff(-1,t)];var s=t.length>e.length?t:e,a=t.length>e.length?e:t,o=s.indexOf(a);return-1!=o?(i=[new n.Diff(1,s.substring(0,o)),new n.Diff(0,a),new n.Diff(1,s.substring(o+a.length))],t.length>e.length&&(i[0][0]=i[2][0]=-1),i):1==a.length?[new n.Diff(-1,t),new n.Diff(1,e)]:(s=this.diff_halfMatch_(t,e))?(e=s[1],a=s[3],t=s[4],s=this.diff_main(s[0],s[2],i,r),i=this.diff_main(e,a,i,r),s.concat([new n.Diff(0,t)],i)):i&&100<t.length&&100<e.length?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,i){var r=this.diff_linesToChars_(t,e);t=r.chars1,e=r.chars2,r=r.lineArray,t=this.diff_main(t,e,!1,i),this.diff_charsToLines_(t,r),this.diff_cleanupSemantic(t),t.push(new n.Diff(0,""));for(var s=r=e=0,a="",o="";e<t.length;){switch(t[e][0]){case 1:s++,o+=t[e][1];break;case-1:r++,a+=t[e][1];break;case 0:if(1<=r&&1<=s){for(t.splice(e-r-s,r+s),e=e-r-s,s=(r=this.diff_main(a,o,!1,i)).length-1;0<=s;s--)t.splice(e,0,r[s]);e+=r.length}r=s=0,o=a=""}e++}return t.pop(),t},n.prototype.diff_bisect_=function(t,e,i){for(var r=t.length,s=e.length,a=Math.ceil((r+s)/2),o=2*a,l=Array(o),c=Array(o),h=0;h<o;h++)l[h]=-1,c[h]=-1;l[a+1]=0,c[a+1]=0;for(var u=0!=(h=r-s)%2,f=0,d=0,p=0,g=0,v=0;v<a&&!((new Date).getTime()>i);v++){for(var m=-v+f;m<=v-d;m+=2){for(var b=a+m,y=m==-v||m!=v&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1,_=y-m;y<r&&_<s&&t.charAt(y)==e.charAt(_);)y++,_++;if(l[b]=y,y>r)d+=2;else if(_>s)f+=2;else if(u&&(0<=(b=a+h-m)&&b<o&&-1!=c[b])){var w=r-c[b];if(y>=w)return this.diff_bisectSplit_(t,e,y,_,i)}}for(m=-v+p;m<=v-g;m+=2){for(b=a+m,y=(w=m==-v||m!=v&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1)-m;w<r&&y<s&&t.charAt(r-w-1)==e.charAt(s-y-1);)w++,y++;if(c[b]=w,w>r)g+=2;else if(y>s)p+=2;else if(!u&&(0<=(b=a+h-m)&&b<o&&-1!=l[b]&&(_=a+(y=l[b])-b,y>=(w=r-w))))return this.diff_bisectSplit_(t,e,y,_,i)}}return[new n.Diff(-1,t),new n.Diff(1,e)]},n.prototype.diff_bisectSplit_=function(t,e,n,i,r){var s=t.substring(0,n),a=e.substring(0,i);return t=t.substring(n),e=e.substring(i),s=this.diff_main(s,a,!1,r),r=this.diff_main(t,e,!1,r),s.concat(r)},n.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,a=-1,o=i.length;a<t.length-1;){-1==(a=t.indexOf("\n",n))&&(a=t.length-1);var l=t.substring(n,a+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?e+=String.fromCharCode(r[l]):(o==s&&(l=t.substring(n),a=t.length),e+=String.fromCharCode(o),r[l]=o,i[o++]=l),n=a+1}return e}var i=[],r={};i[0]="";var s=4e4,a=n(t);return s=65535,{chars1:a,chars2:n(e),lineArray:i}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n][1],r=[],s=0;s<i.length;s++)r[s]=e[i.charCodeAt(s)];t[n][1]=r.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,s=0;n<r;)t.substring(s,r)==e.substring(s,r)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return r},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,s=0;n<r;)t.substring(t.length-r,t.length-s)==e.substring(e.length-r,e.length-s)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return r},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,i=e.length;if(0==n||0==i)return 0;if(n>i?t=t.substring(n-i):n<i&&(e=e.substring(0,n)),n=Math.min(n,i),t==e)return n;i=0;for(var r=1;;){var s=t.substring(n-r);if(-1==(s=e.indexOf(s)))return i;r+=s,0!=s&&t.substring(n-r)!=e.substring(0,r)||(i=r,r++)}},n.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var i,r,a,o,l=t.substring(n,n+Math.floor(t.length/4)),c=-1,h="";-1!=(c=e.indexOf(l,c+1));){var u=s.diff_commonPrefix(t.substring(n),e.substring(c)),f=s.diff_commonSuffix(t.substring(0,n),e.substring(0,c));h.length<f+u&&(h=e.substring(c-f,c)+e.substring(c,c+u),i=t.substring(0,n-f),r=t.substring(n+u),a=e.substring(0,c-f),o=e.substring(c+u))}return 2*h.length>=t.length?[i,r,a,o,h]:null}if(0>=this.Diff_Timeout)return null;var i=t.length>e.length?t:e,r=t.length>e.length?e:t;if(4>i.length||2*r.length<i.length)return null;var s=this,a=n(i,r,Math.ceil(i.length/4));if(i=n(i,r,Math.ceil(i.length/2)),!a&&!i)return null;if(a=i?a&&a[4].length>i[4].length?a:i:a,t.length>e.length){i=a[0],r=a[1];var o=a[2],l=a[3]}else o=a[0],l=a[1],i=a[2],r=a[3];return[i,r,o,l,a[4]]},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,i=[],r=0,s=null,a=0,o=0,l=0,c=0,h=0;a<t.length;)0==t[a][0]?(i[r++]=a,o=c,l=h,h=c=0,s=t[a][1]):(1==t[a][0]?c+=t[a][1].length:h+=t[a][1].length,s&&s.length<=Math.max(o,l)&&s.length<=Math.max(c,h)&&(t.splice(i[r-1],0,new n.Diff(-1,s)),t[i[r-1]+1][0]=1,r--,a=0<--r?i[r-1]:-1,h=c=l=o=0,s=null,e=!0)),a++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),a=1;a<t.length;)-1==t[a-1][0]&&1==t[a][0]&&(e=t[a-1][1],i=t[a][1],(r=this.diff_commonOverlap_(e,i))>=(s=this.diff_commonOverlap_(i,e))?(r>=e.length/2||r>=i.length/2)&&(t.splice(a,0,new n.Diff(0,i.substring(0,r))),t[a-1][1]=e.substring(0,e.length-r),t[a+1][1]=i.substring(r),a++):(s>=e.length/2||s>=i.length/2)&&(t.splice(a,0,new n.Diff(0,e.substring(0,s))),t[a-1][0]=1,t[a-1][1]=i.substring(0,i.length-s),t[a+1][0]=-1,t[a+1][1]=e.substring(s),a++),a++),a++},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var i=t.charAt(t.length-1),r=e.charAt(0),s=i.match(n.nonAlphaNumericRegex_),a=r.match(n.nonAlphaNumericRegex_),o=s&&i.match(n.whitespaceRegex_),l=a&&r.match(n.whitespaceRegex_);i=o&&i.match(n.linebreakRegex_),r=l&&r.match(n.linebreakRegex_);var c=i&&t.match(n.blanklineEndRegex_),h=r&&e.match(n.blanklineStartRegex_);return c||h?5:i||r?4:s&&!o&&l?3:o||l?2:s||a?1:0}for(var i=1;i<t.length-1;){if(0==t[i-1][0]&&0==t[i+1][0]){var r=t[i-1][1],s=t[i][1],a=t[i+1][1],o=this.diff_commonSuffix(r,s);if(o){var l=s.substring(s.length-o);r=r.substring(0,r.length-o),s=l+s.substring(0,s.length-o),a=l+a}o=r,l=s;for(var c=a,h=e(r,s)+e(s,a);s.charAt(0)===a.charAt(0);){r+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var u=e(r,s)+e(s,a);u>=h&&(h=u,o=r,l=s,c=a)}t[i-1][1]!=o&&(o?t[i-1][1]=o:(t.splice(i-1,1),i--),t[i][1]=l,c?t[i+1][1]=c:(t.splice(i+1,1),i--))}i++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,i=[],r=0,s=null,a=0,o=!1,l=!1,c=!1,h=!1;a<t.length;)0==t[a][0]?(t[a][1].length<this.Diff_EditCost&&(c||h)?(i[r++]=a,o=c,l=h,s=t[a][1]):(r=0,s=null),c=h=!1):(-1==t[a][0]?h=!0:c=!0,s&&(o&&l&&c&&h||s.length<this.Diff_EditCost/2&&3==o+l+c+h)&&(t.splice(i[r-1],0,new n.Diff(-1,s)),t[i[r-1]+1][0]=1,r--,s=null,o&&l?(c=h=!0,r=0):(a=0<--r?i[r-1]:-1,c=h=!1),e=!0)),a++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push(new n.Diff(0,""));for(var e,i=0,r=0,s=0,a="",o="";i<t.length;)switch(t[i][0]){case 1:s++,o+=t[i][1],i++;break;case-1:r++,a+=t[i][1],i++;break;case 0:1<r+s?(0!==r&&0!==s&&(0!==(e=this.diff_commonPrefix(o,a))&&(0<i-r-s&&0==t[i-r-s-1][0]?t[i-r-s-1][1]+=o.substring(0,e):(t.splice(0,0,new n.Diff(0,o.substring(0,e))),i++),o=o.substring(e),a=a.substring(e)),0!==(e=this.diff_commonSuffix(o,a))&&(t[i][1]=o.substring(o.length-e)+t[i][1],o=o.substring(0,o.length-e),a=a.substring(0,a.length-e))),i-=r+s,t.splice(i,r+s),a.length&&(t.splice(i,0,new n.Diff(-1,a)),i++),o.length&&(t.splice(i,0,new n.Diff(1,o)),i++),i++):0!==i&&0==t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,r=s=0,o=a=""}for(""===t[t.length-1][1]&&t.pop(),r=!1,i=1;i<t.length-1;)0==t[i-1][0]&&0==t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),r=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),r=!0)),i++;r&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,i=0,r=0,s=0,a=0;for(n=0;n<t.length&&(1!==t[n][0]&&(i+=t[n][1].length),-1!==t[n][0]&&(r+=t[n][1].length),!(i>e));n++)s=i,a=r;return t.length!=n&&-1===t[n][0]?a:a+(e-s)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,i=/</g,r=/>/g,s=/\n/g,a=0;a<t.length;a++){var o=t[a][0],l=t[a][1].replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(s,"&para;<br>");switch(o){case 1:e[a]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:e[a]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:e[a]="<span>"+l+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,i=0,r=0;r<t.length;r++){var s=t[r][1];switch(t[r][0]){case 1:n+=s.length;break;case-1:i+=s.length;break;case 0:e+=Math.max(n,i),i=n=0}}return e+Math.max(n,i)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var i=[],r=0,s=0,a=e.split(/\t/g),o=0;o<a.length;o++){var l=a[o].substring(1);switch(a[o].charAt(0)){case"+":try{i[r++]=new n.Diff(1,decodeURI(l))}catch(t){throw Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||0>c)throw Error("Invalid number in diff_fromDelta: "+l);l=t.substring(s,s+=c),"="==a[o].charAt(0)?i[r++]=new n.Diff(0,l):i[r++]=new n.Diff(-1,l);break;default:if(a[o])throw Error("Invalid diff operation in diff_fromDelta: "+a[o])}}if(s!=t.length)throw Error("Delta length ("+s+") does not equal source text length ("+t.length+").");return i},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){function i(t,i){var r=t/e.length,a=Math.abs(n-i);return s.Match_Distance?r+a/s.Match_Distance:a?1:r}if(e.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),s=this,a=this.Match_Threshold,o=t.indexOf(e,n);-1!=o&&(a=Math.min(i(0,o),a),-1!=(o=t.lastIndexOf(e,n+e.length))&&(a=Math.min(i(0,o),a)));var l=1<<e.length-1;o=-1;for(var c,h,u,f=e.length+t.length,d=0;d<e.length;d++){for(c=0,h=f;c<h;)i(d,n+h)<=a?c=h:f=h,h=Math.floor((f-c)/2+c);f=h,c=Math.max(1,n-h+1);var p=Math.min(n+h,t.length)+e.length;for((h=Array(p+2))[p+1]=(1<<d)-1;p>=c;p--){var g=r[t.charAt(p-1)];if(h[p]=0===d?(h[p+1]<<1|1)&g:(h[p+1]<<1|1)&g|(u[p+1]|u[p])<<1|1|u[p+1],h[p]&l&&(g=i(d,p-1))<=a){if(a=g,!((o=p-1)>n))break;c=Math.max(1,2*n-o)}}if(i(d+1,n)>a)break;u=h}return o},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var i=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(i)!=e.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,i=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin,(i=e.substring(t.start2-r,t.start2))&&t.diffs.unshift(new n.Diff(0,i)),(r=e.substring(t.start2+t.length1,t.start2+t.length1+r))&&t.diffs.push(new n.Diff(0,r)),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+r.length,t.length2+=i.length+r.length}},n.prototype.patch_make=function(t,e,i){if("string"==typeof t&&"string"==typeof e&&void 0===i){var r=t;2<(e=this.diff_main(r,e,!0)).length&&(this.diff_cleanupSemantic(e),this.diff_cleanupEfficiency(e))}else if(t&&"object"==typeof t&&void 0===e&&void 0===i)e=t,r=this.diff_text1(e);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===i)r=t;else{if("string"!=typeof t||"string"!=typeof e||!i||"object"!=typeof i)throw Error("Unknown call format to patch_make.");r=t,e=i}if(0===e.length)return[];i=[],t=new n.patch_obj;for(var s=0,a=0,o=0,l=r,c=0;c<e.length;c++){var h=e[c][0],u=e[c][1];switch(s||0===h||(t.start1=a,t.start2=o),h){case 1:t.diffs[s++]=e[c],t.length2+=u.length,r=r.substring(0,o)+u+r.substring(o);break;case-1:t.length1+=u.length,t.diffs[s++]=e[c],r=r.substring(0,o)+r.substring(o+u.length);break;case 0:u.length<=2*this.Patch_Margin&&s&&e.length!=c+1?(t.diffs[s++]=e[c],t.length1+=u.length,t.length2+=u.length):u.length>=2*this.Patch_Margin&&s&&(this.patch_addContext_(t,l),i.push(t),t=new n.patch_obj,s=0,l=r,a=o)}1!==h&&(a+=u.length),-1!==h&&(o+=u.length)}return s&&(this.patch_addContext_(t,l),i.push(t)),i},n.prototype.patch_deepCopy=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],s=new n.patch_obj;s.diffs=[];for(var a=0;a<r.diffs.length;a++)s.diffs[a]=new n.Diff(r.diffs[a][0],r.diffs[a][1]);s.start1=r.start1,s.start2=r.start2,s.length1=r.length1,s.length2=r.length2,e[i]=s}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var i=0,r=[],s=0;s<t.length;s++){var a=t[s].start2+i,o=this.diff_text1(t[s].diffs),l=-1;if(o.length>this.Match_MaxBits){var c=this.match_main(e,o.substring(0,this.Match_MaxBits),a);-1!=c&&(-1==(l=this.match_main(e,o.substring(o.length-this.Match_MaxBits),a+o.length-this.Match_MaxBits))||c>=l)&&(c=-1)}else c=this.match_main(e,o,a);if(-1==c)r[s]=!1,i-=t[s].length2-t[s].length1;else if(r[s]=!0,i=c-a,o==(a=-1==l?e.substring(c,c+o.length):e.substring(c,l+this.Match_MaxBits)))e=e.substring(0,c)+this.diff_text2(t[s].diffs)+e.substring(c+o.length);else if(a=this.diff_main(o,a,!1),o.length>this.Match_MaxBits&&this.diff_levenshtein(a)/o.length>this.Patch_DeleteThreshold)r[s]=!1;else{var h;for(this.diff_cleanupSemanticLossless(a),o=0,l=0;l<t[s].diffs.length;l++){var u=t[s].diffs[l];0!==u[0]&&(h=this.diff_xIndex(a,o)),1===u[0]?e=e.substring(0,c+h)+u[1]+e.substring(c+h):-1===u[0]&&(e=e.substring(0,c+h)+e.substring(c+this.diff_xIndex(a,o+u[1].length))),-1!==u[0]&&(o+=u[1].length)}}}return[e=e.substring(n.length,e.length-n.length),r]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,i="",r=1;r<=e;r++)i+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var s=(r=t[0]).diffs;if(0==s.length||0!=s[0][0])s.unshift(new n.Diff(0,i)),r.start1-=e,r.start2-=e,r.length1+=e,r.length2+=e;else if(e>s[0][1].length){var a=e-s[0][1].length;s[0][1]=i.substring(s[0][1].length)+s[0][1],r.start1-=a,r.start2-=a,r.length1+=a,r.length2+=a}return 0==(s=(r=t[t.length-1]).diffs).length||0!=s[s.length-1][0]?(s.push(new n.Diff(0,i)),r.length1+=e,r.length2+=e):e>s[s.length-1][1].length&&(a=e-s[s.length-1][1].length,s[s.length-1][1]+=i.substring(0,a),r.length1+=a,r.length2+=a),i},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,i=0;i<t.length;i++)if(!(t[i].length1<=e)){var r=t[i];t.splice(i--,1);for(var s=r.start1,a=r.start2,o="";0!==r.diffs.length;){var l=new n.patch_obj,c=!0;for(l.start1=s-o.length,l.start2=a-o.length,""!==o&&(l.length1=l.length2=o.length,l.diffs.push(new n.Diff(0,o)));0!==r.diffs.length&&l.length1<e-this.Patch_Margin;){o=r.diffs[0][0];var h=r.diffs[0][1];1===o?(l.length2+=h.length,a+=h.length,l.diffs.push(r.diffs.shift()),c=!1):-1===o&&1==l.diffs.length&&0==l.diffs[0][0]&&h.length>2*e?(l.length1+=h.length,s+=h.length,c=!1,l.diffs.push(new n.Diff(o,h)),r.diffs.shift()):(h=h.substring(0,e-l.length1-this.Patch_Margin),l.length1+=h.length,s+=h.length,0===o?(l.length2+=h.length,a+=h.length):c=!1,l.diffs.push(new n.Diff(o,h)),h==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(h.length))}o=(o=this.diff_text2(l.diffs)).substring(o.length-this.Patch_Margin),""!==(h=this.diff_text1(r.diffs).substring(0,this.Patch_Margin))&&(l.length1+=h.length,l.length2+=h.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=h:l.diffs.push(new n.Diff(0,h))),c||t.splice(++i,0,l)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;t=t.split("\n");for(var i=0,r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<t.length;){var s=t[i].match(r);if(!s)throw Error("Invalid patch string: "+t[i]);var a=new n.patch_obj;for(e.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),i++;i<t.length;){s=t[i].charAt(0);try{var o=decodeURI(t[i].substring(1))}catch(t){throw Error("Illegal escape in patch_fromText: "+o)}if("-"==s)a.diffs.push(new n.Diff(-1,o));else if("+"==s)a.diffs.push(new n.Diff(1,o));else if(" "==s)a.diffs.push(new n.Diff(0,o));else{if("@"==s)break;if(""!==s)throw Error('Invalid patch mode "'+s+'" in: '+o)}i++}}return e},n.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},n.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(44);e.default=class extends i.default{login(){return'\n<atom-text-editor tabindex="1" class="input-login-email" mini="true"></atom-text-editor>\n<atom-text-editor tabindex="2" class="input-login-password" mini="true"></atom-text-editor>\n<button class="btn btn-login">\n    Log in to Serenade\n    <div class="lds-ring hidden"><div></div><div></div><div></div><div></div></div>\n</button>\n<a href="#" class="btn-login-alt btn-pre-register">Or sign up for an account</a>\n        '}logo(){return'<img src="atom://serenade/images/wordmark.png" />'}register(){return'\n<atom-text-editor tabindex="1" class="input-register-name" mini="true"></atom-text-editor>\n<atom-text-editor tabindex="2" class="input-register-email" mini="true"></atom-text-editor>\n<atom-text-editor tabindex="3" class="input-register-password" mini="true"></atom-text-editor>\n<button class="btn btn-register">\n    Sign up for Serenade\n    <div class="lds-ring hidden"><div></div><div></div><div></div><div></div></div>\n</button>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{html(){return`\n<div class="alternatives-panel hidden">\n  <div class="success-color-placeholder"></div>\n  <div class="error-color-placeholder"></div>\n  <div class="alternatives-logo-container">\n    <div class="alternatives-logo">${this.logo()}</div>\n    <div class="hidden listening-indicator"></div>\n    <div class="spacer"></div>\n    <div class="alternatives-status"></div>\n  </div>\n  <div class="alternatives-login-container">\n    <div class="alternatives-pre-login-buttons">\n      <button class="btn btn-pre-login">Log in to Serenade</button>\n      <button class="btn btn-pre-register">Sign up for Serenade</button>\n      <a href="#" class="btn-pre-skip">Skip for now ${this.spinner()}</a>\n    </div>\n    <div class="alternatives-login hidden">\n      <div class="login-error hidden"></div>\n      <form class="alternatives-login-form">\n        ${this.login()}\n      </form>\n    </div>\n    <div class="alternatives-register hidden">\n      <div class="login-error hidden"></div>\n      <form class="alternatives-register-form">\n        ${this.register()}\n      </form>\n    </div>\n  </div>\n  <div class="alternatives-volume-container hidden">\n    <div class="alternatives-listen-controls">\n      <button class="btn btn-listen" disabled>Listen</button>\n      <button class="btn btn-menu">\n      <i class="fas fa-chevron-down"></i>\n      <div class="menu-dropdown hidden">\n        <a href="#" class="btn-clear">Clear</a>\n        <a href="#" class="btn-guide">Guide</a>\n        <a href="#" class="btn-reference">Reference</a>\n      </div>\n    </div>\n    </button>\n    <div class="alternatives-bar-container">\n      <div class="alternatives-bar success-color-4"></div>\n    </div>\n  </div>\n  <div class="nux hidden">\n    <div class="nux-progress success-color-4"></div>\n    <h2 class="nux-heading"></h2>\n    <div class="nux-body"></div>\n    <button class="btn btn-nux-back hidden">&lsaquo; Back</button>\n    <button class="btn btn-nux-next">Next &rsaquo;</button>\n  </div>\n  <div class="alternatives-list-container hidden">\n    <div class="alternatives-valid">\n      <div class="alternatives-valid-header"></div>\n      <div class="alternatives-valid-list"></div>\n    </div>\n    <div class="alternatives-invalid">\n      <div class="alternatives-invalid-header"></div>\n      <div class="alternatives-invalid-list"></div>\n    </div>\n  </div>\n</div>\n        `}login(){return`\n<input type="text" class="input-login-email" placeholder="Email" />\n<input type="password" class="input-login-password" placeholder="Password" />\n<button class="btn btn-login">\n    Log in to Serenade ${this.spinner()}\n</button>\n<a href="#" class="btn-login-alt btn-pre-register">Or sign up for an account</a>\n        `}register(){return`\n<input type="text" class="input-register-name" placeholder="Full name" />\n<input type="text" class="input-register-email" placeholder="Email" />\n<input type="password" class="input-register-password" placeholder="Password" />\n<button class="btn btn-register">\n    Sign up for Serenade ${this.spinner()}\n</button>\n        `}spinner(){return'<div class="lds-ring hidden"><div></div><div></div><div></div><div></div></div>'}}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function o(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,o)}l((i=i.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=n(46);e.default=class extends r.default{constructor(t,e,n){super(t,e),this.pendingFiles=[],this.ignorePatternsData=null,this.atomApp=t,this.settings=n}dispatch(t){let e=atom.workspace.getActivePane(),n=atom.workspace.getActiveTextEditor();n&&(e=atom.views.getView(n)),atom.commands.dispatch(e,t)}ignorePatterns(){if(null==this.ignorePatternsData){let t=[],e=[];for(let n of this.settings.get("ignore"))n.endsWith("/")?t.push(n.replace(/\/+$/g,"")):e.push(n);this.ignorePatternsData={directory:new RegExp(t.join("|")),file:new RegExp(e.join("|"))}}return this.ignorePatternsData}openPendingFileAtIndex(t){t<0||t>=this.pendingFiles.length||atom.workspace.open(this.pendingFiles[t].getPath())}searchFiles(t,e){let n=new RegExp(t.toLowerCase().replace(/ /g,"(.*)"));if(e.getPath().match(this.ignorePatterns().directory))return[];let i=[],r=this.ignorePatterns().file;for(let s of e.getEntriesSync())if(s.isDirectory())i.push(...this.searchFiles(t,s));else if(s.isFile()){let t=s.getPath().toLowerCase().replace(/\/|\./g,"");!(t.search(n)>-1)||r&&t.match(r)||i.push(s)}return i}focus(){return i(this,void 0,void 0,function*(){this.atomApp.focusEditor()})}getActiveEditorText(){const t=atom.workspace.getActiveTextEditor();if(t)return t.getText()}getState(){return this.state}scrollToCursor(){return i(this,void 0,void 0,function*(){})}setSourceAndCursor(t,e,n,i){let r=atom.workspace.getActiveTextEditor();r&&r.transact(()=>{r.setText(e),r.setCursorBufferPosition([n,i])})}COMMAND_TYPE_CLOSE_TAB(t){return i(this,void 0,void 0,function*(){atom.workspace.getActivePane().destroyActiveItem(),yield this.uiDelay()})}COMMAND_TYPE_CLOSE_WINDOW(t){return i(this,void 0,void 0,function*(){this.dispatch("pane:close"),yield this.uiDelay()})}COMMAND_TYPE_COPY(t){return i(this,void 0,void 0,function*(){t&&t.text&&atom.clipboard.write(t.text)})}COMMAND_TYPE_CREATE_TAB(t){return i(this,void 0,void 0,function*(){atom.workspace.open(),yield this.uiDelay()})}COMMAND_TYPE_DIFF(t){return i(this,void 0,void 0,function*(){yield this.updateEditor(t.source,t.cursor),this.focus()})}COMMAND_TYPE_GET_EDITOR_STATE(t){return i(this,void 0,void 0,function*(){let t={source:"",cursor:0,filename:""},e=atom.workspace.getActiveTextEditor();if(!e)return t;let n=e.getCursorBufferPosition(),i=n.row,r=n.column,s=e.getText(),a=0,o=0,l=0;for(let t=0;t<s.length;t++){if(o==i){if(l==r)break;l++}"\n"==s[t]&&o++,a++}return t.source=s,t.cursor=a,t.filename=atom.workspace.getActiveTextEditor().getPath(),t})}COMMAND_TYPE_GO_TO_DEFINITION(t){return i(this,void 0,void 0,function*(){})}COMMAND_TYPE_NEXT_TAB(t){return i(this,void 0,void 0,function*(){atom.workspace.getActivePane().activateNextItem(),yield this.uiDelay()})}COMMAND_TYPE_OPEN_FILE(t){return i(this,void 0,void 0,function*(){let e=atom.project.getPaths();e.sort((t,e)=>e.length-t.length);let n=[];for(let e of atom.project.getDirectories())n.push(...this.searchFiles(t.path,e));this.pendingFiles=n;let i=n.map(t=>{let n=t.getPath();for(let t of e)if(n.startsWith(t)){n=n.substring(t.length+1);break}return{description:`open <code>${n}</code>`}});this.state.set("alternatives",{alternatives:i,type:"files"})})}COMMAND_TYPE_PASTE(t){return i(this,void 0,void 0,function*(){let e=atom.workspace.getActiveTextEditor();if(!e)return;let n=atom.clipboard.read(),i=e.getText(),r=t.cursor||0,s=r;if(t.direction&&!n.endsWith("\n")&&(n+="\n"),n.endsWith("\n")||t.direction){if(t.direction=t.direction||"below","below"==t.direction){for(;r<i.length;r++)if("\n"==i[r]){r++;break}}else if("above"==t.direction)for("\n"==i[r]&&r>0&&r--;r>=0;r--)if("\n"==i[r]){r++;break}s=r}s+=n.length,n.endsWith("\n")&&s--,yield this.updateEditor(i.substring(0,r)+n+i.substring(r),s)})}COMMAND_TYPE_PREVIOUS_TAB(t){return i(this,void 0,void 0,function*(){atom.workspace.getActivePane().activatePreviousItem(),yield this.uiDelay()})}COMMAND_TYPE_REDO(t){return i(this,void 0,void 0,function*(){let t=atom.workspace.getActiveTextEditor();t&&t.redo()})}COMMAND_TYPE_SAVE(t){return i(this,void 0,void 0,function*(){let t=atom.workspace.getActiveTextEditor();if(t)if(t.getPath())t.save();else{let e=atom.applicationDelegate.showSaveDialog();e&&t.saveAs(e)}})}COMMAND_TYPE_SPLIT(t){return i(this,void 0,void 0,function*(){this.dispatch("pane:split-"+t.direction+"-and-copy-active-item"),yield this.uiDelay()})}COMMAND_TYPE_SWITCH_TAB(t){return i(this,void 0,void 0,function*(){atom.workspace.getActivePane().activateItemAtIndex(t.index-1),yield this.uiDelay()})}COMMAND_TYPE_UNDO(t){return i(this,void 0,void 0,function*(){let t=atom.workspace.getActiveTextEditor();t&&t.undo()})}COMMAND_TYPE_USE(t){return i(this,void 0,void 0,function*(){let e=t.index?t.index-1:0;this.state.set("highlightedAlternative",e);let n=this.state.get("alternatives");"type"in n&&"files"==n.type&&this.openPendingFileAtIndex(e)})}COMMAND_TYPE_WINDOW(t){return i(this,void 0,void 0,function*(){this.dispatch("window:focus-pane-"+{left:"on-left",right:"on-right",up:"above",down:"below"}[t.direction]),yield this.uiDelay()})}}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function o(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,o)}l((i=i.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=n(16);e.default=class{constructor(t,e){this.app=t,this.state=e}uiDelay(){return i(this,void 0,void 0,function*(){return new Promise(t=>{setTimeout(()=>{t()},100)})})}updateEditor(t,e){return i(this,void 0,void 0,function*(){const n=this.getActiveEditorText();if(!n)return;let[s,a]=r.cursorToRowAndColumn(t,e),o=r.diff(n,t);0==o.length&&(o=[new r.DiffRange(r.DiffRangeType.Add,r.DiffHighlightType.Line,new r.DiffPoint(s,0),new r.DiffPoint(s+1,0))]);const l=o.filter(t=>t.diffRangeType==r.DiffRangeType.Add),c=o.filter(t=>t.diffRangeType==r.DiffRangeType.Delete);return this.state.set("highlightedRanges",c),new Promise(e=>{setTimeout(()=>i(this,void 0,void 0,function*(){this.setSourceAndCursor(n,t,s,a),this.state.set("highlightedRanges",l),yield this.scrollToCursor(),e()}),c.length>0?400:0)})})}COMMAND_TYPE_CANCEL(t){return i(this,void 0,void 0,function*(){this.state.set("alternatives",{suggestions:!0})})}COMMAND_TYPE_INVALID(t){return i(this,void 0,void 0,function*(){})}COMMAND_TYPE_LOGIN(t){return i(this,void 0,void 0,function*(){""!==t.text&&void 0!==t.text?this.state.set("appState","READY"):this.state.set("loginError","Invalid email/password.")})}COMMAND_TYPE_LOGOUT(t){return i(this,void 0,void 0,function*(){this.app.ipc.send("DISABLE_LISTENING",{}),this.state.set("appState","LOGIN_FORM")})}COMMAND_TYPE_PAUSE(t){return i(this,void 0,void 0,function*(){this.state.set("listening",!1)})}COMMAND_TYPE_PING(t){return i(this,void 0,void 0,function*(){this.app.ipc.send("PING",{})})}COMMAND_TYPE_SET_EDITOR_STATUS(t){return i(this,void 0,void 0,function*(){let e=t.text;t.volume&&this.state.set("volume",Math.floor(100*t.volume)),this.state.set("status",e)})}COMMAND_TYPE_SNIPPET(t){return i(this,void 0,void 0,function*(){this.state.set("loading",!0),this.app.ipc.send("SEND_TEXT",{text:"add executed snippet "+t.text})})}COMMAND_TYPE_SNIPPET_EXECUTED(t){return i(this,void 0,void 0,function*(){yield this.updateEditor(t.source,t.cursor),this.focus()})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.state=t,this.createPanel(),this.state.subscribe("docs",t=>{t?(this.container.querySelector("iframe").setAttribute("src",t),this.panel.show()):this.panel.hide()})}createPanel(){this.container=document.createElement("div"),this.container.innerHTML='\n<div class="docs-panel">\n  <iframe src="https://docs.serenade.ai" frameBorder="0"></iframe>\n  <button class="btn btn-close">&times;</button>\n</div>\n        ',this.container.querySelector(".btn-close").addEventListener("click",()=>{this.state.set("docs",!1)}),this.panel=atom.workspace.addRightPanel({item:this.container,visible:!1})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(49);e.default=class extends i.default{constructor(t,e,n,i){super(e,n,i,"Atom"),this.app=t}beforeHandle(){this.app.setCurrentEditor()}}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function o(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,o)}l((i=i.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=n(17),s=n(10);e.default=class{constructor(t,e,n,i){this.state=t,this.commandHandler=e,this.clientRunner=n,this.platform=i}os(){return"darwin"==process.platform?"MacOS":"win32"==process.platform?"Windows":"linux"==process.platform?"Linux":process.platform}beforeHandle(){}handle(t){return i(this,void 0,void 0,function*(){this.beforeHandle(),t.alternatives&&this.state.set("alternatives",{alternatives:t.alternatives});let e=null;if(t.execute){this.state.set("volume",0);for(let n=0;n<t.execute.sequences.length;n++){let i=t.execute.sequences[n];for(let t of i.commands)e=yield this.commandHandler[t.type](t)}}return e})}send(t,e={},n=(t=>{}),i=(t=>{})){e.type=t;let a=JSON.stringify(e),o=r.request({host:"localhost",port:17373,path:"/",method:"POST",headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(a),"User-Agent":`SerenadeClient/${this.clientRunner.clientVersion()} `+`(${this.os()} ${s.release()}; ${this.platform})`}},t=>{n&&n(t)});i&&o.on("error",t=>{i(t)}),o.write(a),o.end()}pingClientUntilRunning(){this.send("PING",{},t=>{this.state.set("clientRunning",!0)},t=>{setTimeout(()=>{this.pingClientUntilRunning()},100)})}start(){this.state.subscribe("listening",(t,e)=>{t!==!!e&&this.send(t?"ENABLE_LISTENING":"DISABLE_LISTENING")}),this.server=r.createServer((t,e)=>{let n="";t.on("data",t=>{n+=t}),t.on("end",()=>i(this,void 0,void 0,function*(){let t="";try{t=JSON.parse(n)}catch(t){return void e.end("")}let i=yield this.handle(t);i||(i={success:!0}),e.statusCode=200,e.setHeader("Content-Type","application/json"),e.end(JSON.stringify(i))}))}),this.server.once("error",t=>{"EADDRINUSE"!==t.code||console.error("Serenade is already running in another editor window.")}),this.server.listen(17374)}stop(){this.server&&this.server.close()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{destroy(){this.clientRunner.kill(),this.ipc.stop()}run(){this.state.subscribe("nuxCompleted",(t,e)=>{this.settings.set("nux_completed",t)}),this.state.set("nuxCompleted",this.settings.get("nux_completed")),this.state.set("clientRunning",!1),this.state.set("appState","LOADING"),this.state.set("alternatives",{}),this.state.set("volume",0),this.state.set("listening",!1),this.state.set("status","Not connected"),this.ipc.start(),this.ipc.pingClientUntilRunning(),this.clientRunner.installAndRun(()=>{const t=this.settings.get("token");this.state.set("appState",t&&t.length?"READY":"LOGIN_FORM")})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(52),r=n(85),s=n(86);e.default=class{constructor(t,e){this.state=t,this.settings=e}get(){return"darwin"===process.platform?new r.default(this.state,this.settings):"win32"===process.platform?new s.default(this.state,this.settings):new i.default(this.state,this.settings)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(11);e.default=class extends i.default{javaBinary(){return"./java"}javaPath(){return"bin"}jdkUrl(){return`https://cdn.serenade.ai/jdk/jdk-linux-${this.jdkVersion()}.tar.gz`}jdkVersion(){return"0e348736654c61b3ceb268190d263d41"}}},function(t,e){t.exports=require("https")},function(t,e,n){t.exports=f,f.sync=m;var i=n(13),r=n(1),s=n(0),a=n(19),o=parseInt("666",8),l={nosort:!0,silent:!0},c=0,h="win32"===process.platform;function u(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(function(e){t[e]=t[e]||s[e],t[e+="Sync"]=t[e]||s[e]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),t.disableGlob=t.disableGlob||!1,t.glob=t.glob||l}function f(t,e,n){"function"==typeof e&&(n=e,e={}),i(t,"rimraf: missing path"),i.equal(typeof t,"string","rimraf: path should be a string"),i.equal(typeof n,"function","rimraf: callback function required"),i(e,"rimraf: invalid options argument provided"),i.equal(typeof e,"object","rimraf: options should be object"),u(e);var r=0,s=null,o=0;if(e.disableGlob||!a.hasMagic(t))return l(null,[t]);function l(t,i){return t?n(t):0===(o=i.length)?n():void i.forEach(function(t){d(t,e,function i(a){if(a){if(("EBUSY"===a.code||"ENOTEMPTY"===a.code||"EPERM"===a.code)&&r<e.maxBusyTries)return r++,setTimeout(function(){d(t,e,i)},100*r);if("EMFILE"===a.code&&c<e.emfileWait)return setTimeout(function(){d(t,e,i)},c++);"ENOENT"===a.code&&(a=null)}c=0,function(t){s=s||t,0==--o&&n(s)}(a)})})}e.lstat(t,function(n,i){if(!n)return l(null,[t]);a(t,e.glob,l)})}function d(t,e,n){i(t),i(e),i("function"==typeof n),e.lstat(t,function(i,r){return i&&"ENOENT"===i.code?n(null):(i&&"EPERM"===i.code&&h&&p(t,e,i,n),r&&r.isDirectory()?v(t,e,i,n):void e.unlink(t,function(i){if(i){if("ENOENT"===i.code)return n(null);if("EPERM"===i.code)return h?p(t,e,i,n):v(t,e,i,n);if("EISDIR"===i.code)return v(t,e,i,n)}return n(i)}))})}function p(t,e,n,r){i(t),i(e),i("function"==typeof r),n&&i(n instanceof Error),e.chmod(t,o,function(i){i?r("ENOENT"===i.code?null:n):e.stat(t,function(i,s){i?r("ENOENT"===i.code?null:n):s.isDirectory()?v(t,e,n,r):e.unlink(t,r)})})}function g(t,e,n){i(t),i(e),n&&i(n instanceof Error);try{e.chmodSync(t,o)}catch(t){if("ENOENT"===t.code)return;throw n}try{var r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?b(t,e,n):e.unlinkSync(t)}function v(t,e,n,s){i(t),i(e),n&&i(n instanceof Error),i("function"==typeof s),e.rmdir(t,function(a){!a||"ENOTEMPTY"!==a.code&&"EEXIST"!==a.code&&"EPERM"!==a.code?a&&"ENOTDIR"===a.code?s(n):s(a):function(t,e,n){i(t),i(e),i("function"==typeof n),e.readdir(t,function(i,s){if(i)return n(i);var a,o=s.length;if(0===o)return e.rmdir(t,n);s.forEach(function(i){f(r.join(t,i),e,function(i){if(!a)return i?n(a=i):void(0==--o&&e.rmdir(t,n))})})})}(t,e,s)})}function m(t,e){var n;if(u(e=e||{}),i(t,"rimraf: missing path"),i.equal(typeof t,"string","rimraf: path should be a string"),i(e,"rimraf: missing options"),i.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!a.hasMagic(t))n=[t];else try{e.lstatSync(t),n=[t]}catch(i){n=a.sync(t,e.glob)}if(n.length)for(var r=0;r<n.length;r++){t=n[r];try{var s=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&h&&g(t,e,n)}try{s&&s.isDirectory()?b(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return h?g(t,e,n):b(t,e,n);if("EISDIR"!==n.code)throw n;b(t,e,n)}}}function b(t,e,n){i(t),i(e),n&&i(n instanceof Error);try{e.rmdirSync(t)}catch(s){if("ENOENT"===s.code)return;if("ENOTDIR"===s.code)throw n;"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code||function(t,e){i(t),i(e),e.readdirSync(t).forEach(function(n){m(r.join(t,n),e)});var n=h?100:1,s=0;for(;;){var a=!0;try{var o=e.rmdirSync(t,e);return a=!1,o}finally{if(++s<n&&a)continue}}}(t,e)}}},function(t,e,n){var i=n(1),r="win32"===process.platform,s=n(0),a=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function o(t){return"function"==typeof t?t:function(){var t;if(a){var e=new Error;t=function(t){t&&(e.message=t.message,n(t=e))}}else t=n;return t;function n(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}i.normalize;if(r)var l=/(.*?)(?:[\/\\]+|$)/g;else l=/(.*?)(?:[\/]+|$)/g;if(r)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;e.realpathSync=function(t,e){if(t=i.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var n,a,o,h,u=t,f={},d={};function p(){var e=c.exec(t);n=e[0].length,a=e[0],o=e[0],h="",r&&!d[o]&&(s.lstatSync(o),d[o]=!0)}for(p();n<t.length;){l.lastIndex=n;var g=l.exec(t);if(h=a,a+=g[0],o=h+g[1],n=l.lastIndex,!(d[o]||e&&e[o]===o)){var v;if(e&&Object.prototype.hasOwnProperty.call(e,o))v=e[o];else{var m=s.lstatSync(o);if(!m.isSymbolicLink()){d[o]=!0,e&&(e[o]=o);continue}var b=null;if(!r){var y=m.dev.toString(32)+":"+m.ino.toString(32);f.hasOwnProperty(y)&&(b=f[y])}null===b&&(s.statSync(o),b=s.readlinkSync(o)),v=i.resolve(h,b),e&&(e[o]=v),r||(f[y]=b)}t=i.resolve(v,t.slice(n)),p()}}return e&&(e[u]=t),t},e.realpath=function(t,e,n){if("function"!=typeof n&&(n=o(e),e=null),t=i.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(n.bind(null,null,e[t]));var a,h,u,f,d=t,p={},g={};function v(){var e=c.exec(t);a=e[0].length,h=e[0],u=e[0],f="",r&&!g[u]?s.lstat(u,function(t){if(t)return n(t);g[u]=!0,m()}):process.nextTick(m)}function m(){if(a>=t.length)return e&&(e[d]=t),n(null,t);l.lastIndex=a;var i=l.exec(t);return f=h,h+=i[0],u=f+i[1],a=l.lastIndex,g[u]||e&&e[u]===u?process.nextTick(m):e&&Object.prototype.hasOwnProperty.call(e,u)?_(e[u]):s.lstat(u,b)}function b(t,i){if(t)return n(t);if(!i.isSymbolicLink())return g[u]=!0,e&&(e[u]=u),process.nextTick(m);if(!r){var a=i.dev.toString(32)+":"+i.ino.toString(32);if(p.hasOwnProperty(a))return y(null,p[a],u)}s.stat(u,function(t){if(t)return n(t);s.readlink(u,function(t,e){r||(p[a]=e),y(t,e)})})}function y(t,r,s){if(t)return n(t);var a=i.resolve(f,r);e&&(e[s]=a),_(a)}function _(e){t=i.resolve(e,t.slice(a)),v()}v()}},function(t,e,n){var i=n(57),r=n(58);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,n){var s=[];var a=r("{","}",e);if(!a||/\$$/.test(a.pre))return[e];var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body);var u=l||c;var v=a.body.indexOf(",")>=0;if(!u&&!v)return a.post.match(/,.*\}/)?(e=a.pre+"{"+a.body+o+a.post,t(e)):[e];var m;if(u)m=a.body.split(/\.\./);else if(1===(m=function t(e){if(!e)return[""];var n=[];var i=r("{","}",e);if(!i)return e.split(",");var s=i.pre;var a=i.body;var o=i.post;var l=s.split(",");l[l.length-1]+="{"+a+"}";var c=t(o);o.length&&(l[l.length-1]+=c.shift(),l.push.apply(l,c));n.push.apply(n,l);return n}(a.body)).length&&1===(m=t(m[0],!1).map(f)).length){var b=a.post.length?t(a.post,!1):[""];return b.map(function(t){return a.pre+m[0]+t})}var y=a.pre;var b=a.post.length?t(a.post,!1):[""];var _;if(u){var w=h(m[0]),x=h(m[1]),E=Math.max(m[0].length,m[1].length),k=3==m.length?Math.abs(h(m[2])):1,S=p,T=x<w;T&&(k*=-1,S=g);var M=m.some(d);_=[];for(var A=w;S(A,x);A+=k){var L;if(c)"\\"===(L=String.fromCharCode(A))&&(L="");else if(L=String(A),M){var O=E-L.length;if(O>0){var P=new Array(O+1).join("0");L=A<0?"-"+P+L.slice(1):P+L}}_.push(L)}}else _=i(m,function(e){return t(e,!1)});for(var D=0;D<_.length;D++)for(var j=0;j<b.length;j++){var R=y+_[D]+b[j];(!n||u||R)&&s.push(R)}return s}(function(t){return t.split("\\\\").join(s).split("\\{").join(a).split("\\}").join(o).split("\\,").join(l).split("\\.").join(c)}(t),!0).map(u)};var s="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function h(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function u(t){return t.split(s).join("\\").split(a).join("{").split(o).join("}").split(l).join(",").split(c).join(".")}function f(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function p(t,e){return t<=e}function g(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var i=[],r=0;r<t.length;r++){var s=e(t[r],r);n(s)?i.push.apply(i,s):i.push(s)}return i};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function i(t,e,n){t instanceof RegExp&&(t=r(t,n)),e instanceof RegExp&&(e=r(e,n));var i=s(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function r(t,e){var n=e.match(t);return n?n[0]:null}function s(t,e,n){var i,r,s,a,o,l=n.indexOf(t),c=n.indexOf(e,l+1),h=l;if(l>=0&&c>0){for(i=[],s=n.length;h>=0&&!o;)h==l?(i.push(h),l=n.indexOf(t,h+1)):1==i.length?o=[i.pop(),c]:((r=i.pop())<s&&(s=r,a=c),c=n.indexOf(e,h+1)),h=l<c&&l>=0?l:c;i.length&&(o=[s,a])}return o}t.exports=i,i.range=s},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){t.exports=p,p.GlobSync=g;var i=n(0),r=n(20),s=n(14),a=(s.Minimatch,n(19).Glob,n(2),n(1)),o=n(13),l=n(15),c=n(22),h=(c.alphasort,c.alphasorti,c.setopts),u=c.ownProp,f=c.childrenIgnored,d=c.isIgnored;function p(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new g(t,e).found}function g(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof g))return new g(t,e);if(h(this,t,e),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}g.prototype._finish=function(){if(o(this instanceof g),this.realpath){var t=this;this.matches.forEach(function(e,n){var i=t.matches[n]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),i[r.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[t._makeAbs(s)]=!0}})}c.finish(this)},g.prototype._process=function(t,e,n){o(this instanceof g);for(var i,r=0;"string"==typeof t[r];)r++;switch(r){case t.length:return void this._processSimple(t.join("/"),e);case 0:i=null;break;default:i=t.slice(0,r).join("/")}var a,c=t.slice(r);null===i?a=".":l(i)||l(t.join("/"))?(i&&l(i)||(i="/"+i),a=i):a=i;var h=this._makeAbs(a);f(this,a)||(c[0]===s.GLOBSTAR?this._processGlobStar(i,a,h,c,e,n):this._processReaddir(i,a,h,c,e,n))},g.prototype._processReaddir=function(t,e,n,i,r,s){var o=this._readdir(n,s);if(o){for(var l=i[0],c=!!this.minimatch.negate,h=l._glob,u=this.dot||"."===h.charAt(0),f=[],d=0;d<o.length;d++){if("."!==(v=o[d]).charAt(0)||u)(c&&!t?!v.match(l):v.match(l))&&f.push(v)}var p=f.length;if(0!==p)if(1!==i.length||this.mark||this.stat){i.shift();for(d=0;d<p;d++){var g;v=f[d];g=t?[t,v]:[v],this._process(g.concat(i),r,s)}}else{this.matches[r]||(this.matches[r]=Object.create(null));for(var d=0;d<p;d++){var v=f[d];t&&(v="/"!==t.slice(-1)?t+"/"+v:t+v),"/"!==v.charAt(0)||this.nomount||(v=a.join(this.root,v)),this._emitMatch(r,v)}}}},g.prototype._emitMatch=function(t,e){if(!d(this,e)){var n=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var i=this.cache[n];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},g.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,n;try{n=i.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var r=n&&n.isSymbolicLink();return this.symlinks[t]=r,r||!n||n.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},g.prototype._readdir=function(t,e){if(e&&!u(this.symlinks,t))return this._readdirInGlobStar(t);if(u(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,i.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},g.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e},g.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},g.prototype._processGlobStar=function(t,e,n,i,r,s){var a=this._readdir(n,s);if(a){var o=i.slice(1),l=t?[t]:[],c=l.concat(o);this._process(c,r,!1);var h=a.length;if(!this.symlinks[n]||!s)for(var u=0;u<h;u++){if("."!==a[u].charAt(0)||this.dot){var f=l.concat(a[u],o);this._process(f,r,!0);var d=l.concat(a[u],i);this._process(d,r,!0)}}}},g.prototype._processSimple=function(t,e){var n=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),n){if(t&&l(t)&&!this.nomount){var i=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),i&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},g.prototype._stat=function(t){var e=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&u(this.cache,e)){var r=this.cache[e];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var s=this.statCache[e];if(!s){var a;try{a=i.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(a&&a.isSymbolicLink())try{s=i.statSync(e)}catch(t){s=a}else s=a}this.statCache[e]=s;r=!0;return s&&(r=s.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||r,(!n||"FILE"!==r)&&r},g.prototype._mark=function(t){return c.mark(this,t)},g.prototype._makeAbs=function(t){return c.makeAbs(this,t)}},function(t,e,n){var i=n(23),r=Object.create(null),s=n(8);function a(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i]=t[i];return n}t.exports=i(function(t,e){return r[t]?(r[t].push(e),null):(r[t]=[e],function(t){return s(function e(){var n=r[t],i=n.length,s=a(arguments);try{for(var o=0;o<i;o++)n[o].apply(null,s)}finally{n.length>i?(n.splice(0,i),process.nextTick(function(){e.apply(null,s)})):delete r[t]}})}(t))})},function(t,e,n){t.exports=n(63)},function(t,e,n){var i=n(0),r=n(64),s=n(83);t.exports={compress:function(t,e){var n=function(t){e(t)};return e=e||function(){},(t=t||{}).tar=t.tar||{},t.gz=t.gz||{},t.gz.level=t.gz.level||6,t.gz.memLevel=t.gz.memLevel||6,t.src?t.dest?void process.nextTick(function(){r.pack(t.src,t.tar).on("error",n).pipe(s.createGzip(t.gz).on("error",n)).pipe(i.createWriteStream(t.dest).on("error",n).on("finish",e))}):n("No destination for compress!"):n("No source for compress!")},decompress:function(t,e){var n=function(t){e(t)};return e=e||function(){},(t=t||{}).tar=t.tar||{},t.gz=t.gz||{},t.src?t.dest?void process.nextTick(function(){i.createReadStream(t.src).on("error",n).pipe(s.createGunzip(t.gz).on("error",n)).pipe(r.extract(t.dest,t.tar).on("error",n).on("finish",e))}):n("No destination for decompress!"):n("No source for decompress!")}}},function(t,e,n){var i=n(65),r=n(66),s=n(82),a=n(12),o=n(0),l=n(1),c="win32"===n(10).platform(),h=function(){},u=function(t){return t},f=c?function(t){return t.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:u,d=function(t,e){return function(n){n.name=n.name.split("/").slice(e).join("/");var i=n.linkname;return i&&("link"===n.type||l.isAbsolute(i))&&(n.linkname=i.split("/").slice(e).join("/")),t(n)}};e.pack=function(t,e){t||(t="."),e||(e={});var n=e.fs||o,i=e.ignore||e.filter||h,a=e.map||h,c=e.mapStream||u,g=function(t,e,n,i,r,s){var a=r||["."];return function(r){if(!a.length)return r();var o=a.shift(),c=l.join(n,o);e(c,function(e,h){return e?r(e):h.isDirectory()?void t.readdir(c,function(t,e){if(t)return r(t);s&&e.sort();for(var c=0;c<e.length;c++)i(l.join(n,o,e[c]))||a.push(l.join(o,e[c]));r(null,o,h)}):r(null,o,h)})}}(n,e.dereference?n.stat:n.lstat,t,i,e.entries,e.sort),v=!1!==e.strict,m="number"==typeof e.umask?~e.umask:~p(),b="number"==typeof e.dmode?e.dmode:0,y="number"==typeof e.fmode?e.fmode:0,_=e.pack||r.pack(),w=e.finish||h;e.strip&&(a=d(a,e.strip)),e.readable&&(b|=parseInt(555,8),y|=parseInt(444,8)),e.writable&&(b|=parseInt(333,8),y|=parseInt(222,8));var x=function(i,r,o){if(i)return _.destroy(i);if(!r)return!1!==e.finalize&&_.finalize(),w(_);if(o.isSocket())return E();var h={name:f(r),mode:(o.mode|(o.isDirectory()?b:y))&m,mtime:o.mtime,size:o.size,type:"file",uid:o.uid,gid:o.gid};if(o.isDirectory())return h.size=0,h.type="directory",h=a(h)||h,_.entry(h,E);if(o.isSymbolicLink())return h.size=0,h.type="symlink",function(e,i){n.readlink(l.join(t,e),function(t,e){if(t)return _.destroy(t);i.linkname=f(e),_.entry(i,E)})}(r,h=a(h)||h);if(h=a(h)||h,!o.isFile())return v?_.destroy(new Error("unsupported type for "+r)):E();var u=_.entry(h,E);if(u){var d=c(n.createReadStream(l.join(t,r)),h);d.on("error",function(t){u.destroy(t)}),s(d,u)}},E=function(t){if(t)return _.destroy(t);g(x)};return E(),_};var p=function(){return process.umask?process.umask():0};function g(t,e,n){a(t,{fs:e.fs},function(t,r){!t&&r&&e.own?i(r,e.uid,e.gid,n):n(t)})}e.extract=function(t,e){t||(t="."),e||(e={});var n=e.fs||o,i=e.ignore||e.filter||h,a=e.map||h,v=e.mapStream||u,m=!1!==e.chown&&!c&&0===(process.getuid?process.getuid():-1),b=e.extract||r.extract(),y=[],_=new Date,w="number"==typeof e.umask?~e.umask:~p(),x="number"==typeof e.dmode?e.dmode:0,E="number"==typeof e.fmode?e.fmode:0,k=!1!==e.strict;e.strip&&(a=d(a,e.strip)),e.readable&&(x|=parseInt(555,8),E|=parseInt(444,8)),e.writable&&(x|=parseInt(333,8),E|=parseInt(222,8));var S=function(t,e){for(var i,r;(i=(r=y).length?r[r.length-1]:null)&&t.slice(0,i[0].length)!==i[0];)y.pop();if(!i)return e();n.utimes(i[0],_,i[1],e)};return b.on("entry",function(r,o,h){(r=a(r)||r).name=f(r.name);var u=l.join(t,l.join("/",r.name));if(i(u,r))return o.resume(),h();var d=function(t){if(t)return h(t);!function(t,i,r){!1===e.utimes?r():"directory"===i.type?n.utimes(t,_,i.mtime,r):"symlink"===i.type?S(t,r):n.utimes(t,_,i.mtime,function(e){if(e)return r(e);S(t,r)})}(u,r,function(t){return t?h(t):c?h():void function(t,e,i){var r="symlink"===e.type,s=r?n.lchmod:n.chmod,a=r?n.lchown:n.chown;if(!s)return i();var o=(e.mode|("directory"===e.type?x:E))&w;s(t,o,function(n){return n?i(n):m&&a?void a(t,e.uid,e.gid,i):i()})}(u,r,h)})},p=function(){var t=n.createWriteStream(u),e=v(o,r);t.on("error",function(t){e.destroy(t)}),s(e,t,function(e){if(e)return h(e);t.on("close",d)})};if("directory"===r.type)return y.push([u,r.mtime]),g(u,{fs:n,own:m,uid:r.uid,gid:r.gid},d);var b=l.dirname(u);!function t(e,n,i,r){if(n===i)return r(null,!0);e.lstat(n,function(s,a){return s&&"ENOENT"!==s.code?r(s):s||a.isDirectory()?t(e,l.join(n,".."),i,r):void r(null,!1)})}(n,b,l.join(t,"."),function(i,s){return i?h(i):s?void g(b,{fs:n,own:m,uid:r.uid,gid:r.gid},function(i){if(i)return h(i);switch(r.type){case"file":return p();case"link":return function(){if(c)return h();n.unlink(u,function(){var i=l.join(t,l.join("/",r.linkname));n.link(i,u,function(t){if(t&&"EPERM"===t.code&&e.hardlinkAsFilesFallback)return o=n.createReadStream(i),p();d(t)})})}();case"symlink":return function(){if(c)return h();n.unlink(u,function(){n.symlink(r.linkname,u,d)})}()}if(k)return h(new Error("unsupported type for "+u+" ("+r.type+")"));o.resume(),h()}):h(new Error(b+" is not a valid path"))})}),e.finish&&b.on("finish",e.finish),b}},function(t,e,n){"use strict";const i=n(0),r=n(1),s=i.lchown?"lchown":"chown",a=i.lchownSync?"lchownSync":"chownSync",o=i.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),l=o?(t,e,n,r)=>s=>{s&&"EISDIR"===s.code?i.chown(t,e,n,r):r(s)}:(t,e,n,i)=>i,c=o?(t,e,n)=>{try{return i[a](t,e,n)}catch(r){if("EISDIR"!==r.code)throw r;i.chownSync(t,e,n)}}:i[a],h=process.version;let u=(t,e,n)=>i.readdir(t,e,n);/^v4\./.test(h)&&(u=(t,e,n)=>i.readdir(t,n));const f=(t,e,n,a,o)=>{if("string"==typeof e)return i.lstat(r.resolve(t,e),(i,r)=>{if(i)return o(i);r.name=e,f(t,r,n,a,o)});if(e.isDirectory())d(r.resolve(t,e.name),n,a,c=>{if(c)return o(c);const h=r.resolve(t,e.name);i[s](h,n,a,l(h,n,a,o))});else{const c=r.resolve(t,e.name);i[s](c,n,a,l(c,n,a,o))}},d=(t,e,n,r)=>{u(t,{withFileTypes:!0},(a,o)=>{if(a&&"ENOTDIR"!==a.code&&"ENOTSUP"!==a.code)return r(a);if(a||!o.length)return i[s](t,e,n,l(t,e,n,r));let c=o.length,h=null;const u=a=>{if(!h)return a?r(h=a):0==--c?i[s](t,e,n,l(t,e,n,r)):void 0};o.forEach(i=>f(t,i,e,n,u))})},p=(t,e,n)=>{let s;try{s=((t,e)=>i.readdirSync(t,e))(t,{withFileTypes:!0})}catch(i){if(i&&"ENOTDIR"===i.code&&"ENOTSUP"!==i.code)return c(t,e,n);throw i}return s.length&&s.forEach(s=>((t,e,n,s)=>{if("string"==typeof e){const n=i.lstatSync(r.resolve(t,e));n.name=e,e=n}e.isDirectory()&&p(r.resolve(t,e.name),n,s),c(r.resolve(t,e.name),n,s)})(t,s,e,n)),c(t,e,n)};t.exports=d,d.sync=p},function(t,e,n){e.extract=n(67),e.pack=n(78)},function(t,e,n){var i=n(2),r=n(68),s=n(75),a=n(31),o=n(5).Writable,l=n(5).PassThrough,c=function(){},h=function(t){return(t&=511)&&512-t},u=function(t,e){this._parent=t,this.offset=e,l.call(this)};i.inherits(u,l),u.prototype.destroy=function(t){this._parent.destroy(t)};var f=function(t){if(!(this instanceof f))return new f(t);o.call(this,t),t=t||{},this._offset=0,this._buffer=r(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,n=e._buffer,i=function(){e._continue()},l=function(t){if(e._locked=!1,t)return e.destroy(t);e._stream||i()},d=function(){e._stream=null;var t=h(e._header.size);t?e._parse(t,p):e._parse(512,y),e._locked||i()},p=function(){e._buffer.consume(h(e._header.size)),e._parse(512,y),i()},g=function(){var t=e._header.size;e._paxGlobal=a.decodePax(n.slice(0,t)),n.consume(t),d()},v=function(){var t=e._header.size;e._pax=a.decodePax(n.slice(0,t)),e._paxGlobal&&(e._pax=s(e._paxGlobal,e._pax)),n.consume(t),d()},m=function(){var i=e._header.size;this._gnuLongPath=a.decodeLongPath(n.slice(0,i),t.filenameEncoding),n.consume(i),d()},b=function(){var i=e._header.size;this._gnuLongLinkPath=a.decodeLongPath(n.slice(0,i),t.filenameEncoding),n.consume(i),d()},y=function(){var r,s=e._offset;try{r=e._header=a.decode(n.slice(0,512),t.filenameEncoding)}catch(t){e.emit("error",t)}return n.consume(512),r?"gnu-long-path"===r.type?(e._parse(r.size,m),void i()):"gnu-long-link-path"===r.type?(e._parse(r.size,b),void i()):"pax-global-header"===r.type?(e._parse(r.size,g),void i()):"pax-header"===r.type?(e._parse(r.size,v),void i()):(e._gnuLongPath&&(r.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(r.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=r=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t}(r,e._pax),e._pax=null),e._locked=!0,r.size&&"directory"!==r.type?(e._stream=new u(e,s),e.emit("entry",r,e._stream,l),e._parse(r.size,d),void i()):(e._parse(512,y),void e.emit("entry",r,function(t,e){var n=new u(t,e);return n.end(),n}(e,s),l))):(e._parse(512,y),void i())};this._onheader=y,this._parse(512,y)};i.inherits(f,o),f.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))},f.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)},f.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,t):t()}},f.prototype._write=function(t,e,n){if(!this._destroyed){var i=this._stream,r=this._buffer,s=this._missing;if(t.length&&(this._partial=!0),t.length<s)return this._missing-=t.length,this._overflow=null,i?i.write(t,n):(r.append(t),n());this._cb=n,this._missing=0;var a=null;t.length>s&&(a=t.slice(s),t=t.slice(0,s)),i?i.end(t):r.append(t),this._overflow=a,this._onparse()}},f.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()},t.exports=f},function(t,e,n){var i=n(69),r=n(2),s=n(6).Buffer;function a(t){if(!(this instanceof a))return new a(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else this.append(t);i.call(this)}r.inherits(a,i),a.prototype._offset=function(t){var e,n=0,i=0;if(0===t)return[0,0];for(;i<this._bufs.length;i++){if(t<(e=n+this._bufs[i].length)||i==this._bufs.length-1)return[i,t-n];n=e}},a.prototype.append=function(t){var e=0;if(s.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof a)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(s.from(t)));return this},a.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},a.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},a.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},a.prototype.end=function(t){i.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype.get=function(t){return this.slice(t,t+1)[0]},a.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},a.prototype.copy=function(t,e,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length)return t||s.alloc(0);if(i<=0)return t||s.alloc(0);var r,a,o=!!t,l=this._offset(n),c=i-n,h=c,u=o&&e||0,f=l[1];if(0===n&&i==this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:s.concat(this._bufs,this.length);for(a=0;a<this._bufs.length;a++)this._bufs[a].copy(t,u),u+=this._bufs[a].length;return t}if(h<=this._bufs[l[0]].length-f)return o?this._bufs[l[0]].copy(t,e,f,f+h):this._bufs[l[0]].slice(f,f+h);for(o||(t=s.allocUnsafe(c)),a=l[0];a<this._bufs.length;a++){if(!(h>(r=this._bufs[a].length-f))){this._bufs[a].copy(t,u,f,f+h);break}this._bufs[a].copy(t,u,f),u+=r,h-=r,f&&(f=0)}return t},a.prototype.shallowSlice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var n=this._offset(t),i=this._offset(e),r=this._bufs.slice(n[0],i[0]+1);return 0==i[1]?r.pop():r[r.length-1]=r[r.length-1].slice(0,i[1]),0!=n[1]&&(r[0]=r[0].slice(n[1])),new a(r)},a.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},a.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},a.prototype.duplicate=function(){for(var t=0,e=new a;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},a.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)!function(e){a.prototype[e]=function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),t.exports=a},function(t,e,n){t.exports=n(5).Duplex},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=require("buffer")},function(t,e,n){"use strict";var i=n(6).Buffer,r=n(2);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r,s=i.allocUnsafe(t>>>0),a=this.head,o=0;a;)e=a.data,n=s,r=o,e.copy(n,r),o+=a.data.length,a=a.next;return s},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e,n){t.exports=n(2).deprecate},function(t,e,n){"use strict";t.exports=s;var i=n(30),r=n(7);function s(t){if(!(this instanceof s))return new s(t);i.call(this,t)}r.inherits=n(3),r.inherits(s,i),s.prototype._transform=function(t,e,n){n(null,t)}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)n.call(i,r)&&(t[r]=i[r])}return t};var n=Object.prototype.hasOwnProperty},function(t,e){var n=function(){try{if(!Buffer.isEncoding("latin1"))return!1;var t=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return t.fill("ab","ucs2"),"61006200"===t.toString("hex")}catch(t){return!1}}();function i(t,e,n,i){if(n<0||i>t.length)throw new RangeError("Out of range index");return n>>>=0,(i=void 0===i?t.length:i>>>0)>n&&t.fill(e,n,i),t}t.exports=function(t,e,r,s,a){if(n)return t.fill(e,r,s,a);if("number"==typeof e)return i(t,e,r,s);if("string"==typeof e){if("string"==typeof r?(a=r,r=0,s=t.length):"string"==typeof s&&(a=s,s=t.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("latin1"===a&&(a="binary"),"string"==typeof a&&!Buffer.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(""===e)return i(t,0,r,s);if(function(t){return 1===t.length&&t.charCodeAt(0)<256}(e))return i(t,e.charCodeAt(0),r,s);e=new Buffer(e,a)}return Buffer.isBuffer(e)?function(t,e,n,i){if(n<0||i>t.length)throw new RangeError("Out of range index");if(i<=n)return t;n>>>=0,i=void 0===i?t.length:i>>>0;for(var r=n,s=e.length;r<=i-s;)e.copy(t,r),r+=s;return r!==i&&e.copy(t,r,0,i-r),t}(t,e,r,s):i(t,0,r,s)}},function(t,e){t.exports=function(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t)}},function(t,e,n){var i=n(79),r=n(34),s=n(2),a=n(33),o=n(32),l=n(5).Readable,c=n(5).Writable,h=n(81).StringDecoder,u=n(31),f=parseInt("755",8),d=parseInt("644",8),p=a(1024),g=function(){},v=function(t,e){(e&=511)&&t.push(p.slice(0,512-e))};var m=function(t){c.call(this),this.written=0,this._to=t,this._destroyed=!1};s.inherits(m,c),m.prototype._write=function(t,e,n){if(this.written+=t.length,this._to.push(t))return n();this._to._drain=n},m.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(){c.call(this),this.linkname="",this._decoder=new h("utf-8"),this._destroyed=!1};s.inherits(b,c),b.prototype._write=function(t,e,n){this.linkname+=this._decoder.write(t),n()},b.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this._destroyed=!1};s.inherits(y,c),y.prototype._write=function(t,e,n){n(new Error("No body allowed for this entry"))},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var _=function(t){if(!(this instanceof _))return new _(t);l.call(this,t),this._drain=g,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};s.inherits(_,l),_.prototype.entry=function(t,e,n){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof e&&(n=e,e=null),n||(n=g);var s=this;if(t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=function(t){switch(t&i.S_IFMT){case i.S_IFBLK:return"block-device";case i.S_IFCHR:return"character-device";case i.S_IFDIR:return"directory";case i.S_IFIFO:return"fifo";case i.S_IFLNK:return"symlink"}return"file"}(t.mode)),t.mode||(t.mode="directory"===t.type?f:d),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"==typeof e&&(e=o(e)),Buffer.isBuffer(e))return t.size=e.length,this._encode(t),this.push(e),v(s,t.size),process.nextTick(n),new y;if("symlink"===t.type&&!t.linkname){var a=new b;return r(a,function(e){if(e)return s.destroy(),n(e);t.linkname=a.linkname,s._encode(t),n()}),a}if(this._encode(t),"file"!==t.type&&"contiguous-file"!==t.type)return process.nextTick(n),new y;var l=new m(this);return this._stream=l,r(l,function(e){return s._stream=null,e?(s.destroy(),n(e)):l.written!==t.size?(s.destroy(),n(new Error("size mismatch"))):(v(s,t.size),s._finalizing&&s.finalize(),void n())}),l}},_.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(p),this.push(null))},_.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},_.prototype._encode=function(t){if(!t.pax){var e=u.encode(t);if(e)return void this.push(e)}this._encodePax(t)},_.prototype._encodePax=function(t){var e=u.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),n={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(u.encode(n)),this.push(e),v(this,e.length),n.size=t.size,n.type=t.type,this.push(u.encode(n))},_.prototype._read=function(t){var e=this._drain;this._drain=g,e()},t.exports=_},function(t,e,n){t.exports=n(0).constants||n(80)},function(t,e){t.exports=require("constants")},function(t,e){t.exports=require("string_decoder")},function(t,e,n){var i=n(8),r=n(34),s=n(0),a=function(){},o=function(t){return"function"==typeof t},l=function(t,e,n,l){l=i(l);var c=!1;t.on("close",function(){c=!0}),r(t,{readable:e,writable:n},function(t){if(t)return l(t);c=!0,l()});var h=!1;return function(e){if(!c&&!h)return h=!0,function(t){return!!s&&(t instanceof(s.ReadStream||a)||t instanceof(s.WriteStream||a))&&o(t.close)}(t)?t.close(a):function(t){return t.setHeader&&o(t.abort)}(t)?t.abort():o(t.destroy)?t.destroy():void l(e||new Error("stream was destroyed"))}},c=function(t){t()},h=function(t,e){return t.pipe(e)};t.exports=function(){var t,e=Array.prototype.slice.call(arguments),n=o(e[e.length-1]||a)&&e.pop()||a;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var i=e.map(function(r,s){var a=s<e.length-1;return l(r,a,s>0,function(e){t||(t=e),e&&i.forEach(c),a||(i.forEach(c),n(t))})});return e.reduce(h)}},function(t,e){t.exports=require("zlib")},function(t,e,n){"use strict";var i=n(18),r=i.spawn,s=i.exec;function a(t,e,n){var i={};try{Object.keys(t).forEach(function(n){t[n].forEach(function(t){i[t]||(o(t,e),i[t]=1)}),i[n]||(o(n,e),i[n]=1)})}catch(t){if(n)return n(t);throw t}if(n)return n()}function o(t,e){try{process.kill(parseInt(t,10),e)}catch(t){if("ESRCH"!==t.code)throw t}}function l(t,e,n,i,r){var s=i(t),a="";s.stdout.on("data",function(t){t=t.toString("ascii");a+=t});s.on("close",function(s){delete n[t],0==s?a.match(/\d+/g).forEach(function(s){s=parseInt(s,10),e[t].push(s),e[s]=[],n[s]=1,l(s,e,n,i,r)}):0==Object.keys(n).length&&r()})}t.exports=function(t,e,n){var i={},o={};switch(i[t]=[],o[t]=1,"function"==typeof e&&void 0===n&&(n=e,e=void 0),process.platform){case"win32":s("taskkill /pid "+t+" /T /F",n);break;case"darwin":l(t,i,o,function(t){return r("pgrep",["-P",t])},function(){a(i,e,n)});break;default:l(t,i,o,function(t){return r("ps",["-o","pid","--no-headers","--ppid",t])},function(){a(i,e,n)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(11);e.default=class extends i.default{javaBinary(){return"./java"}javaPath(){return"bin"}jdkUrl(){return`https://cdn.serenade.ai/jdk/jdk-mac-${this.jdkVersion()}.tar.gz`}jdkVersion(){return"b62c1cb2e6456a5590194053b063ee21"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(11);e.default=class extends i.default{javaBinary(){return"java.exe"}javaPath(){return"bin"}jdkUrl(){return`https://cdn.serenade.ai/jdk/jdk-windows-${this.jdkVersion()}.tar.gz`}jdkVersion(){return"826e79539e8bbcc338c46e32ce3dfbb6"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0),r=n(12),s=n(10);e.default=class{constructor(){this.data={},this.defaults={disable_autostart:!1,ignore:[".git/",".gradle/",".pyc$",".class$",".jar$",".dylib$"],token:""}}file(){return`${this.path()}/settings.json`}load(){if(this.data={},r.sync(this.path()),i.existsSync(this.file()))try{this.data=JSON.parse(i.readFileSync(this.file()).toString())}catch(t){}}get(t){return this.load(),void 0===this.data[t]?this.defaults[t]:this.data[t]}path(){return`${s.homedir()}/.serenade`}save(){r.sync(this.path()),i.writeFileSync(this.file(),JSON.stringify(this.data))}set(t,e){this.load(),this.data[t]=e,this.save()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.data={},this.callbacks={}}afterSet(t,e,n){}get(t){return this.data[t]}set(t,e){let n=this.data[t];if(n&&(n=JSON.parse(JSON.stringify(this.data[t]))),this.data[t]=e,t in this.callbacks)for(let i of this.callbacks[t])i(e,n);this.afterSet(t,e,n)}subscribe(t,e){t in this.callbacks||(this.callbacks[t]=[]),this.callbacks[t].push(e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.app=t,this.ipc=e,this.container=document.createElement("div"),this.container.classList.add("serenade"),this.container.classList.add("transcript-input-container"),this.input=document.createElement("atom-text-editor"),this.input.setAttribute("mini","true"),this.input.addEventListener("blur",()=>{this.hide()}),this.input.addEventListener("keyup",t=>{27==t.which?this.hide():13==t.which&&(this.execute(),this.hide())}),this.container.appendChild(this.input),this.panel=atom.workspace.addModalPanel({item:this.container,visible:!1})}execute(){this.ipc.send("SEND_TEXT",{text:this.input.getModel().getText()})}hide(){this.panel.hide(),this.app.focusEditor()}show(){this.input.getModel().setText(""),this.panel.show(),this.input.focus()}}}]);
//# sourceMappingURL=extension.js.map