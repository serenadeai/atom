module.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=17)}([function(t,e){t.exports=require("crypto")},function(t,e,i){"use strict";t.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(t,e,i){"use strict";const n=i(27),r=i(3),s=i(30),{kStatusCode:o,NOOP:a}=i(1),h=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),l=Symbol("total-length"),f=Symbol("callback"),u=Symbol("buffers"),d=Symbol("error");let p;function g(t){this[u].push(t),this[l]+=t.length}function _(t){this[l]+=t.length,this[c]._maxPayload<1||this[l]<=this[c]._maxPayload?this[u].push(t):(this[d]=new RangeError("Max payload size exceeded"),this[d][o]=1009,this.removeListener("data",_),this.reset())}function m(t){this[c]._inflate=null,t[o]=1007,this[f](t)}t.exports=class{constructor(t,e,i){if(this._maxPayload=0|i,this._options=t||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!e,this._deflate=null,this._inflate=null,this.params=null,!p){const t=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;p=new s(t)}}static get extensionName(){return"permessage-deflate"}offer(){const t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const t=this._deflate[f];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){const e=this._options,i=t.find(t=>!(!1===e.serverNoContextTakeover&&t.server_no_context_takeover||t.server_max_window_bits&&(!1===e.serverMaxWindowBits||"number"==typeof e.serverMaxWindowBits&&e.serverMaxWindowBits>t.server_max_window_bits)||"number"==typeof e.clientMaxWindowBits&&!t.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return e.serverNoContextTakeover&&(i.server_no_context_takeover=!0),e.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof e.serverMaxWindowBits&&(i.server_max_window_bits=e.serverMaxWindowBits),"number"==typeof e.clientMaxWindowBits?i.client_max_window_bits=e.clientMaxWindowBits:!0!==i.client_max_window_bits&&!1!==e.clientMaxWindowBits||delete i.client_max_window_bits,i}acceptAsClient(t){const e=t[0];if(!1===this._options.clientNoContextTakeover&&e.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(e.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&e.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(e.client_max_window_bits=this._options.clientMaxWindowBits);return e}normalizeParams(t){return t.forEach(t=>{Object.keys(t).forEach(e=>{let i=t[e];if(i.length>1)throw new Error(`Parameter "${e}" must have only a single value`);if(i=i[0],"client_max_window_bits"===e){if(!0!==i){const t=+i;if(!Number.isInteger(t)||t<8||t>15)throw new TypeError(`Invalid value for parameter "${e}": ${i}`);i=t}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${e}": ${i}`)}else if("server_max_window_bits"===e){const t=+i;if(!Number.isInteger(t)||t<8||t>15)throw new TypeError(`Invalid value for parameter "${e}": ${i}`);i=t}else{if("client_no_context_takeover"!==e&&"server_no_context_takeover"!==e)throw new Error(`Unknown parameter "${e}"`);if(!0!==i)throw new TypeError(`Invalid value for parameter "${e}": ${i}`)}t[e]=i})}),t}decompress(t,e,i){p.add(n=>{this._decompress(t,e,(t,e)=>{n(),i(t,e)})})}compress(t,e,i){p.add(n=>{this._compress(t,e,(t,e)=>{n(),i(t,e)})})}_decompress(t,e,i){const s=this._isServer?"client":"server";if(!this._inflate){const t=`${s}_max_window_bits`,e="number"!=typeof this.params[t]?n.Z_DEFAULT_WINDOWBITS:this.params[t];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:e}),this._inflate[c]=this,this._inflate[l]=0,this._inflate[u]=[],this._inflate.on("error",m),this._inflate.on("data",_)}this._inflate[f]=i,this._inflate.write(t),e&&this._inflate.write(h),this._inflate.flush(()=>{const t=this._inflate[d];if(t)return this._inflate.close(),this._inflate=null,void i(t);const n=r.concat(this._inflate[u],this._inflate[l]);e&&this.params[`${s}_no_context_takeover`]?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[u]=[]),i(null,n)})}_compress(t,e,i){const s=this._isServer?"server":"client";if(!this._deflate){const t=`${s}_max_window_bits`,e="number"!=typeof this.params[t]?n.Z_DEFAULT_WINDOWBITS:this.params[t];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:e}),this._deflate[l]=0,this._deflate[u]=[],this._deflate.on("error",a),this._deflate.on("data",g)}this._deflate[f]=i,this._deflate.write(t),this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let t=r.concat(this._deflate[u],this._deflate[l]);e&&(t=t.slice(0,t.length-4)),this._deflate[f]=null,e&&this.params[`${s}_no_context_takeover`]?(this._deflate.close(),this._deflate=null):(this._deflate[l]=0,this._deflate[u]=[]),i(null,t)})}}},function(t,e,i){"use strict";const{EMPTY_BUFFER:n}=i(1);function r(t,e){if(0===t.length)return n;if(1===t.length)return t[0];const i=Buffer.allocUnsafe(e);let r=0;for(let e=0;e<t.length;e++){const n=t[e];i.set(n,r),r+=n.length}return r<e?i.slice(0,r):i}function s(t,e,i,n,r){for(let s=0;s<r;s++)i[n+s]=t[s]^e[3&s]}function o(t,e){const i=t.length;for(let n=0;n<i;n++)t[n]^=e[3&n]}function a(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function h(t){if(h.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Buffer.from(t):ArrayBuffer.isView(t)?e=function(t){const e=Buffer.from(t.buffer);if(t.byteLength!==t.buffer.byteLength)return e.slice(t.byteOffset,t.byteOffset+t.byteLength);return e}(t):(e=Buffer.from(t),h.readOnly=!1),e}try{const e=i(28),n=e.BufferUtil||e;t.exports={concat:r,mask(t,e,i,r,o){o<48?s(t,e,i,r,o):n.mask(t,e,i,r,o)},toArrayBuffer:a,toBuffer:h,unmask(t,e){t.length<32?o(t,e):n.unmask(t,e)}}}catch(e){t.exports={concat:r,mask:s,toArrayBuffer:a,toBuffer:h,unmask:o}}},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e,i){"use strict";const n=i(7),r=i(23),s=i(8),o=i(24),a=i(25),{randomBytes:h,createHash:c}=i(0),{URL:l}=i(26),f=i(2),u=i(11),d=i(14),{BINARY_TYPES:p,EMPTY_BUFFER:g,GUID:_,kStatusCode:m,kWebSocket:v,NOOP:y}=i(1),{addEventListener:b,removeEventListener:w}=i(33),{format:x,parse:E}=i(15),{toBuffer:S}=i(3),k=["CONNECTING","OPEN","CLOSING","CLOSED"],M=[8,13],O=3e4;class T extends n{constructor(t,e,i){super(),this.readyState=T.CONNECTING,this.protocol="",this._binaryType=p[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==t?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(e)?e=e.join(", "):"object"==typeof e&&null!==e&&(i=e,e=void 0),function t(e,i,n,o){const a={protocolVersion:M[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0};if(!M.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} `+`(supported versions: ${M.join(", ")})`);let u;i instanceof l?(u=i,e.url=i.href):(u=new l(i),e.url=i);const d="ws+unix:"===u.protocol;if(!(u.host||d&&u.pathname))throw new Error(`Invalid URL: ${e.url}`);const p="wss:"===u.protocol||"https:"===u.protocol;const g=p?443:80;const m=h(16).toString("base64");const v=p?r.get:s.get;let y;a.createConnection=p?A:D;a.defaultPort=a.defaultPort||g;a.port=u.port||g;a.host=u.hostname.startsWith("[")?u.hostname.slice(1,-1):u.hostname;a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket",...a.headers};a.path=u.pathname+u.search;a.timeout=a.handshakeTimeout;a.perMessageDeflate&&(y=new f(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=x({[f.extensionName]:y.offer()}));n&&(a.headers["Sec-WebSocket-Protocol"]=n);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(u.username||u.password)&&(a.auth=`${u.username}:${u.password}`);if(d){const t=a.path.split(":");a.socketPath=t[0],a.path=t[1]}let b=e._req=v(a);a.timeout&&b.on("timeout",()=>{C(e,b,"Opening handshake has timed out")});b.on("error",t=>{e._req.aborted||(b=e._req=null,e.readyState=T.CLOSING,e.emit("error",t),e.emitClose())});b.on("response",r=>{const s=r.headers.location,h=r.statusCode;if(s&&a.followRedirects&&h>=300&&h<400){if(++e._redirects>a.maxRedirects)return void C(e,b,"Maximum redirects exceeded");b.abort();const r=new l(s,i);t(e,r,n,o)}else e.emit("unexpected-response",b,r)||C(e,b,`Unexpected server response: ${r.statusCode}`)});b.on("upgrade",(t,i,r)=>{if(e.emit("upgrade",t),e.readyState!==T.CONNECTING)return;b=e._req=null;const s=c("sha1").update(m+_).digest("base64");if(t.headers["sec-websocket-accept"]!==s)return void C(e,i,"Invalid Sec-WebSocket-Accept header");const o=t.headers["sec-websocket-protocol"],h=(n||"").split(/, */);let l;if(!n&&o?l="Server sent a subprotocol but none was requested":n&&!o?l="Server sent no subprotocol":o&&!h.includes(o)&&(l="Server sent an invalid subprotocol"),l)C(e,i,l);else{if(o&&(e.protocol=o),y)try{const n=E(t.headers["sec-websocket-extensions"]);n[f.extensionName]&&(y.accept(n[f.extensionName]),e._extensions[f.extensionName]=y)}catch(t){return void C(e,i,"Invalid Sec-WebSocket-Extensions header")}e.setSocket(i,r,a.maxPayload)}})}(this,t,e,i)):this._isServer=!0}get CONNECTING(){return T.CONNECTING}get CLOSING(){return T.CLOSING}get CLOSED(){return T.CLOSED}get OPEN(){return T.OPEN}get binaryType(){return this._binaryType}set binaryType(t){p.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(t,e,i){const n=new u(this._binaryType,this._extensions,this._isServer,i);this._sender=new d(t,this._extensions),this._receiver=n,this._socket=t,n[v]=this,t[v]=this,n.on("conclude",N),n.on("drain",L),n.on("error",I),n.on("message",R),n.on("ping",B),n.on("pong",F),t.setTimeout(0),t.setNoDelay(),e.length>0&&t.unshift(e),t.on("close",$),t.on("data",U),t.on("end",W),t.on("error",q),this.readyState=T.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this.readyState=T.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[f.extensionName]&&this._extensions[f.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=T.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,e){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING){const t="WebSocket was closed before the connection was established";return C(this,this._req,t)}this.readyState!==T.CLOSING?(this.readyState=T.CLOSING,this._sender.close(t,e,!this._isServer,t=>{t||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),O)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(t,e,i){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(i=t,t=e=void 0):"function"==typeof e&&(i=e,e=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===T.OPEN?(void 0===e&&(e=!this._isServer),this._sender.ping(t||g,e,i)):P(this,t,i)}pong(t,e,i){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(i=t,t=e=void 0):"function"==typeof e&&(i=e,e=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===T.OPEN?(void 0===e&&(e=!this._isServer),this._sender.pong(t||g,e,i)):P(this,t,i)}send(t,e,i){if(this.readyState===T.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e&&(i=e,e={}),"number"==typeof t&&(t=t.toString()),this.readyState!==T.OPEN)return void P(this,t,i);const n={binary:"string"!=typeof t,mask:!this._isServer,compress:!0,fin:!0,...e};this._extensions[f.extensionName]||(n.compress=!1),this._sender.send(t||g,n,i)}terminate(){if(this.readyState!==T.CLOSED){if(this.readyState===T.CONNECTING){const t="WebSocket was closed before the connection was established";return C(this,this._req,t)}this._socket&&(this.readyState=T.CLOSING,this._socket.destroy())}}}function D(t){return t.path=t.socketPath,o.connect(t)}function A(t){return t.path=void 0,t.servername||""===t.servername||(t.servername=t.host),a.connect(t)}function C(t,e,i){t.readyState=T.CLOSING;const n=new Error(i);Error.captureStackTrace(n,C),e.setHeader?(e.abort(),e.once("abort",t.emitClose.bind(t)),t.emit("error",n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function P(t,e,i){if(e){const i=S(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(i){i(new Error(`WebSocket is not open: readyState ${t.readyState} `+`(${k[t.readyState]})`))}}function N(t,e){const i=this[v];i._socket.removeListener("data",U),i._socket.resume(),i._closeFrameReceived=!0,i._closeMessage=e,i._closeCode=t,1005===t?i.close():i.close(t,e)}function L(){this[v]._socket.resume()}function I(t){const e=this[v];e._socket.removeListener("data",U),e.readyState=T.CLOSING,e._closeCode=t[m],e.emit("error",t),e._socket.destroy()}function j(){this[v].emitClose()}function R(t){this[v].emit("message",t)}function B(t){const e=this[v];e.pong(t,!e._isServer,y),e.emit("ping",t)}function F(t){this[v].emit("pong",t)}function $(){const t=this[v];this.removeListener("close",$),this.removeListener("end",W),t.readyState=T.CLOSING,t._socket.read(),t._receiver.end(),this.removeListener("data",U),this[v]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",j),t._receiver.on("finish",j))}function U(t){this[v]._receiver.write(t)||this.pause()}function W(){const t=this[v];t.readyState=T.CLOSING,t._receiver.end(),this.end()}function q(){const t=this[v];this.removeListener("error",q),this.on("error",y),t&&(t.readyState=T.CLOSING,this.destroy())}k.forEach((t,e)=>{T[t]=e}),["open","error","close","message"].forEach(t=>{Object.defineProperty(T.prototype,`on${t}`,{get(){const e=this.listeners(t);for(let t=0;t<e.length;t++)if(e[t]._listener)return e[t]._listener},set(e){const i=this.listeners(t);for(let e=0;e<i.length;e++)i[e]._listener&&this.removeListener(t,i[e]);this.addEventListener(t,e)}})}),T.prototype.addEventListener=b,T.prototype.removeEventListener=w,t.exports=T},function(t,e){t.exports=require("events")},function(t,e){t.exports=require("http")},function(t,e,i){var n=i(4),r=i(5),s=i(10),o=require,a=process.versions.modules,h=!(!process.versions||!process.versions.electron)||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",c=s.arch(),l=s.platform();function f(t){return o(f.path(t))}function u(t,e){try{var i=n.readdirSync(t).filter(e);return i[0]&&r.join(t,i[0])}catch(t){return null}}function d(t){return t===h+"-napi.node"}function p(t){return"node-napi.node"===t}function g(t){var e=t.split("-");return e[0]===h&&e[1]===a+".node"}function _(t){return/\.node$/.test(t)}t.exports=f,f.path=function(t){t=r.resolve(t||".");try{var e=o(r.join(t,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[e+"_PREBUILD"]&&(t=process.env[e+"_PREBUILD"])}catch(t){}var i=u(r.join(t,"build/Release"),_);if(i)return i;var n=u(r.join(t,"build/Debug"),_);if(n)return n;var s=u(r.join(t,"prebuilds/"+l+"-"+c),g);if(s)return s;var f=u(r.join(t,"prebuilds/"+l+"-"+c),d);if(f)return f;var m=u(r.join(t,"prebuilds/"+l+"-"+c),p);if(m)return m;throw new Error("No native build was found for runtime="+h+" abi="+a+" platform="+l+" arch="+c)}},function(t,e){t.exports=require("os")},function(t,e,i){"use strict";const{Writable:n}=i(12),r=i(2),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:h}=i(1),{concat:c,toArrayBuffer:l,unmask:f}=i(3),{isValidStatusCode:u,isValidUTF8:d}=i(13),p=0,g=1,_=2,m=3,v=4,y=5;function b(t,e,i,n){const r=new t(i?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(r,b),r[a]=n,r}t.exports=class extends n{constructor(t,e,i,n){super(),this._binaryType=t||s[0],this[h]=void 0,this._extensions=e||{},this._isServer=!!i,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=p,this._loop=!1}_write(t,e,i){if(8===this._opcode&&this._state==p)return i();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(i)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){const e=this._buffers[0];return this._buffers[0]=e.slice(t),e.slice(0,t)}const e=Buffer.allocUnsafe(t);do{const i=this._buffers[0],n=e.length-t;t>=i.length?e.set(this._buffers.shift(),n):(e.set(new Uint8Array(i.buffer,i.byteOffset,t),n),this._buffers[0]=i.slice(t)),t-=i.length}while(t>0);return e}startLoop(t){let e;this._loop=!0;do{switch(this._state){case p:e=this.getInfo();break;case g:e=this.getPayloadLength16();break;case _:e=this.getPayloadLength64();break;case m:this.getMask();break;case v:e=this.getData(t);break;default:return void(this._loop=!1)}}while(this._loop);t(e)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(0!=(48&t[0]))return this._loop=!1,b(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const e=64==(64&t[0]);if(e&&!this._extensions[r.extensionName])return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(e)return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,b(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,b(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=e}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,b(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,b(RangeError,"FIN must be set",!0,1002);if(e)return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,b(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&t[1]),this._isServer){if(!this._masked)return this._loop=!1,b(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,b(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=g;else{if(127!==this._payloadLength)return this.haveLength();this._state=_}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),e=t.readUInt32BE(0);return e>Math.pow(2,21)-1?(this._loop=!1,b(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=e*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,b(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=m:this._state=v}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=v)}getData(t){let e=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);e=this.consume(this._payloadLength),this._masked&&f(e,this._mask)}return this._opcode>7?this.controlMessage(e):this._compressed?(this._state=y,void this.decompress(e,t)):(e.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(e)),this.dataMessage())}decompress(t,e){this._extensions[r.extensionName].decompress(t,this._fin,(t,i)=>{if(t)return e(t);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return e(b(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(i)}const n=this.dataMessage();if(n)return e(n);this.startLoop(e)})}dataMessage(){if(this._fin){const t=this._messageLength,e=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let i;i="nodebuffer"===this._binaryType?c(e,t):"arraybuffer"===this._binaryType?l(c(e,t)):e,this.emit("message",i)}else{const i=c(e,t);if(!d(i))return this._loop=!1,b(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",i.toString())}}this._state=p}controlMessage(t){if(8===this._opcode)if(this._loop=!1,0===t.length)this.emit("conclude",1005,""),this.end();else{if(1===t.length)return b(RangeError,"invalid payload length 1",!0,1002);{const e=t.readUInt16BE(0);if(!u(e))return b(RangeError,`invalid status code ${e}`,!0,1002);const i=t.slice(2);if(!d(i))return b(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",e,i.toString()),this.end()}}else 9===this._opcode?this.emit("ping",t):this.emit("pong",t);this._state=p}}},function(t,e){t.exports=require("stream")},function(t,e,i){"use strict";try{const t=i(31);e.isValidUTF8="object"==typeof t?t.Validation.isValidUTF8:t}catch(t){e.isValidUTF8=()=>!0}e.isValidStatusCode=t=>t>=1e3&&t<=1014&&1004!==t&&1005!==t&&1006!==t||t>=3e3&&t<=4999},function(t,e,i){"use strict";const{randomFillSync:n}=i(0),r=i(2),{EMPTY_BUFFER:s}=i(1),{isValidStatusCode:o}=i(13),{mask:a,toBuffer:h}=i(3),c=Buffer.alloc(4);class l{constructor(t,e){this._extensions=e||{},this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,e){const i=e.mask&&e.readOnly;let r=e.mask?6:2,s=t.length;t.length>=65536?(r+=8,s=127):t.length>125&&(r+=2,s=126);const o=Buffer.allocUnsafe(i?t.length+r:r);return o[0]=e.fin?128|e.opcode:e.opcode,e.rsv1&&(o[0]|=64),o[1]=s,126===s?o.writeUInt16BE(t.length,2):127===s&&(o.writeUInt32BE(0,2),o.writeUInt32BE(t.length,6)),e.mask?(n(c,0,4),o[1]|=128,o[r-4]=c[0],o[r-3]=c[1],o[r-2]=c[2],o[r-1]=c[3],i?(a(t,c,o,r,t.length),[o]):(a(t,c,t,0,t.length),[o,t])):[o,t]}close(t,e,i,n){let r;if(void 0===t)r=s;else{if("number"!=typeof t||!o(t))throw new TypeError("First argument must be a valid error code number");if(void 0===e||""===e)(r=Buffer.allocUnsafe(2)).writeUInt16BE(t,0);else{const i=Buffer.byteLength(e);if(i>123)throw new RangeError("The message must not be greater than 123 bytes");(r=Buffer.allocUnsafe(2+i)).writeUInt16BE(t,0),r.write(e,2)}}this._deflating?this.enqueue([this.doClose,r,i,n]):this.doClose(r,i,n)}doClose(t,e,i){this.sendFrame(l.frame(t,{fin:!0,rsv1:!1,opcode:8,mask:e,readOnly:!1}),i)}ping(t,e,i){const n=h(t);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,e,h.readOnly,i]):this.doPing(n,e,h.readOnly,i)}doPing(t,e,i,n){this.sendFrame(l.frame(t,{fin:!0,rsv1:!1,opcode:9,mask:e,readOnly:i}),n)}pong(t,e,i){const n=h(t);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,e,h.readOnly,i]):this.doPong(n,e,h.readOnly,i)}doPong(t,e,i,n){this.sendFrame(l.frame(t,{fin:!0,rsv1:!1,opcode:10,mask:e,readOnly:i}),n)}send(t,e,i){const n=h(t),s=this._extensions[r.extensionName];let o=e.binary?2:1,a=e.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=n.length>=s._threshold),this._compress=a):(a=!1,o=0),e.fin&&(this._firstFragment=!0),s){const t={fin:e.fin,rsv1:a,opcode:o,mask:e.mask,readOnly:h.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,t,i]):this.dispatch(n,this._compress,t,i)}else this.sendFrame(l.frame(n,{fin:e.fin,rsv1:!1,opcode:o,mask:e.mask,readOnly:h.readOnly}),i)}dispatch(t,e,i,n){if(!e)return void this.sendFrame(l.frame(t,i),n);const s=this._extensions[r.extensionName];this._deflating=!0,s.compress(t,i.fin,(t,e)=>{if(this._socket.destroyed){const t=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(t);for(let e=0;e<this._queue.length;e++){const i=this._queue[e][4];"function"==typeof i&&i(t)}}else this._deflating=!1,i.readOnly=!1,this.sendFrame(l.frame(e,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const t=this._queue.shift();this._bufferedBytes-=t[1].length,Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[1].length,this._queue.push(t)}sendFrame(t,e){2===t.length?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],e),this._socket.uncork()):this._socket.write(t[0],e)}}t.exports=l},function(t,e,i){"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(t,e,i){void 0===t[e]?t[e]=[i]:t[e].push(i)}t.exports={format:function(t){return Object.keys(t).map(e=>{let i=t[e];return Array.isArray(i)||(i=[i]),i.map(t=>[e].concat(Object.keys(t).map(e=>{let i=t[e];return Array.isArray(i)||(i=[i]),i.map(t=>!0===t?e:`${e}=${t}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(t){const e=Object.create(null);if(void 0===t||""===t)return e;let i,s,o=Object.create(null),a=!1,h=!1,c=!1,l=-1,f=-1,u=0;for(;u<t.length;u++){const d=t.charCodeAt(u);if(void 0===i)if(-1===f&&1===n[d])-1===l&&(l=u);else if(32===d||9===d)-1===f&&-1!==l&&(f=u);else{if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${u}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${u}`);-1===f&&(f=u);const n=t.slice(l,f);44===d?(r(e,n,o),o=Object.create(null)):i=n,l=f=-1}}else if(void 0===s)if(-1===f&&1===n[d])-1===l&&(l=u);else if(32===d||9===d)-1===f&&-1!==l&&(f=u);else if(59===d||44===d){if(-1===l)throw new SyntaxError(`Unexpected character at index ${u}`);-1===f&&(f=u),r(o,t.slice(l,f),!0),44===d&&(r(e,i,o),o=Object.create(null),i=void 0),l=f=-1}else{if(61!==d||-1===l||-1!==f)throw new SyntaxError(`Unexpected character at index ${u}`);s=t.slice(l,u),l=f=-1}else if(h){if(1!==n[d])throw new SyntaxError(`Unexpected character at index ${u}`);-1===l?l=u:a||(a=!0),h=!1}else if(c)if(1===n[d])-1===l&&(l=u);else if(34===d&&-1!==l)c=!1,f=u;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${u}`);h=!0}else if(34===d&&61===t.charCodeAt(u-1))c=!0;else if(-1===f&&1===n[d])-1===l&&(l=u);else if(-1===l||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${u}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${u}`);-1===f&&(f=u);let n=t.slice(l,f);a&&(n=n.replace(/\\/g,""),a=!1),r(o,s,n),44===d&&(r(e,i,o),o=Object.create(null),i=void 0),s=void 0,l=f=-1}}else-1===f&&(f=u)}if(-1===l||c)throw new SyntaxError("Unexpected end of input");-1===f&&(f=u);const d=t.slice(l,f);return void 0===i?r(e,d,o):(void 0===s?r(o,d,!0):r(o,s,a?d.replace(/\\/g,""):d),r(e,i,o)),e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(40);var r,s;!function(t){t[t.Add=0]="Add",t[t.Delete=1]="Delete"}(r=e.DiffRangeType||(e.DiffRangeType={})),function(t){t[t.Line=0]="Line",t[t.Word=1]="Word"}(s=e.DiffHighlightType||(e.DiffHighlightType={}));class o{constructor(t,e){this.row=t,this.column=e}static fromArray(t){return new o(t[0],t[1])}}e.DiffPoint=o;class a{constructor(t,e,i,n){this.diffRangeType=t,this.diffHighlightType=e,this.start=i,this.stop=n}static fromDiff(t,e,i,n){const r=h(e,i),c=h(e,i+n);r[0]==c[0]&&(r[1]++,c[1]++);let l=r[0]==c[0]?s.Word:s.Line;return i+n!=e.length-1&&"\n"!=e[i]||(r[0]++,r[1]=0,l=s.Line,r[0]!=c[0]&&i+n!=e.length-1||(c[0]++,c[1]=0)),new a(t,l,o.fromArray(r),o.fromArray(c))}}function h(t,e){let i=0,n=0;for(let r=0;r<e;r++)n++,"\n"==t[r]&&(i++,n=0);return[i,n]}e.DiffRange=a,e.cursorToRowAndColumn=h,e.diff=function(t,e){const i=new n;let s=i.diff_main(t,e);i.diff_cleanupSemantic(s);let o=[],h=-1,c=-1;for(const i of s)0==i[0]?(h+=i[1].length,c+=i[1].length):1==i[0]?(o.push(a.fromDiff(r.Add,e,c,i[1].length)),c+=i[1].length):-1==i[0]&&(o.push(a.fromDiff(r.Delete,t,h,i[1].length)),h+=i[1].length);return o}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=new(n(i(18)).default);e.activate=function(t){r.activate()},e.deactivate=function(){r.deactivate()}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((n=n.apply(t,e||[])).next())})},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(i(19)),a=s(i(20)),h=s(i(38));e.default=class extends a.default{activate(){this.initialize(),this.subscriptions=new o.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"serenade:initialize":()=>this.initialize()}))}app(){return"atom"}createCommandHandler(){return new h.default(this.settings)}deactivate(){this.destroy(),this.subscriptions.dispose()}hideMessage(){this.panel&&this.panel.destroy()}showInstallMessage(){const t=document.createElement("div");t.innerHTML='\n<div class="serenade-message">\n  <a href="#" class="serenade-message-close">&times;</a>\n  <div class="serenade-message-content">\n    <h1>Welcome to Serenade!</h1>\n    <p>With Serenade, you can write code faster&mdash;by speaking in plain English, rather than typing. Use Serenade as your coding assistant, or abandon your keyboard entirely.</p>\n    <p>To get started, download the Serenade app and run it alongside Atom.</p>\n    <a class="serenade-download" href="https://serenade.ai/">Download</a>\n  </div>\n</div>',t.querySelector(".serenade-message-close").addEventListener("click",t=>{t.preventDefault(),this.hideMessage()}),t.querySelector(".serenade-download").addEventListener("click",()=>{this.hideMessage()}),this.panel=atom.workspace.addRightPanel({item:t})}initialize(){return n(this,void 0,void 0,function*(){this.ipc||(this.run(),this.commandHandler.pollActiveEditor(),this.settings.setAtom(),atom.workspace.observeTextEditors(t=>{t.onDidChangeCursorPosition(()=>{this.ipc.sendActive()})}),atom.workspace.observeActiveTextEditor(t=>{t&&this.ipc.sendActive()}),atom.workspace.observeActivePane(t=>{t&&this.ipc.sendActive()}),atom.workspace.observeActivePaneItem(t=>{t&&this.ipc.sendActive()}))})}}},function(t,e){t.exports=require("atom")},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((n=n.apply(t,e||[])).next())})},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(21)),o=r(i(36));e.default=class{checkInstalled(){return!!this.settings.getInstalled()||(this.showInstallMessage(),!1)}destroy(){}run(){return n(this,void 0,void 0,function*(){this.settings=new o.default,this.commandHandler=this.createCommandHandler(),this.ipc=new s.default(this.commandHandler,this.app()),this.ipc.start(),this.checkInstalled()})}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((n=n.apply(t,e||[])).next())})},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=i(45),o=r(i(22));e.default=class{constructor(t,e){this.connected=!1,this.id="",this.lastSentActive=0,this.commandHandler=t,this.app=e,this.id=s.v4()}ensureConnection(){if(!this.connected)try{this.websocket=new o.default("ws://localhost:17373/"),this.websocket.on("error",()=>{}),this.websocket.on("open",()=>{this.connected=!0,this.sendActive()}),this.websocket.on("close",()=>{this.connected=!1}),this.websocket.on("message",t=>n(this,void 0,void 0,function*(){if("string"==typeof t){let e;try{e=JSON.parse(t)}catch(t){return}if("response"==e.message){const t=yield this.handle(e.data.response);t&&this.send("callback",{callback:e.data.callback,data:t})}}}))}catch(t){}}handle(t){return n(this,void 0,void 0,function*(){let e=null,i=!1;if(t.execute)for(const n of t.execute.commandsList)n.type in this.commandHandler&&(e=yield this.commandHandler[n.type](n),i=!0);return e||{message:"completed",data:{}}})}sendActive(){if(Date.now()-this.lastSentActive<1e3)return;this.send("active",{app:this.app,id:this.id})&&(this.lastSentActive=Date.now())}send(t,e){if(!this.connected)return!1;try{return this.websocket.send(JSON.stringify({message:t,data:e})),!0}catch(t){return this.connected=!1,!1}}start(){this.ensureConnection(),setInterval(()=>{this.ensureConnection()},1e3),setInterval(()=>{this.send("heartbeat",{app:this.app,id:this.id})},6e4)}}},function(t,e,i){"use strict";const n=i(6);n.createWebSocketStream=i(34),n.Server=i(35),n.Receiver=i(11),n.Sender=i(14),t.exports=n},function(t,e){t.exports=require("https")},function(t,e){t.exports=require("net")},function(t,e){t.exports=require("tls")},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("zlib")},function(t,e,i){"use strict";(function(e){try{t.exports=i(9)(e)}catch(e){t.exports=i(29)}}).call(this,"/")},function(t,e,i){"use strict";t.exports={mask:(t,e,i,n,r)=>{for(var s=0;s<r;s++)i[n+s]=t[s]^e[3&s]},unmask:(t,e)=>{const i=t.length;for(var n=0;n<i;n++)t[n]^=e[3&n]}}},function(t,e,i){"use strict";const n=Symbol("kDone"),r=Symbol("kRun");t.exports=class{constructor(t){this[n]=()=>{this.pending--,this[r]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const t=this.jobs.shift();this.pending++,t(this[n])}}}},function(t,e,i){"use strict";(function(e){try{t.exports=i(9)(e)}catch(e){t.exports=i(32)}}).call(this,"/")},function(t,e,i){"use strict";t.exports=t=>{for(var e=t.length,i=0;i<e;)if(t[i]<128)i++;else if(192==(224&t[i])){if(i+1===e||128!=(192&t[i+1])||192==(254&t[i]))return!1;i+=2}else if(224==(240&t[i])){if(i+2>=e||128!=(192&t[i+1])||128!=(192&t[i+2])||224===t[i]&&128==(224&t[i+1])||237===t[i]&&160==(224&t[i+1]))return!1;i+=3}else{if(240!=(248&t[i]))return!1;if(i+3>=e||128!=(192&t[i+1])||128!=(192&t[i+2])||128!=(192&t[i+3])||240===t[i]&&128==(240&t[i+1])||244===t[i]&&t[i+1]>143||t[i]>244)return!1;i+=4}return!0}},function(t,e,i){"use strict";class n{constructor(t,e){this.target=e,this.type=t}}class r extends n{constructor(t,e){super("message",e),this.data=t}}class s extends n{constructor(t,e,i){super("close",i),this.wasClean=i._closeFrameReceived&&i._closeFrameSent,this.reason=e,this.code=t}}class o extends n{constructor(t){super("open",t)}}class a extends n{constructor(t,e){super("error",e),this.message=t.message,this.error=t}}const h={addEventListener(t,e){function i(t){e.call(this,new r(t,this))}function n(t,i){e.call(this,new s(t,i,this))}function h(t){e.call(this,new a(t,this))}function c(){e.call(this,new o(this))}"function"==typeof e&&("message"===t?(i._listener=e,this.on(t,i)):"close"===t?(n._listener=e,this.on(t,n)):"error"===t?(h._listener=e,this.on(t,h)):"open"===t?(c._listener=e,this.on(t,c)):this.on(t,e))},removeEventListener(t,e){const i=this.listeners(t);for(let n=0;n<i.length;n++)i[n]!==e&&i[n]._listener!==e||this.removeListener(t,i[n])}};t.exports=h},function(t,e,i){"use strict";const{Duplex:n}=i(12);function r(t){t.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(t){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",t)}t.exports=function(t,e){let i=!0;function a(){i&&t._socket.resume()}t.readyState===t.CONNECTING?t.once("open",function(){t._receiver.removeAllListeners("drain"),t._receiver.on("drain",a)}):(t._receiver.removeAllListeners("drain"),t._receiver.on("drain",a));const h=new n({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(e){h.push(e)||(i=!1,t._socket.pause())}),t.once("error",function(t){h.destroyed||h.destroy(t)}),t.once("close",function(){h.destroyed||h.push(null)}),h._destroy=function(e,i){if(t.readyState===t.CLOSED)return i(e),void process.nextTick(r,h);let n=!1;t.once("error",function(t){n=!0,i(t)}),t.once("close",function(){n||i(e),process.nextTick(r,h)}),t.terminate()},h._final=function(e){t.readyState!==t.CONNECTING?null!==t._socket&&(t._socket._writableState.finished?(h._readableState.endEmitted&&h.destroy(),e()):(t._socket.once("finish",function(){e()}),t.close())):t.once("open",function(){h._final(e)})},h._read=function(){t.readyState!==t.OPEN||i||(i=!0,t._receiver._writableState.needDrain||t._socket.resume())},h._write=function(e,i,n){t.readyState!==t.CONNECTING?t.send(e,n):t.once("open",function(){h._write(e,i,n)})},h.on("end",s),h.on("error",o),h}},function(t,e,i){"use strict";const n=i(7),{createHash:r}=i(0),{createServer:s,STATUS_CODES:o}=i(8),a=i(2),h=i(6),{format:c,parse:l}=i(15),{GUID:f}=i(1),u=/^[+\/0-9A-Za-z]{22}==$/,d=Symbol("kUsedByWebSocketServer");function p(t){t.emit("close")}function g(){this.destroy()}function _(t,e,i,n){t.writable&&(i=i||o[e],n={Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(i),...n},t.write(`HTTP/1.1 ${e} ${o[e]}\r\n`+Object.keys(n).map(t=>`${t}: ${n[t]}`).join("\r\n")+"\r\n\r\n"+i)),t.removeListener("error",g),t.destroy()}t.exports=class extends n{constructor(t,e){if(super(),null==(t={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...t}).port&&!t.server&&!t.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=t.port)this._server=s((t,e)=>{const i=o[426];e.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),e.end(i)}),this._server.listen(t.port,t.host,t.backlog,e);else if(t.server){if(t.server[d])throw new Error("The HTTP/S server is already being used by another WebSocket server");t.server[d]=!0,this._server=t.server}this._server&&(this._removeListeners=function(t,e){for(const i of Object.keys(e))t.on(i,e[i]);return function(){for(const i of Object.keys(e))t.removeListener(i,e[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,e,i)=>{this.handleUpgrade(t,e,i,e=>{this.emit("connection",e,t)})}})),!0===t.perMessageDeflate&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set),this.options=t}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(t&&this.once("close",t),this.clients)for(const t of this.clients)t.terminate();const e=this._server;if(e){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void e.close(()=>this.emit("close"));delete e[d]}process.nextTick(p,this)}shouldHandle(t){if(this.options.path){const e=t.url.indexOf("?");if((-1!==e?t.url.slice(0,e):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,e,i,n){e.on("error",g);const r=void 0!==t.headers["sec-websocket-key"]&&t.headers["sec-websocket-key"].trim(),s=+t.headers["sec-websocket-version"],o={};if("GET"!==t.method||"websocket"!==t.headers.upgrade.toLowerCase()||!r||!u.test(r)||8!==s&&13!==s||!this.shouldHandle(t))return _(e,400);if(this.options.perMessageDeflate){const i=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const n=l(t.headers["sec-websocket-extensions"]);n[a.extensionName]&&(i.accept(n[a.extensionName]),o[a.extensionName]=i)}catch(t){return _(e,400)}}if(this.options.verifyClient){const a={origin:t.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!(!t.connection.authorized&&!t.connection.encrypted),req:t};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(s,a,h,c)=>{if(!s)return _(e,a||401,h,c);this.completeUpgrade(r,o,t,e,i,n)});if(!this.options.verifyClient(a))return _(e,401)}this.completeUpgrade(r,o,t,e,i,n)}completeUpgrade(t,e,i,n,s,o){if(!n.readable||!n.writable)return n.destroy();const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${r("sha1").update(t+f).digest("base64")}`],u=new h(null);let d=i.headers["sec-websocket-protocol"];if(d&&(d=d.trim().split(/ *, */),(d=this.options.handleProtocols?this.options.handleProtocols(d,i):d[0])&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u.protocol=d)),e[a.extensionName]){const t=e[a.extensionName].params,i=c({[a.extensionName]:[t]});l.push(`Sec-WebSocket-Extensions: ${i}`),u._extensions=e}this.emit("headers",l,i),n.write(l.concat("\r\n").join("\r\n")),n.removeListener("error",g),u.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(u),u.on("close",()=>this.clients.delete(u))),o(u)}}},function(t,e,i){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(4)),s=n(i(37)),o=n(i(10));e.default=class{constructor(){this.systemData={},this.systemDefaults={},this.userData={},this.userDefaults={ignore:["**/.git/**","**/.gradle/**","**/*.pyc","**/*.class","**/*.jar","**/*.dylib","**/node_modules/**","**/__pycache__/**"]}}createIfNotExists(t){s.sync(this.path()),r.existsSync(t)||r.closeSync(r.openSync(t,"w"))}dataForFile(t){return"user"==t?this.userData:"system"==t?this.systemData:void 0}defaultsForFile(t){return"user"==t?this.userDefaults:"system"==t?this.systemDefaults:void 0}get(t,e){this.load();let i=this.dataForFile(t);return void 0===i[e]?this.defaultsForFile(t)[e]:i[e]}load(){this.systemData={},this.userData={};try{this.systemData=JSON.parse(r.readFileSync(this.systemFile()).toString())}catch(t){this.systemData={}}try{this.userData=JSON.parse(r.readFileSync(this.userFile()).toString())}catch(t){this.userData={}}}save(){this.createIfNotExists(this.systemFile()),this.createIfNotExists(this.userFile()),r.writeFileSync(this.systemFile(),JSON.stringify(this.systemData)),r.writeFileSync(this.userFile(),JSON.stringify(this.userData))}set(t,e,i){this.load(),this.dataForFile(t)[e]=i,this.save()}systemFile(){return`${this.path()}/serenade.json`}userFile(){return`${this.path()}/settings.json`}getAnimations(){return this.get("user","animations")}getAtom(){return this.get("system","atom")}getCode(){return this.get("system","code")}getInstalled(){return this.get("system","installed")}getIgnore(){return this.get("user","ignore")}path(){return`${o.homedir()}/.serenade`}setAtom(){return this.set("system","atom",!0)}setCode(){return this.set("system","code",!0)}}},function(t,e,i){var n=i(5),r=i(4),s=parseInt("0777",8);function o(t,e,i,a){"function"==typeof e?(i=e,e={}):e&&"object"==typeof e||(e={mode:e});var h=e.mode,c=e.fs||r;void 0===h&&(h=s&~process.umask()),a||(a=null);var l=i||function(){};t=n.resolve(t),c.mkdir(t,h,function(i){if(!i)return l(null,a=a||t);switch(i.code){case"ENOENT":o(n.dirname(t),e,function(i,n){i?l(i,n):o(t,e,l,n)});break;default:c.stat(t,function(t,e){t||!e.isDirectory()?l(i,a):l(null,a)})}})}t.exports=o.mkdirp=o.mkdirP=o,o.sync=function t(e,i,o){i&&"object"==typeof i||(i={mode:i});var a=i.mode,h=i.fs||r;void 0===a&&(a=s&~process.umask()),o||(o=null),e=n.resolve(e);try{h.mkdirSync(e,a),o=o||e}catch(r){switch(r.code){case"ENOENT":o=t(n.dirname(e),i,o),t(e,i,o);break;default:var c;try{c=h.statSync(e)}catch(t){throw r}if(!c.isDirectory())throw r}}return o}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((n=n.apply(t,e||[])).next())})},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=r(i(39)),a=s(i(16)),h=s(i(41));e.default=class extends o.default{constructor(){super(...arguments),this.activeEditor=atom.workspace.getActiveTextEditor(),this.openFileList=[]}dispatch(t){let e=atom.workspace.getActivePane();this.activeEditor&&(e=atom.views.getView(this.activeEditor)),atom.commands.dispatch(e,t)}filenameForEditor(t){let e=t.getPath();const i=["js","jsx","vue","ts","tsx","java","py","html","css","less","scss"];for(const t of i)if(e.endsWith(`.${t}`))return e;const n=t.getRootScopeDescriptor().scopes;if(0===n.length)return e;e||(e="file");const r={"source.css":`${e}.css`,"text.html":`${e}.html`,"source.java":`${e}.java`,"source.js":`${e}.js`,"source.css.less":`${e}.css`,"source.python":`${e}.py`,"source.css.scss":`${e}.css`,"source.ts":`${e}.ts`,"source.tsx":`${e}.tsx`};for(const t of Object.keys(r))if(n[0].includes(t))return r[t];return e}ignorePattern(){return new RegExp(this.settings.getIgnore().map(t=>`(${new h.Minimatch(t).makeRe().source})`).join("|"))}searchFiles(t,e,i){const n=i.getPath().substring(e.getPath().length);if(this.ignorePattern().test(n))return[];let r=[];for(const n of i.getEntriesSync())if(n.isDirectory())r.push(...this.searchFiles(t,e,n));else if(n.isFile()){const i=n.getPath().substring(e.getPath().length);if(this.ignorePattern().test(i))continue;i.toLowerCase().replace(/\/|\./g,"").search(t)>-1&&r.push(n)}return r}focus(){return n(this,void 0,void 0,function*(){this.activeEditor&&atom.workspace.paneForItem(this.activeEditor).activate()})}getActiveEditorText(){if(this.activeEditor)return this.activeEditor.getText()}highlightRanges(t){const e=[1,2,1],i=200/e.length;if(!this.activeEditor||0==t.length)return 0;for(let n of t)for(let t=0;t<e.length;t++)setTimeout(()=>{const r=this.activeEditor.markBufferRange([n.start,n.stop]);this.activeEditor.decorateMarker(r,{type:"highlight",class:n.diffRangeType==a.DiffRangeType.Delete?`error-color-${e[t]}`:`success-color-${e[t]}`}),setTimeout(()=>{r.destroy()},i)},t*i);return 250}pollActiveEditor(){setInterval(()=>{this.reloadActiveEditor()},1e3)}reloadActiveEditor(){const t=atom.workspace.getActiveTextEditor();t&&(this.activeEditor=t)}scrollToCursor(){return n(this,void 0,void 0,function*(){})}select(t,e,i,n){this.activeEditor&&this.activeEditor.setSelectedBufferRange([[t,e],[i,n]])}setSourceAndCursor(t,e,i,n){this.activeEditor&&this.activeEditor.transact(()=>{this.activeEditor.setText(e),this.activeEditor.setCursorBufferPosition([i,n])})}uiDelay(){return n(this,void 0,void 0,function*(){return new Promise(t=>{setTimeout(()=>{t()},300)})})}COMMAND_TYPE_CLOSE_TAB(t){return n(this,void 0,void 0,function*(){atom.workspace.getActivePane().destroyActiveItem(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_CLOSE_WINDOW(t){return n(this,void 0,void 0,function*(){this.dispatch("pane:close"),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_COPY(t){return n(this,void 0,void 0,function*(){t&&t.text&&atom.clipboard.write(t.text)})}COMMAND_TYPE_CREATE_TAB(t){return n(this,void 0,void 0,function*(){yield this.focus(),atom.workspace.open(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_GET_EDITOR_STATE(t){return n(this,void 0,void 0,function*(){let t={source:"",cursor:0,filename:"",files:this.openFileList.map(t=>t.getPath()),roots:atom.project.getPaths()};if(!this.activeEditor)return t;let e=this.activeEditor.getCursorBufferPosition(),i=e.row,n=e.column,r=this.activeEditor.getText(),s=0,o=0,a=0;for(let t=0;t<r.length;t++){if(o==i){if(a==n)break;a++}"\n"==r[t]&&o++,s++}return t.source=r,t.cursor=s,t.filename=this.filenameForEditor(this.activeEditor),{message:"editorState",data:t}})}COMMAND_TYPE_GO_TO_DEFINITION(t){return n(this,void 0,void 0,function*(){})}COMMAND_TYPE_NEXT_TAB(t){return n(this,void 0,void 0,function*(){yield this.focus(),atom.workspace.getActivePane().activateNextItem(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_OPEN_FILE(t){return n(this,void 0,void 0,function*(){atom.workspace.open(this.openFileList[t.index||0].getPath())})}COMMAND_TYPE_OPEN_FILE_LIST(t){return n(this,void 0,void 0,function*(){const e=new RegExp(t.path.toLowerCase().replace(".","").replace(/ /g,"(.*)"));this.openFileList=[];for(const t of atom.project.getDirectories())this.openFileList.push(...this.searchFiles(e,t,t));if(this.openFileList.length>0)return{message:"sendText",data:{text:"callback open"}}})}COMMAND_TYPE_PASTE(t){return n(this,void 0,void 0,function*(){if(!this.activeEditor)return;let e=atom.clipboard.read(),i=this.activeEditor.getText();this.pasteText(i,t,e)})}COMMAND_TYPE_PREVIOUS_TAB(t){return n(this,void 0,void 0,function*(){yield this.focus(),atom.workspace.getActivePane().activatePreviousItem(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_REDO(t){return n(this,void 0,void 0,function*(){this.activeEditor&&this.activeEditor.redo()})}COMMAND_TYPE_SAVE(t){return n(this,void 0,void 0,function*(){if(this.activeEditor)if(this.activeEditor.getPath())this.activeEditor.save();else{let t=atom.applicationDelegate.showSaveDialog();t&&this.activeEditor.saveAs(t)}})}COMMAND_TYPE_SPLIT(t){return n(this,void 0,void 0,function*(){yield this.focus(),this.dispatch("pane:split-"+t.direction+"-and-copy-active-item"),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_SWITCH_TAB(t){return n(this,void 0,void 0,function*(){let e=t.index-1;e<0&&(e=atom.workspace.getActivePane().getItems().length-1),yield this.focus(),atom.workspace.getActivePane().activateItemAtIndex(e),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_UNDO(t){return n(this,void 0,void 0,function*(){this.activeEditor&&this.activeEditor.undo()})}COMMAND_TYPE_WINDOW(t){return n(this,void 0,void 0,function*(){yield this.focus();this.dispatch("window:focus-pane-"+{left:"on-left",right:"on-right",up:"above",down:"below"}[t.direction]),yield this.uiDelay(),this.reloadActiveEditor()})}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((n=n.apply(t,e||[])).next())})},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(16));e.default=class{constructor(t){this.settings=t}pasteText(t,e,i){let n=e.cursor||0,r=n;if(e.direction&&!i.endsWith("\n")&&(i+="\n"),i.endsWith("\n")||e.direction){if(e.direction=e.direction||"below","below"===e.direction){for(;n<t.length;n++)if("\n"===t[n]){n++;break}}else if("above"===e.direction)for("\n"===t[n]&&n>0&&n--;n>=0;n--)if("\n"===t[n]){n++;break}r=n}r+=i.length,i.endsWith("\n")&&r--,this.updateEditor(t.substring(0,n)+i+t.substring(n),r)}uiDelay(){return n(this,void 0,void 0,function*(){return new Promise(t=>{setTimeout(()=>{t()},100)})})}updateEditor(t,e){return n(this,void 0,void 0,function*(){yield this.focus();const i=this.getActiveEditorText()||"";t=t||"";let[r,o]=s.cursorToRowAndColumn(t,e);if(!this.settings.getAnimations())return this.setSourceAndCursor(i,t,r,o),yield this.scrollToCursor(),Promise.resolve();let a=s.diff(i,t);0==a.length&&(a=[new s.DiffRange(s.DiffRangeType.Add,s.DiffHighlightType.Line,new s.DiffPoint(r,0),new s.DiffPoint(r+1,0))]);const h=a.filter(t=>t.diffRangeType==s.DiffRangeType.Add),c=a.filter(t=>t.diffRangeType==s.DiffRangeType.Delete),l=this.highlightRanges(c);return new Promise(e=>{setTimeout(()=>n(this,void 0,void 0,function*(){this.setSourceAndCursor(i,t,r,o),this.highlightRanges(h),yield this.scrollToCursor(),e()}),c.length>0?l:1)})})}COMMAND_TYPE_DIFF(t){return n(this,void 0,void 0,function*(){yield this.updateEditor(t.source,t.cursor)})}COMMAND_TYPE_SELECT(t){return n(this,void 0,void 0,function*(){const[e,i]=s.cursorToRowAndColumn(t.source,t.cursor),[n,r]=s.cursorToRowAndColumn(t.source,t.cursorEnd);this.select(e,i,n,r)})}}},function(t,e){var i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};i.Diff=function(t,e){this[0]=t,this[1]=e},i.Diff.prototype.length=2,i.Diff.prototype.toString=function(){return this[0]+","+this[1]},i.prototype.diff_main=function(t,e,n,r){if(void 0===r&&(r=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[new i.Diff(0,t)]:[];void 0===n&&(n=!0);var s=n,o=this.diff_commonPrefix(t,e);n=t.substring(0,o),t=t.substring(o),e=e.substring(o),o=this.diff_commonSuffix(t,e);var a=t.substring(t.length-o);return t=t.substring(0,t.length-o),e=e.substring(0,e.length-o),t=this.diff_compute_(t,e,s,r),n&&t.unshift(new i.Diff(0,n)),a&&t.push(new i.Diff(0,a)),this.diff_cleanupMerge(t),t},i.prototype.diff_compute_=function(t,e,n,r){if(!t)return[new i.Diff(1,e)];if(!e)return[new i.Diff(-1,t)];var s=t.length>e.length?t:e,o=t.length>e.length?e:t,a=s.indexOf(o);return-1!=a?(n=[new i.Diff(1,s.substring(0,a)),new i.Diff(0,o),new i.Diff(1,s.substring(a+o.length))],t.length>e.length&&(n[0][0]=n[2][0]=-1),n):1==o.length?[new i.Diff(-1,t),new i.Diff(1,e)]:(s=this.diff_halfMatch_(t,e))?(e=s[1],o=s[3],t=s[4],s=this.diff_main(s[0],s[2],n,r),n=this.diff_main(e,o,n,r),s.concat([new i.Diff(0,t)],n)):n&&100<t.length&&100<e.length?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},i.prototype.diff_lineMode_=function(t,e,n){var r=this.diff_linesToChars_(t,e);t=r.chars1,e=r.chars2,r=r.lineArray,t=this.diff_main(t,e,!1,n),this.diff_charsToLines_(t,r),this.diff_cleanupSemantic(t),t.push(new i.Diff(0,""));for(var s=r=e=0,o="",a="";e<t.length;){switch(t[e][0]){case 1:s++,a+=t[e][1];break;case-1:r++,o+=t[e][1];break;case 0:if(1<=r&&1<=s){for(t.splice(e-r-s,r+s),e=e-r-s,s=(r=this.diff_main(o,a,!1,n)).length-1;0<=s;s--)t.splice(e,0,r[s]);e+=r.length}r=s=0,a=o=""}e++}return t.pop(),t},i.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,s=e.length,o=Math.ceil((r+s)/2),a=2*o,h=Array(a),c=Array(a),l=0;l<a;l++)h[l]=-1,c[l]=-1;h[o+1]=0,c[o+1]=0;for(var f=0!=(l=r-s)%2,u=0,d=0,p=0,g=0,_=0;_<o&&!((new Date).getTime()>n);_++){for(var m=-_+u;m<=_-d;m+=2){for(var v=o+m,y=m==-_||m!=_&&h[v-1]<h[v+1]?h[v+1]:h[v-1]+1,b=y-m;y<r&&b<s&&t.charAt(y)==e.charAt(b);)y++,b++;if(h[v]=y,y>r)d+=2;else if(b>s)u+=2;else if(f&&(0<=(v=o+l-m)&&v<a&&-1!=c[v])){var w=r-c[v];if(y>=w)return this.diff_bisectSplit_(t,e,y,b,n)}}for(m=-_+p;m<=_-g;m+=2){for(v=o+m,y=(w=m==-_||m!=_&&c[v-1]<c[v+1]?c[v+1]:c[v-1]+1)-m;w<r&&y<s&&t.charAt(r-w-1)==e.charAt(s-y-1);)w++,y++;if(c[v]=w,w>r)g+=2;else if(y>s)p+=2;else if(!f&&(0<=(v=o+l-m)&&v<a&&-1!=h[v]&&(b=o+(y=h[v])-v,y>=(w=r-w))))return this.diff_bisectSplit_(t,e,y,b,n)}}return[new i.Diff(-1,t),new i.Diff(1,e)]},i.prototype.diff_bisectSplit_=function(t,e,i,n,r){var s=t.substring(0,i),o=e.substring(0,n);return t=t.substring(i),e=e.substring(n),s=this.diff_main(s,o,!1,r),r=this.diff_main(t,e,!1,r),s.concat(r)},i.prototype.diff_linesToChars_=function(t,e){function i(t){for(var e="",i=0,o=-1,a=n.length;o<t.length-1;){-1==(o=t.indexOf("\n",i))&&(o=t.length-1);var h=t.substring(i,o+1);(r.hasOwnProperty?r.hasOwnProperty(h):void 0!==r[h])?e+=String.fromCharCode(r[h]):(a==s&&(h=t.substring(i),o=t.length),e+=String.fromCharCode(a),r[h]=a,n[a++]=h),i=o+1}return e}var n=[],r={};n[0]="";var s=4e4,o=i(t);return s=65535,{chars1:o,chars2:i(e),lineArray:n}},i.prototype.diff_charsToLines_=function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i][1],r=[],s=0;s<n.length;s++)r[s]=e[n.charCodeAt(s)];t[i][1]=r.join("")}},i.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,s=0;i<r;)t.substring(s,r)==e.substring(s,r)?s=i=r:n=r,r=Math.floor((n-i)/2+i);return r},i.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,s=0;i<r;)t.substring(t.length-r,t.length-s)==e.substring(e.length-r,e.length-s)?s=i=r:n=r,r=Math.floor((n-i)/2+i);return r},i.prototype.diff_commonOverlap_=function(t,e){var i=t.length,n=e.length;if(0==i||0==n)return 0;if(i>n?t=t.substring(i-n):i<n&&(e=e.substring(0,i)),i=Math.min(i,n),t==e)return i;n=0;for(var r=1;;){var s=t.substring(i-r);if(-1==(s=e.indexOf(s)))return n;r+=s,0!=s&&t.substring(i-r)!=e.substring(0,r)||(n=r,r++)}},i.prototype.diff_halfMatch_=function(t,e){function i(t,e,i){for(var n,r,o,a,h=t.substring(i,i+Math.floor(t.length/4)),c=-1,l="";-1!=(c=e.indexOf(h,c+1));){var f=s.diff_commonPrefix(t.substring(i),e.substring(c)),u=s.diff_commonSuffix(t.substring(0,i),e.substring(0,c));l.length<u+f&&(l=e.substring(c-u,c)+e.substring(c,c+f),n=t.substring(0,i-u),r=t.substring(i+f),o=e.substring(0,c-u),a=e.substring(c+f))}return 2*l.length>=t.length?[n,r,o,a,l]:null}if(0>=this.Diff_Timeout)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(4>n.length||2*r.length<n.length)return null;var s=this,o=i(n,r,Math.ceil(n.length/4));if(n=i(n,r,Math.ceil(n.length/2)),!o&&!n)return null;if(o=n?o&&o[4].length>n[4].length?o:n:o,t.length>e.length){n=o[0],r=o[1];var a=o[2],h=o[3]}else a=o[0],h=o[1],n=o[2],r=o[3];return[n,r,a,h,o[4]]},i.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,s=null,o=0,a=0,h=0,c=0,l=0;o<t.length;)0==t[o][0]?(n[r++]=o,a=c,h=l,l=c=0,s=t[o][1]):(1==t[o][0]?c+=t[o][1].length:l+=t[o][1].length,s&&s.length<=Math.max(a,h)&&s.length<=Math.max(c,l)&&(t.splice(n[r-1],0,new i.Diff(-1,s)),t[n[r-1]+1][0]=1,r--,o=0<--r?n[r-1]:-1,l=c=h=a=0,s=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;)-1==t[o-1][0]&&1==t[o][0]&&(e=t[o-1][1],n=t[o][1],(r=this.diff_commonOverlap_(e,n))>=(s=this.diff_commonOverlap_(n,e))?(r>=e.length/2||r>=n.length/2)&&(t.splice(o,0,new i.Diff(0,n.substring(0,r))),t[o-1][1]=e.substring(0,e.length-r),t[o+1][1]=n.substring(r),o++):(s>=e.length/2||s>=n.length/2)&&(t.splice(o,0,new i.Diff(0,e.substring(0,s))),t[o-1][0]=1,t[o-1][1]=n.substring(0,n.length-s),t[o+1][0]=-1,t[o+1][1]=e.substring(s),o++),o++),o++},i.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),r=e.charAt(0),s=n.match(i.nonAlphaNumericRegex_),o=r.match(i.nonAlphaNumericRegex_),a=s&&n.match(i.whitespaceRegex_),h=o&&r.match(i.whitespaceRegex_);n=a&&n.match(i.linebreakRegex_),r=h&&r.match(i.linebreakRegex_);var c=n&&t.match(i.blanklineEndRegex_),l=r&&e.match(i.blanklineStartRegex_);return c||l?5:n||r?4:s&&!a&&h?3:a||h?2:s||o?1:0}for(var n=1;n<t.length-1;){if(0==t[n-1][0]&&0==t[n+1][0]){var r=t[n-1][1],s=t[n][1],o=t[n+1][1],a=this.diff_commonSuffix(r,s);if(a){var h=s.substring(s.length-a);r=r.substring(0,r.length-a),s=h+s.substring(0,s.length-a),o=h+o}a=r,h=s;for(var c=o,l=e(r,s)+e(s,o);s.charAt(0)===o.charAt(0);){r+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var f=e(r,s)+e(s,o);f>=l&&(l=f,a=r,h=s,c=o)}t[n-1][1]!=a&&(a?t[n-1][1]=a:(t.splice(n-1,1),n--),t[n][1]=h,c?t[n+1][1]=c:(t.splice(n+1,1),n--))}n++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,s=null,o=0,a=!1,h=!1,c=!1,l=!1;o<t.length;)0==t[o][0]?(t[o][1].length<this.Diff_EditCost&&(c||l)?(n[r++]=o,a=c,h=l,s=t[o][1]):(r=0,s=null),c=l=!1):(-1==t[o][0]?l=!0:c=!0,s&&(a&&h&&c&&l||s.length<this.Diff_EditCost/2&&3==a+h+c+l)&&(t.splice(n[r-1],0,new i.Diff(-1,s)),t[n[r-1]+1][0]=1,r--,s=null,a&&h?(c=l=!0,r=0):(o=0<--r?n[r-1]:-1,c=l=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},i.prototype.diff_cleanupMerge=function(t){t.push(new i.Diff(0,""));for(var e,n=0,r=0,s=0,o="",a="";n<t.length;)switch(t[n][0]){case 1:s++,a+=t[n][1],n++;break;case-1:r++,o+=t[n][1],n++;break;case 0:1<r+s?(0!==r&&0!==s&&(0!==(e=this.diff_commonPrefix(a,o))&&(0<n-r-s&&0==t[n-r-s-1][0]?t[n-r-s-1][1]+=a.substring(0,e):(t.splice(0,0,new i.Diff(0,a.substring(0,e))),n++),a=a.substring(e),o=o.substring(e)),0!==(e=this.diff_commonSuffix(a,o))&&(t[n][1]=a.substring(a.length-e)+t[n][1],a=a.substring(0,a.length-e),o=o.substring(0,o.length-e))),n-=r+s,t.splice(n,r+s),o.length&&(t.splice(n,0,new i.Diff(-1,o)),n++),a.length&&(t.splice(n,0,new i.Diff(1,a)),n++),n++):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,r=s=0,a=o=""}for(""===t[t.length-1][1]&&t.pop(),r=!1,n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),r=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),r=!0)),n++;r&&this.diff_cleanupMerge(t)},i.prototype.diff_xIndex=function(t,e){var i,n=0,r=0,s=0,o=0;for(i=0;i<t.length&&(1!==t[i][0]&&(n+=t[i][1].length),-1!==t[i][0]&&(r+=t[i][1].length),!(n>e));i++)s=n,o=r;return t.length!=i&&-1===t[i][0]?o:o+(e-s)},i.prototype.diff_prettyHtml=function(t){for(var e=[],i=/&/g,n=/</g,r=/>/g,s=/\n/g,o=0;o<t.length;o++){var a=t[o][0],h=t[o][1].replace(i,"&amp;").replace(n,"&lt;").replace(r,"&gt;").replace(s,"&para;<br>");switch(a){case 1:e[o]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case-1:e[o]='<del style="background:#ffe6e6;">'+h+"</del>";break;case 0:e[o]="<span>"+h+"</span>"}}return e.join("")},i.prototype.diff_text1=function(t){for(var e=[],i=0;i<t.length;i++)1!==t[i][0]&&(e[i]=t[i][1]);return e.join("")},i.prototype.diff_text2=function(t){for(var e=[],i=0;i<t.length;i++)-1!==t[i][0]&&(e[i]=t[i][1]);return e.join("")},i.prototype.diff_levenshtein=function(t){for(var e=0,i=0,n=0,r=0;r<t.length;r++){var s=t[r][1];switch(t[r][0]){case 1:i+=s.length;break;case-1:n+=s.length;break;case 0:e+=Math.max(i,n),n=i=0}}return e+Math.max(i,n)},i.prototype.diff_toDelta=function(t){for(var e=[],i=0;i<t.length;i++)switch(t[i][0]){case 1:e[i]="+"+encodeURI(t[i][1]);break;case-1:e[i]="-"+t[i][1].length;break;case 0:e[i]="="+t[i][1].length}return e.join("\t").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,s=0,o=e.split(/\t/g),a=0;a<o.length;a++){var h=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[r++]=new i.Diff(1,decodeURI(h))}catch(t){throw Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var c=parseInt(h,10);if(isNaN(c)||0>c)throw Error("Invalid number in diff_fromDelta: "+h);h=t.substring(s,s+=c),"="==o[a].charAt(0)?n[r++]=new i.Diff(0,h):n[r++]=new i.Diff(-1,h);break;default:if(o[a])throw Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(s!=t.length)throw Error("Delta length ("+s+") does not equal source text length ("+t.length+").");return n},i.prototype.match_main=function(t,e,i){if(null==t||null==e||null==i)throw Error("Null input. (match_main)");return i=Math.max(0,Math.min(i,t.length)),t==e?0:t.length?t.substring(i,i+e.length)==e?i:this.match_bitap_(t,e,i):-1},i.prototype.match_bitap_=function(t,e,i){function n(t,n){var r=t/e.length,o=Math.abs(i-n);return s.Match_Distance?r+o/s.Match_Distance:o?1:r}if(e.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),s=this,o=this.Match_Threshold,a=t.indexOf(e,i);-1!=a&&(o=Math.min(n(0,a),o),-1!=(a=t.lastIndexOf(e,i+e.length))&&(o=Math.min(n(0,a),o)));var h=1<<e.length-1;a=-1;for(var c,l,f,u=e.length+t.length,d=0;d<e.length;d++){for(c=0,l=u;c<l;)n(d,i+l)<=o?c=l:u=l,l=Math.floor((u-c)/2+c);u=l,c=Math.max(1,i-l+1);var p=Math.min(i+l,t.length)+e.length;for((l=Array(p+2))[p+1]=(1<<d)-1;p>=c;p--){var g=r[t.charAt(p-1)];if(l[p]=0===d?(l[p+1]<<1|1)&g:(l[p+1]<<1|1)&g|(f[p+1]|f[p])<<1|1|f[p+1],l[p]&h&&(g=n(d,p-1))<=o){if(o=g,!((a=p-1)>i))break;c=Math.max(1,2*i-a)}}if(n(d+1,i)>o)break;f=l}return a},i.prototype.match_alphabet_=function(t){for(var e={},i=0;i<t.length;i++)e[t.charAt(i)]=0;for(i=0;i<t.length;i++)e[t.charAt(i)]|=1<<t.length-i-1;return e},i.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin,(n=e.substring(t.start2-r,t.start2))&&t.diffs.unshift(new i.Diff(0,n)),(r=e.substring(t.start2+t.length1,t.start2+t.length1+r))&&t.diffs.push(new i.Diff(0,r)),t.start1-=n.length,t.start2-=n.length,t.length1+=n.length+r.length,t.length2+=n.length+r.length}},i.prototype.patch_make=function(t,e,n){if("string"==typeof t&&"string"==typeof e&&void 0===n){var r=t;2<(e=this.diff_main(r,e,!0)).length&&(this.diff_cleanupSemantic(e),this.diff_cleanupEfficiency(e))}else if(t&&"object"==typeof t&&void 0===e&&void 0===n)e=t,r=this.diff_text1(e);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===n)r=t;else{if("string"!=typeof t||"string"!=typeof e||!n||"object"!=typeof n)throw Error("Unknown call format to patch_make.");r=t,e=n}if(0===e.length)return[];n=[],t=new i.patch_obj;for(var s=0,o=0,a=0,h=r,c=0;c<e.length;c++){var l=e[c][0],f=e[c][1];switch(s||0===l||(t.start1=o,t.start2=a),l){case 1:t.diffs[s++]=e[c],t.length2+=f.length,r=r.substring(0,a)+f+r.substring(a);break;case-1:t.length1+=f.length,t.diffs[s++]=e[c],r=r.substring(0,a)+r.substring(a+f.length);break;case 0:f.length<=2*this.Patch_Margin&&s&&e.length!=c+1?(t.diffs[s++]=e[c],t.length1+=f.length,t.length2+=f.length):f.length>=2*this.Patch_Margin&&s&&(this.patch_addContext_(t,h),n.push(t),t=new i.patch_obj,s=0,h=r,o=a)}1!==l&&(o+=f.length),-1!==l&&(a+=f.length)}return s&&(this.patch_addContext_(t,h),n.push(t)),n},i.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],s=new i.patch_obj;s.diffs=[];for(var o=0;o<r.diffs.length;o++)s.diffs[o]=new i.Diff(r.diffs[o][0],r.diffs[o][1]);s.start1=r.start1,s.start2=r.start2,s.length1=r.length1,s.length2=r.length2,e[n]=s}return e},i.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var i=this.patch_addPadding(t);e=i+e+i,this.patch_splitMax(t);for(var n=0,r=[],s=0;s<t.length;s++){var o=t[s].start2+n,a=this.diff_text1(t[s].diffs),h=-1;if(a.length>this.Match_MaxBits){var c=this.match_main(e,a.substring(0,this.Match_MaxBits),o);-1!=c&&(-1==(h=this.match_main(e,a.substring(a.length-this.Match_MaxBits),o+a.length-this.Match_MaxBits))||c>=h)&&(c=-1)}else c=this.match_main(e,a,o);if(-1==c)r[s]=!1,n-=t[s].length2-t[s].length1;else if(r[s]=!0,n=c-o,a==(o=-1==h?e.substring(c,c+a.length):e.substring(c,h+this.Match_MaxBits)))e=e.substring(0,c)+this.diff_text2(t[s].diffs)+e.substring(c+a.length);else if(o=this.diff_main(a,o,!1),a.length>this.Match_MaxBits&&this.diff_levenshtein(o)/a.length>this.Patch_DeleteThreshold)r[s]=!1;else{var l;for(this.diff_cleanupSemanticLossless(o),a=0,h=0;h<t[s].diffs.length;h++){var f=t[s].diffs[h];0!==f[0]&&(l=this.diff_xIndex(o,a)),1===f[0]?e=e.substring(0,c+l)+f[1]+e.substring(c+l):-1===f[0]&&(e=e.substring(0,c+l)+e.substring(c+this.diff_xIndex(o,a+f[1].length))),-1!==f[0]&&(a+=f[1].length)}}}return[e=e.substring(i.length,e.length-i.length),r]},i.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var s=(r=t[0]).diffs;if(0==s.length||0!=s[0][0])s.unshift(new i.Diff(0,n)),r.start1-=e,r.start2-=e,r.length1+=e,r.length2+=e;else if(e>s[0][1].length){var o=e-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],r.start1-=o,r.start2-=o,r.length1+=o,r.length2+=o}return 0==(s=(r=t[t.length-1]).diffs).length||0!=s[s.length-1][0]?(s.push(new i.Diff(0,n)),r.length1+=e,r.length2+=e):e>s[s.length-1][1].length&&(o=e-s[s.length-1][1].length,s[s.length-1][1]+=n.substring(0,o),r.length1+=o,r.length2+=o),n},i.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=e)){var r=t[n];t.splice(n--,1);for(var s=r.start1,o=r.start2,a="";0!==r.diffs.length;){var h=new i.patch_obj,c=!0;for(h.start1=s-a.length,h.start2=o-a.length,""!==a&&(h.length1=h.length2=a.length,h.diffs.push(new i.Diff(0,a)));0!==r.diffs.length&&h.length1<e-this.Patch_Margin;){a=r.diffs[0][0];var l=r.diffs[0][1];1===a?(h.length2+=l.length,o+=l.length,h.diffs.push(r.diffs.shift()),c=!1):-1===a&&1==h.diffs.length&&0==h.diffs[0][0]&&l.length>2*e?(h.length1+=l.length,s+=l.length,c=!1,h.diffs.push(new i.Diff(a,l)),r.diffs.shift()):(l=l.substring(0,e-h.length1-this.Patch_Margin),h.length1+=l.length,s+=l.length,0===a?(h.length2+=l.length,o+=l.length):c=!1,h.diffs.push(new i.Diff(a,l)),l==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(l.length))}a=(a=this.diff_text2(h.diffs)).substring(a.length-this.Patch_Margin),""!==(l=this.diff_text1(r.diffs).substring(0,this.Patch_Margin))&&(h.length1+=l.length,h.length2+=l.length,0!==h.diffs.length&&0===h.diffs[h.diffs.length-1][0]?h.diffs[h.diffs.length-1][1]+=l:h.diffs.push(new i.Diff(0,l))),c||t.splice(++n,0,h)}}},i.prototype.patch_toText=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e.join("")},i.prototype.patch_fromText=function(t){var e=[];if(!t)return e;t=t.split("\n");for(var n=0,r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;n<t.length;){var s=t[n].match(r);if(!s)throw Error("Invalid patch string: "+t[n]);var o=new i.patch_obj;for(e.push(o),o.start1=parseInt(s[1],10),""===s[2]?(o.start1--,o.length1=1):"0"==s[2]?o.length1=0:(o.start1--,o.length1=parseInt(s[2],10)),o.start2=parseInt(s[3],10),""===s[4]?(o.start2--,o.length2=1):"0"==s[4]?o.length2=0:(o.start2--,o.length2=parseInt(s[4],10)),n++;n<t.length;){s=t[n].charAt(0);try{var a=decodeURI(t[n].substring(1))}catch(t){throw Error("Illegal escape in patch_fromText: "+a)}if("-"==s)o.diffs.push(new i.Diff(-1,a));else if("+"==s)o.diffs.push(new i.Diff(1,a));else if(" "==s)o.diffs.push(new i.Diff(0,a));else{if("@"==s)break;if(""!==s)throw Error('Invalid patch mode "'+s+'" in: '+a)}n++}}return e},i.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},i.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[i+1]=t+encodeURI(this.diffs[i][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=i},function(t,e,i){t.exports=p,p.Minimatch=g;var n={sep:"/"};try{n=i(5)}catch(t){}var r=p.GLOBSTAR=g.GLOBSTAR={},s=i(42),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",h=a+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",f="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var u=/\/+/;function d(t,e){t=t||{},e=e||{};var i={};return Object.keys(e).forEach(function(t){i[t]=e[t]}),Object.keys(t).forEach(function(e){i[e]=t[e]}),i}function p(t,e,i){if("string"!=typeof e)throw new TypeError("glob pattern string required");return i||(i={}),!(!i.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new g(e,i).match(t))}function g(t,e){if(!(this instanceof g))return new g(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==n.sep&&(t=t.split(n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function _(t,e){if(e||(e=this instanceof g?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:s(t)}p.filter=function(t,e){return e=e||{},function(i,n,r){return p(i,t,e)}},p.defaults=function(t){if(!t||!Object.keys(t).length)return p;var e=p,i=function(i,n,r){return e.minimatch(i,n,d(t,r))};return i.Minimatch=function(i,n){return new e.Minimatch(i,d(t,n))},i},g.defaults=function(t){return t&&Object.keys(t).length?p.defaults(t).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var i=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,i),i=this.globParts=i.map(function(t){return t.split(u)}),this.debug(this.pattern,i),i=i.map(function(t,e,i){return t.map(this.parse,this)},this),this.debug(this.pattern,i),i=i.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,i),this.set=i},g.prototype.parseNegate=function(){var t=this.pattern,e=!1,i=this.options,n=0;if(i.nonegate)return;for(var r=0,s=t.length;r<s&&"!"===t.charAt(r);r++)e=!e,n++;n&&(this.pattern=t.substr(n));this.negate=e},p.braceExpand=function(t,e){return _(t,e)},g.prototype.braceExpand=_,g.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var i=this.options;if(!i.noglobstar&&"**"===t)return r;if(""===t)return"";var n,s="",c=!!i.nocase,l=!1,u=[],d=[],p=!1,g=-1,_=-1,v="."===t.charAt(0)?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function b(){if(n){switch(n){case"*":s+=h,c=!0;break;case"?":s+=a,c=!0;break;default:s+="\\"+n}y.debug("clearStateChar %j %j",n,s),n=!1}}for(var w,x=0,E=t.length;x<E&&(w=t.charAt(x));x++)if(this.debug("%s\t%s %s %j",t,x,s,w),l&&f[w])s+="\\"+w,l=!1;else switch(w){case"/":return!1;case"\\":b(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,x,s,w),p){this.debug("  in class"),"!"===w&&x===_+1&&(w="^"),s+=w;continue}y.debug("call clearStateChar %j",n),b(),n=w,i.noext&&b();continue;case"(":if(p){s+="(";continue}if(!n){s+="\\(";continue}u.push({type:n,start:x-1,reStart:s.length,open:o[n].open,close:o[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(p||!u.length){s+="\\)";continue}b(),c=!0;var S=u.pop();s+=S.close,"!"===S.type&&d.push(S),S.reEnd=s.length;continue;case"|":if(p||!u.length||l){s+="\\|",l=!1;continue}b(),s+="|";continue;case"[":if(b(),p){s+="\\"+w;continue}p=!0,_=x,g=s.length,s+=w;continue;case"]":if(x===_+1||!p){s+="\\"+w,l=!1;continue}if(p){var k=t.substring(_+1,x);try{RegExp("["+k+"]")}catch(t){var M=this.parse(k,m);s=s.substr(0,g)+"\\["+M[0]+"\\]",c=c||M[1],p=!1;continue}}c=!0,p=!1,s+=w;continue;default:b(),l?l=!1:!f[w]||"^"===w&&p||(s+="\\"),s+=w}p&&(k=t.substr(_+1),M=this.parse(k,m),s=s.substr(0,g)+"\\["+M[0],c=c||M[1]);for(S=u.pop();S;S=u.pop()){var O=s.slice(S.reStart+S.open.length);this.debug("setting tail",s,S),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,i){return i||(i="\\"),e+e+i+"|"}),this.debug("tail=%j\n   %s",O,O,S,s);var T="*"===S.type?h:"?"===S.type?a:"\\"+S.type;c=!0,s=s.slice(0,S.reStart)+T+"\\("+O}b(),l&&(s+="\\\\");var D=!1;switch(s.charAt(0)){case".":case"[":case"(":D=!0}for(var A=d.length-1;A>-1;A--){var C=d[A],P=s.slice(0,C.reStart),N=s.slice(C.reStart,C.reEnd-8),L=s.slice(C.reEnd-8,C.reEnd),I=s.slice(C.reEnd);L+=I;var j=P.split("(").length-1,R=I;for(x=0;x<j;x++)R=R.replace(/\)[+*?]?/,"");var B="";""===(I=R)&&e!==m&&(B="$"),s=P+N+I+B+L}""!==s&&c&&(s="(?=.)"+s);D&&(s=v+s);if(e===m)return[s,c];if(!c)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var F=i.nocase?"i":"";try{var $=new RegExp("^"+s+"$",F)}catch(t){return new RegExp("$.")}return $._glob=t,$._src=s,$};var m={};p.makeRe=function(t,e){return new g(t,e||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,i=e.noglobstar?h:e.dot?c:l,n=e.nocase?"i":"",s=t.map(function(t){return t.map(function(t){return t===r?i:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=!1}return this.regexp},p.match=function(t,e,i){var n=new g(e,i=i||{});return t=t.filter(function(t){return n.match(t)}),n.options.nonull&&!t.length&&t.push(e),t},g.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var i=this.options;"/"!==n.sep&&(t=t.split(n.sep).join("/"));t=t.split(u),this.debug(this.pattern,"split",t);var r,s,o=this.set;for(this.debug(this.pattern,"set",o),s=t.length-1;s>=0&&!(r=t[s]);s--);for(s=0;s<o.length;s++){var a=o[s],h=t;if(i.matchBase&&1===a.length&&(h=[r]),this.matchOne(h,a,e))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate},g.prototype.matchOne=function(t,e,i){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,h=e.length;s<a&&o<h;s++,o++){this.debug("matchOne loop");var c,l=e[o],f=t[s];if(this.debug(e,l,f),!1===l)return!1;if(l===r){this.debug("GLOBSTAR",[e,l,f]);var u=s,d=o+1;if(d===h){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;u<a;){var p=t[u];if(this.debug("\nglobstar while",t,u,e,d,p),this.matchOne(t.slice(u),e.slice(d),i))return this.debug("globstar found match!",u,a,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,u,e,d);break}this.debug("globstar swallow a segment, and continue"),u++}return!(!i||(this.debug("\n>>> no match, partial?",t,u,e,d),u!==a))}if("string"==typeof l?(c=n.nocase?f.toLowerCase()===l.toLowerCase():f===l,this.debug("string match",l,f,c)):(c=f.match(l),this.debug("pattern match",l,f,c)),!c)return!1}if(s===a&&o===h)return!0;if(s===a)return i;if(o===h)return s===a-1&&""===t[s];throw new Error("wtf?")}},function(t,e,i){var n=i(43),r=i(44);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,i){var s=[];var o=r("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var f=h||c;var _=o.body.indexOf(",")>=0;if(!f&&!_)return o.post.match(/,.*\}/)?(e=o.pre+"{"+o.body+a+o.post,t(e)):[e];var m;if(f)m=o.body.split(/\.\./);else{if(1===(m=function t(e){if(!e)return[""];var i=[];var n=r("{","}",e);if(!n)return e.split(",");var s=n.pre;var o=n.body;var a=n.post;var h=s.split(",");h[h.length-1]+="{"+o+"}";var c=t(a);a.length&&(h[h.length-1]+=c.shift(),h.push.apply(h,c));i.push.apply(i,h);return i}(o.body)).length)if(1===(m=t(m[0],!1).map(u)).length)return(y=o.post.length?t(o.post,!1):[""]).map(function(t){return o.pre+m[0]+t})}var v=o.pre;var y=o.post.length?t(o.post,!1):[""];var b;if(f){var w=l(m[0]),x=l(m[1]),E=Math.max(m[0].length,m[1].length),S=3==m.length?Math.abs(l(m[2])):1,k=p;x<w&&(S*=-1,k=g);var M=m.some(d);b=[];for(var O=w;k(O,x);O+=S){var T;if(c)"\\"===(T=String.fromCharCode(O))&&(T="");else if(T=String(O),M){var D=E-T.length;if(D>0){var A=new Array(D+1).join("0");T=O<0?"-"+A+T.slice(1):A+T}}b.push(T)}}else b=n(m,function(e){return t(e,!1)});for(var C=0;C<b.length;C++)for(var P=0;P<y.length;P++){var N=v+b[C]+y[P];(!i||f||N)&&s.push(N)}return s}(function(t){return t.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(h).split("\\.").join(c)}(t),!0).map(f)};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function f(t){return t.split(s).join("\\").split(o).join("{").split(a).join("}").split(h).join(",").split(c).join(".")}function u(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function p(t,e){return t<=e}function g(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var n=[],r=0;r<t.length;r++){var s=e(t[r],r);i(s)?n.push.apply(n,s):n.push(s)}return n};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";function n(t,e,i){t instanceof RegExp&&(t=r(t,i)),e instanceof RegExp&&(e=r(e,i));var n=s(t,e,i);return n&&{start:n[0],end:n[1],pre:i.slice(0,n[0]),body:i.slice(n[0]+t.length,n[1]),post:i.slice(n[1]+e.length)}}function r(t,e){var i=e.match(t);return i?i[0]:null}function s(t,e,i){var n,r,s,o,a,h=i.indexOf(t),c=i.indexOf(e,h+1),l=h;if(h>=0&&c>0){for(n=[],s=i.length;l>=0&&!a;)l==h?(n.push(l),h=i.indexOf(t,l+1)):1==n.length?a=[n.pop(),c]:((r=n.pop())<s&&(s=r,o=c),c=i.indexOf(e,l+1)),l=h<c&&h>=0?h:c;n.length&&(a=[s,o])}return a}t.exports=n,n.range=s},function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n);function s(){return r.a.randomBytes(16)}for(var o=[],a=0;a<256;++a)o[a]=(a+256).toString(16).substr(1);var h,c,l=function(t,e){var i=e||0,n=o;return[n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]]].join("")},f=0,u=0;var d=function(t,e,i){var n=e&&i||0,r=e||[],o=(t=t||{}).node||h,a=void 0!==t.clockseq?t.clockseq:c;if(null==o||null==a){var d=t.random||(t.rng||s)();null==o&&(o=h=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==a&&(a=c=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:u+1,_=p-f+(g-u)/1e4;if(_<0&&void 0===t.clockseq&&(a=a+1&16383),(_<0||p>f)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=p,u=g,c=a;var m=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;r[n++]=m>>>24&255,r[n++]=m>>>16&255,r[n++]=m>>>8&255,r[n++]=255&m;var v=p/4294967296*1e4&268435455;r[n++]=v>>>8&255,r[n++]=255&v,r[n++]=v>>>24&15|16,r[n++]=v>>>16&255,r[n++]=a>>>8|128,r[n++]=255&a;for(var y=0;y<6;++y)r[n+y]=o[y];return e||l(r)};var p=function(t,e,i){var n=function(t,n,r,s){var o=r&&s||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(t)),"string"==typeof n&&(n=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(t){e.push(parseInt(t,16))}),e}(n)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=i(n.concat(t));if(a[6]=15&a[6]|e,a[8]=63&a[8]|128,r)for(var h=0;h<16;++h)r[o+h]=a[h];return r||l(a)};try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};var g=p("v3",48,function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),r.a.createHash("md5").update(t).digest()});var _=function(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var o=0;o<16;++o)e[n+o]=r[o];return e||l(r)};var m=p("v5",80,function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),r.a.createHash("sha1").update(t).digest()});i.d(e,"v1",function(){return d}),i.d(e,"v3",function(){return g}),i.d(e,"v4",function(){return _}),i.d(e,"v5",function(){return m})}]);
//# sourceMappingURL=extension.js.map