module.exports=function(t){var e={};function n(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=38)}([function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("crypto")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(45);e.array=s;const r=n(46);e.errno=r;const i=n(47);e.fs=i;const o=n(48);e.path=o;const a=n(49);e.pattern=a;const c=n(69);e.stream=c;const u=n(70);e.string=u},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(72),r=n(73),i=n(74);function o(t={}){return t instanceof i.default?t:new i.default(t)}e.Settings=i.default,e.stat=function(t,e,n){if("function"==typeof e)return s.read(t,o(),e);s.read(t,o(e),n)},e.statSync=function(t,e){const n=o(e);return r.read(t,n)}},function(t,e,n){"use strict";t.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(t,e){t.exports=require("os")},function(t,e){t.exports=require("util")},function(t,e,n){"use strict";const s=n(0),r="win32"===process.platform,{REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o,REGEX_REMOVE_BACKSLASH:a}=n(10);e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),e.hasRegexChars=t=>i.test(t),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(o,"\\$1"),e.toPosixSlashes=t=>t.replace(/\\/g,"/"),e.removeBackslashes=t=>t.replace(a,t=>"\\"===t?"":t),e.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".");return 3===t.length&&+t[0]>=9||8==+t[0]&&+t[1]>=10},e.isWindows=t=>t&&"boolean"==typeof t.windows?t.windows:!0===r||"\\"===s.sep,e.escapeLast=(t,n,s)=>{let r=t.lastIndexOf(n,s);return-1===r?t:"\\"===t[r-1]?e.escapeLast(t,n,r-1):t.slice(0,r)+"\\"+t.slice(r)}},function(t,e,n){"use strict";const s=n(0),r={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},i={...r,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:s.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?i:r}},function(t,e,n){"use strict";const s=n(0),r={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},i={...r,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:s.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?i:r}},function(t,e,n){"use strict";const s=n(113),r=n(13),i=n(116),{kStatusCode:o,NOOP:a}=n(6),c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),l=Symbol("total-length"),h=Symbol("callback"),f=Symbol("buffers"),p=Symbol("error");let d;function _(t){this[f].push(t),this[l]+=t.length}function g(t){this[l]+=t.length,this[u]._maxPayload<1||this[l]<=this[u]._maxPayload?this[f].push(t):(this[p]=new RangeError("Max payload size exceeded"),this[p][o]=1009,this.removeListener("data",g),this.reset())}function y(t){this[u]._inflate=null,t[o]=1007,this[h](t)}t.exports=class{constructor(t,e,n){if(this._maxPayload=0|n,this._options=t||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!e,this._deflate=null,this._inflate=null,this.params=null,!d){const t=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;d=new i(t)}}static get extensionName(){return"permessage-deflate"}offer(){const t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const t=this._deflate[h];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){const e=this._options,n=t.find(t=>!(!1===e.serverNoContextTakeover&&t.server_no_context_takeover||t.server_max_window_bits&&(!1===e.serverMaxWindowBits||"number"==typeof e.serverMaxWindowBits&&e.serverMaxWindowBits>t.server_max_window_bits)||"number"==typeof e.clientMaxWindowBits&&!t.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return e.serverNoContextTakeover&&(n.server_no_context_takeover=!0),e.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof e.serverMaxWindowBits&&(n.server_max_window_bits=e.serverMaxWindowBits),"number"==typeof e.clientMaxWindowBits?n.client_max_window_bits=e.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==e.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(t){const e=t[0];if(!1===this._options.clientNoContextTakeover&&e.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(e.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&e.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(e.client_max_window_bits=this._options.clientMaxWindowBits);return e}normalizeParams(t){return t.forEach(t=>{Object.keys(t).forEach(e=>{let n=t[e];if(n.length>1)throw new Error(`Parameter "${e}" must have only a single value`);if(n=n[0],"client_max_window_bits"===e){if(!0!==n){const t=+n;if(!Number.isInteger(t)||t<8||t>15)throw new TypeError(`Invalid value for parameter "${e}": ${n}`);n=t}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${e}": ${n}`)}else if("server_max_window_bits"===e){const t=+n;if(!Number.isInteger(t)||t<8||t>15)throw new TypeError(`Invalid value for parameter "${e}": ${n}`);n=t}else{if("client_no_context_takeover"!==e&&"server_no_context_takeover"!==e)throw new Error(`Unknown parameter "${e}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${e}": ${n}`)}t[e]=n})}),t}decompress(t,e,n){d.add(s=>{this._decompress(t,e,(t,e)=>{s(),n(t,e)})})}compress(t,e,n){d.add(s=>{this._compress(t,e,(t,e)=>{s(),n(t,e)})})}_decompress(t,e,n){const i=this._isServer?"client":"server";if(!this._inflate){const t=`${i}_max_window_bits`,e="number"!=typeof this.params[t]?s.Z_DEFAULT_WINDOWBITS:this.params[t];this._inflate=s.createInflateRaw({...this._options.zlibInflateOptions,windowBits:e}),this._inflate[u]=this,this._inflate[l]=0,this._inflate[f]=[],this._inflate.on("error",y),this._inflate.on("data",g)}this._inflate[h]=n,this._inflate.write(t),e&&this._inflate.write(c),this._inflate.flush(()=>{const t=this._inflate[p];if(t)return this._inflate.close(),this._inflate=null,void n(t);const s=r.concat(this._inflate[f],this._inflate[l]);e&&this.params[`${i}_no_context_takeover`]?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[f]=[]),n(null,s)})}_compress(t,e,n){const i=this._isServer?"server":"client";if(!this._deflate){const t=`${i}_max_window_bits`,e="number"!=typeof this.params[t]?s.Z_DEFAULT_WINDOWBITS:this.params[t];this._deflate=s.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:e}),this._deflate[l]=0,this._deflate[f]=[],this._deflate.on("error",a),this._deflate.on("data",_)}this._deflate[h]=n,this._deflate.write(t),this._deflate.flush(s.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let t=r.concat(this._deflate[f],this._deflate[l]);e&&(t=t.slice(0,t.length-4)),this._deflate[h]=null,e&&this.params[`${i}_no_context_takeover`]?(this._deflate.close(),this._deflate=null):(this._deflate[l]=0,this._deflate[f]=[]),n(null,t)})}}},function(t,e,n){"use strict";const{EMPTY_BUFFER:s}=n(6);function r(t,e){if(0===t.length)return s;if(1===t.length)return t[0];const n=Buffer.allocUnsafe(e);let r=0;for(let e=0;e<t.length;e++){const s=t[e];n.set(s,r),r+=s.length}return r<e?n.slice(0,r):n}function i(t,e,n,s,r){for(let i=0;i<r;i++)n[s+i]=t[i]^e[3&i]}function o(t,e){const n=t.length;for(let s=0;s<n;s++)t[s]^=e[3&s]}function a(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function c(t){if(c.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Buffer.from(t):ArrayBuffer.isView(t)?e=function(t){const e=Buffer.from(t.buffer);if(t.byteLength!==t.buffer.byteLength)return e.slice(t.byteOffset,t.byteOffset+t.byteLength);return e}(t):(e=Buffer.from(t),c.readOnly=!1),e}try{const e=n(114),s=e.BufferUtil||e;t.exports={concat:r,mask(t,e,n,r,o){o<48?i(t,e,n,r,o):s.mask(t,e,n,r,o)},toArrayBuffer:a,toBuffer:c,unmask(t,e){t.length<32?o(t,e):s.unmask(t,e)}}}catch(e){t.exports={concat:r,mask:i,toArrayBuffer:a,toBuffer:c,unmask:o}}},function(t,e,n){"use strict";const s=n(15);t.exports=(t,e={})=>{let n=(t,r={})=>{let i=e.escapeInvalid&&s.isInvalidBrace(r),o=!0===t.invalid&&!0===e.escapeInvalid,a="";if(t.value)return(i||o)&&s.isOpenOrClose(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)a+=n(e);return a};return n(t)}},function(t,e,n){"use strict";e.isInteger=t=>"number"==typeof t?Number.isInteger(t):"string"==typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),e.find=(t,e)=>t.nodes.find(t=>t.type===e),e.exceedsLimit=(t,n,s=1,r)=>!1!==r&&(!(!e.isInteger(t)||!e.isInteger(n))&&(Number(n)-Number(t))/Number(s)>=r),e.escapeNode=(t,e=0,n)=>{let s=t.nodes[e];s&&(n&&s.type===n||"open"===s.type||"close"===s.type)&&!0!==s.escaped&&(s.value="\\"+s.value,s.escaped=!0)},e.encloseBrace=t=>"brace"===t.type&&(t.commas>>0+t.ranges>>0==0&&(t.invalid=!0,!0)),e.isInvalidBrace=t=>"brace"===t.type&&(!(!0!==t.invalid&&!t.dollar)||(t.commas>>0+t.ranges>>0==0?(t.invalid=!0,!0):(!0!==t.open||!0!==t.close)&&(t.invalid=!0,!0))),e.isOpenOrClose=t=>"open"===t.type||"close"===t.type||(!0===t.open||!0===t.close),e.reduce=t=>t.reduce((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t),[]),e.flatten=(...t)=>{const e=[],n=t=>{for(let s=0;s<t.length;s++){let r=t[s];Array.isArray(r)?n(r,e):void 0!==r&&e.push(r)}return e};return n(t),e}},function(t,e,n){"use strict";const s=n(0),r="win32"===process.platform,{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:c}=n(11);e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),e.hasRegexChars=t=>a.test(t),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(c,"\\$1"),e.toPosixSlashes=t=>t.replace(i,"/"),e.removeBackslashes=t=>t.replace(o,t=>"\\"===t?"":t),e.supportsLookbehinds=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},e.isWindows=t=>t&&"boolean"==typeof t.windows?t.windows:!0===r||"\\"===s.sep,e.escapeLast=(t,n,s)=>{const r=t.lastIndexOf(n,s);return-1===r?t:"\\"===t[r-1]?e.escapeLast(t,n,r-1):`${t.slice(0,r)}\\${t.slice(r)}`},e.removePrefix=(t,e={})=>{let n=t;return n.startsWith("./")&&(n=n.slice(2),e.prefix="./"),n},e.wrapOutput=(t,e={},n={})=>{let s=`${n.contains?"":"^"}(?:${t})${n.contains?"":"$"}`;return!0===e.negated&&(s=`(?:^(?!${s}).*$)`),s}},function(t,e){t.exports=require("events")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(77),r=n(80),i=n(81);function o(t={}){return t instanceof i.default?t:new i.default(t)}e.Settings=i.default,e.scandir=function(t,e,n){if("function"==typeof e)return s.read(t,o(),e);s.read(t,o(e),n)},e.scandirSync=function(t,e){const n=o(e);return r.read(t,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFatalError=function(t,e){return null===t.errorFilter||!t.errorFilter(e)},e.isAppliedFilter=function(t,e){return null===t||t(e)},e.replacePathSegmentSeparator=function(t,e){return t.split(/[\\/]/).join(e)},e.joinPathSegments=function(t,e,n){return""===t?e:t+n+e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),r=n(89),i=n(92),o=n(93),a=n(94);e.default=class{constructor(t){this._settings=t,this.errorFilter=new o.default(this._settings),this.entryFilter=new i.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new r.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new a.default(this._settings)}_getRootDirectory(t){return s.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){const e="."===t.base?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}},function(t,e,n){"use strict";const s=n(4).PassThrough,r=Array.prototype.slice;function i(t,e){if(Array.isArray(t))for(let n=0,s=t.length;n<s;n++)t[n]=i(t[n],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(s(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}t.exports=function(){const t=[];let e=!1;const n=r.call(arguments);let o=n[n.length-1];o&&!Array.isArray(o)&&null==o.pipe?n.pop():o={};const a=!1!==o.end;null==o.objectMode&&(o.objectMode=!0);null==o.highWaterMark&&(o.highWaterMark=65536);const c=s(o);function u(){for(let e=0,n=arguments.length;e<n;e++)t.push(i(arguments[e],o));return function n(){if(e)return;e=!0;let s=t.shift();if(!s)return void process.nextTick(l);Array.isArray(s)||(s=[s]);let r=s.length+1;function i(){--r>0||(e=!1,n())}function o(t){function e(){t.removeListener("merge2UnpipeEnd",e),t.removeListener("end",e),i()}if(t._readableState.endEmitted)return i();t.on("merge2UnpipeEnd",e),t.on("end",e),t.pipe(c,{end:!1}),t.resume()}for(let t=0;t<s.length;t++)o(s[t]);i()}(),this}function l(){return e=!1,c.emit("queueDrain"),a&&c.end()}c.setMaxListeners(0),c.add=u,c.on("unpipe",function(t){t.emit("merge2UnpipeEnd")}),n.length&&u.apply(null,n);return c}},function(t,e,n){"use strict";const s=n(44),r=n(71),i=n(95),o=n(96),a=n(98),c=n(3);async function u(t,e){h(t);const n=l(t,r.default,e),s=await Promise.all(n);return c.array.flatten(s)}function l(t,e,n){const r=[].concat(t),i=new a.default(n),o=s.generate(r,i),c=new e(i);return o.map(c.read,c)}function h(t){if(![].concat(t).every(t=>c.string.isString(t)&&!c.string.isEmpty(t)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(t){t.sync=function(t,e){h(t);const n=l(t,o.default,e);return c.array.flatten(n)},t.stream=function(t,e){h(t);const n=l(t,i.default,e);return c.stream.merge(n)},t.generateTasks=function(t,e){h(t);const n=[].concat(t),r=new a.default(e);return s.generate(n,r)},t.isDynamicPattern=function(t,e){h(t);const n=new a.default(e);return c.pattern.isDynamicPattern(t,n)},t.escapePath=function(t){return h(t),c.path.escape(t)}}(u||(u={})),t.exports=u},function(t,e,n){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const s=n(8),r=n(56),i=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),o=t=>"number"==typeof t||"string"==typeof t&&""!==t,a=t=>Number.isInteger(+t),c=t=>{let e=`${t}`,n=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++n];);return n>0},u=(t,e,n)=>{if(e>0){let n="-"===t[0]?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return!1===n?String(t):t},l=(t,e)=>{let n="-"===t[0]?"-":"";for(n&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return n?"-"+t:t},h=(t,e,n,s)=>{if(n)return r(t,e,{wrap:!1,...s});let i=String.fromCharCode(t);return t===e?i:`[${i}-${String.fromCharCode(e)}]`},f=(t,e,n)=>{if(Array.isArray(t)){let e=!0===n.wrap,s=n.capture?"":"?:";return e?`(${s}${t.join("|")})`:t.join("|")}return r(t,e,n)},p=(...t)=>new RangeError("Invalid range arguments: "+s.inspect(...t)),d=(t,e,n)=>{if(!0===n.strictRanges)throw p([t,e]);return[]},_=(t,e,n=1,s={})=>{let r=Number(t),i=Number(e);if(!Number.isInteger(r)||!Number.isInteger(i)){if(!0===s.strictRanges)throw p([t,e]);return[]}0===r&&(r=0),0===i&&(i=0);let o=r>i,a=String(t),d=String(e),_=String(n);n=Math.max(Math.abs(n),1);let g=c(a)||c(d)||c(_),y=g?Math.max(a.length,d.length,_.length):0,m=!1===g&&!1===((t,e,n)=>"string"==typeof t||"string"==typeof e||!0===n.stringify)(t,e,s),v=s.transform||(t=>e=>!0===t?Number(e):String(e))(m);if(s.toRegex&&1===n)return h(l(t,y),l(e,y),!0,s);let b={negatives:[],positives:[]},E=t=>b[t<0?"negatives":"positives"].push(Math.abs(t)),S=[],A=0;for(;o?r>=i:r<=i;)!0===s.toRegex&&n>1?E(r):S.push(u(v(r,A),y,m)),r=o?r-n:r+n,A++;return!0===s.toRegex?n>1?((t,e)=>{t.negatives.sort((t,e)=>t<e?-1:t>e?1:0),t.positives.sort((t,e)=>t<e?-1:t>e?1:0);let n,s=e.capture?"":"?:",r="",i="";return t.positives.length&&(r=t.positives.join("|")),t.negatives.length&&(i=`-(${s}${t.negatives.join("|")})`),n=r&&i?`${r}|${i}`:r||i,e.wrap?`(${s}${n})`:n})(b,s):f(S,null,{wrap:!1,...s}):S},g=(t,e,n,s={})=>{if(null==e&&o(t))return[t];if(!o(t)||!o(e))return d(t,e,s);if("function"==typeof n)return g(t,e,1,{transform:n});if(i(n))return g(t,e,0,n);let r={...s};return!0===r.capture&&(r.wrap=!0),n=n||r.step||1,a(n)?a(t)&&a(e)?_(t,e,n,r):((t,e,n=1,s={})=>{if(!a(t)&&t.length>1||!a(e)&&e.length>1)return d(t,e,s);let r=s.transform||(t=>String.fromCharCode(t)),i=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),c=i>o,u=Math.min(i,o),l=Math.max(i,o);if(s.toRegex&&1===n)return h(u,l,!1,s);let p=[],_=0;for(;c?i>=o:i<=o;)p.push(r(i,_)),i=c?i-n:i+n,_++;return!0===s.toRegex?f(p,null,{wrap:!1,options:s}):p})(t,e,Math.max(Math.abs(n),1),r):null==n||i(n)?g(t,e,1,n):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(n,r)};t.exports=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(4),r=n(5),i=n(25),o=n(30);e.default=class extends o.default{constructor(){super(...arguments),this._walkStream=i.walkStream,this._stat=r.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){const n=t.map(this._getFullEntryPath,this),r=new s.PassThrough({objectMode:!0});r._write=(s,i,o)=>this._getEntry(n[s],t[s],e).then(t=>{null!==t&&e.entryFilter(t)&&r.push(t),s===n.length-1&&r.end(),o()}).catch(o);for(let t=0;t<n.length;t++)r.write(t);return r}_getEntry(t,e,n){return this._getStat(t).then(t=>this._makeEntry(t,e)).catch(t=>{if(n.errorFilter(t))return null;throw t})}_getStat(t){return new Promise((e,n)=>{this._stat(t,this._fsStatSettings,(t,s)=>null===t?e(s):n(t))})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(76),r=n(85),i=n(86),o=n(88);function a(t={}){return t instanceof o.default?t:new o.default(t)}e.Settings=o.default,e.walk=function(t,e,n){if("function"==typeof e)return new s.default(t,a()).read(e);new s.default(t,a(e)).read(n)},e.walkSync=function(t,e){const n=a(e);return new i.default(t,n).read()},e.walkStream=function(t,e){const n=a(e);return new r.default(t,n).read()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(17),r=n(18),i=n(83),o=n(19),a=n(29);e.default=class extends a.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=r.scandir,this._emitter=new s.EventEmitter,this._queue=i(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){const n={directory:t,base:e};this._queue.push(n,t=>{null!==t&&this._handleError(t)})}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,(n,s)=>{if(null!==n)return e(n,void 0);for(const e of s)this._handleEntry(e,t.base);e(null,void 0)})}_handleError(t){o.isFatalError(this._settings,t)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;const n=t.path;void 0!==e&&(t.path=o.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,t.path)}_emitEntry(t){this._emitter.emit("entry",t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=process.versions.node.split("."),r=parseInt(s[0],10),i=parseInt(s[1],10),o=r>10,a=10===r&&i>=10;e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=o||a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(79);e.fs=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(19);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._root=s.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),r=n(5),i=n(3);e.default=class{constructor(t){this._settings=t,this._fsStatSettings=new r.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return s.resolve(this._settings.cwd,t)}_makeEntry(t,e){const n={name:e,path:e,dirent:i.fs.createDirentFromStats(e,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!i.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}},function(t,e,n){"use strict";const s=n(17),r=n(109),i=n(32),o=n(110),a=n(111),{randomBytes:c,createHash:u}=n(2),{URL:l}=n(112),h=n(12),f=n(34),p=n(36),{BINARY_TYPES:d,EMPTY_BUFFER:_,GUID:g,kStatusCode:y,kWebSocket:m,NOOP:v}=n(6),{addEventListener:b,removeEventListener:E}=n(119),{format:S,parse:A}=n(37),{toBuffer:x}=n(13),w=["CONNECTING","OPEN","CLOSING","CLOSED"],R=[8,13],C=3e4;class k extends s{constructor(t,e,n){super(),this.readyState=k.CONNECTING,this.protocol="",this._binaryType=d[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==t?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(e)?e=e.join(", "):"object"==typeof e&&null!==e&&(n=e,e=void 0),function t(e,n,s,o){const a={protocolVersion:R[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0};if(!R.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} `+`(supported versions: ${R.join(", ")})`);let f;n instanceof l?(f=n,e.url=n.href):(f=new l(n),e.url=n);const p="ws+unix:"===f.protocol;if(!(f.host||p&&f.pathname))throw new Error(`Invalid URL: ${e.url}`);const d="wss:"===f.protocol||"https:"===f.protocol;const _=d?443:80;const y=c(16).toString("base64");const m=d?r.get:i.get;let v;a.createConnection=d?O:T;a.defaultPort=a.defaultPort||_;a.port=f.port||_;a.host=f.hostname.startsWith("[")?f.hostname.slice(1,-1):f.hostname;a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":y,Connection:"Upgrade",Upgrade:"websocket",...a.headers};a.path=f.pathname+f.search;a.timeout=a.handshakeTimeout;a.perMessageDeflate&&(v=new h(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=S({[h.extensionName]:v.offer()}));s&&(a.headers["Sec-WebSocket-Protocol"]=s);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(f.username||f.password)&&(a.auth=`${f.username}:${f.password}`);if(p){const t=a.path.split(":");a.socketPath=t[0],a.path=t[1]}let b=e._req=m(a);a.timeout&&b.on("timeout",()=>{L(e,b,"Opening handshake has timed out")});b.on("error",t=>{e._req.aborted||(b=e._req=null,e.readyState=k.CLOSING,e.emit("error",t),e.emitClose())});b.on("response",r=>{const i=r.headers.location,c=r.statusCode;if(i&&a.followRedirects&&c>=300&&c<400){if(++e._redirects>a.maxRedirects)return void L(e,b,"Maximum redirects exceeded");b.abort();const r=new l(i,n);t(e,r,s,o)}else e.emit("unexpected-response",b,r)||L(e,b,`Unexpected server response: ${r.statusCode}`)});b.on("upgrade",(t,n,r)=>{if(e.emit("upgrade",t),e.readyState!==k.CONNECTING)return;b=e._req=null;const i=u("sha1").update(y+g).digest("base64");if(t.headers["sec-websocket-accept"]!==i)return void L(e,n,"Invalid Sec-WebSocket-Accept header");const o=t.headers["sec-websocket-protocol"],c=(s||"").split(/, */);let l;if(!s&&o?l="Server sent a subprotocol but none was requested":s&&!o?l="Server sent no subprotocol":o&&!c.includes(o)&&(l="Server sent an invalid subprotocol"),l)L(e,n,l);else{if(o&&(e.protocol=o),v)try{const s=A(t.headers["sec-websocket-extensions"]);s[h.extensionName]&&(v.accept(s[h.extensionName]),e._extensions[h.extensionName]=v)}catch(t){return void L(e,n,"Invalid Sec-WebSocket-Extensions header")}e.setSocket(n,r,a.maxPayload)}})}(this,t,e,n)):this._isServer=!0}get CONNECTING(){return k.CONNECTING}get CLOSING(){return k.CLOSING}get CLOSED(){return k.CLOSED}get OPEN(){return k.OPEN}get binaryType(){return this._binaryType}set binaryType(t){d.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(t,e,n){const s=new f(this._binaryType,this._extensions,this._isServer,n);this._sender=new p(t,this._extensions),this._receiver=s,this._socket=t,s[m]=this,t[m]=this,s.on("conclude",M),s.on("drain",D),s.on("error",N),s.on("message",H),s.on("ping",I),s.on("pong",B),t.setTimeout(0),t.setNoDelay(),e.length>0&&t.unshift(e),t.on("close",F),t.on("data",j),t.on("end",U),t.on("error",G),this.readyState=k.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this.readyState=k.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=k.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,e){if(this.readyState!==k.CLOSED){if(this.readyState===k.CONNECTING){const t="WebSocket was closed before the connection was established";return L(this,this._req,t)}this.readyState!==k.CLOSING?(this.readyState=k.CLOSING,this._sender.close(t,e,!this._isServer,t=>{t||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),C)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(t,e,n){if(this.readyState===k.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(n=t,t=e=void 0):"function"==typeof e&&(n=e,e=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===k.OPEN?(void 0===e&&(e=!this._isServer),this._sender.ping(t||_,e,n)):P(this,t,n)}pong(t,e,n){if(this.readyState===k.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(n=t,t=e=void 0):"function"==typeof e&&(n=e,e=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===k.OPEN?(void 0===e&&(e=!this._isServer),this._sender.pong(t||_,e,n)):P(this,t,n)}send(t,e,n){if(this.readyState===k.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e&&(n=e,e={}),"number"==typeof t&&(t=t.toString()),this.readyState!==k.OPEN)return void P(this,t,n);const s={binary:"string"!=typeof t,mask:!this._isServer,compress:!0,fin:!0,...e};this._extensions[h.extensionName]||(s.compress=!1),this._sender.send(t||_,s,n)}terminate(){if(this.readyState!==k.CLOSED){if(this.readyState===k.CONNECTING){const t="WebSocket was closed before the connection was established";return L(this,this._req,t)}this._socket&&(this.readyState=k.CLOSING,this._socket.destroy())}}}function T(t){return t.path=t.socketPath,o.connect(t)}function O(t){return t.path=void 0,t.servername||""===t.servername||(t.servername=t.host),a.connect(t)}function L(t,e,n){t.readyState=k.CLOSING;const s=new Error(n);Error.captureStackTrace(s,L),e.setHeader?(e.abort(),e.once("abort",t.emitClose.bind(t)),t.emit("error",s)):(e.destroy(s),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function P(t,e,n){if(e){const n=x(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(n){n(new Error(`WebSocket is not open: readyState ${t.readyState} `+`(${w[t.readyState]})`))}}function M(t,e){const n=this[m];n._socket.removeListener("data",j),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=e,n._closeCode=t,1005===t?n.close():n.close(t,e)}function D(){this[m]._socket.resume()}function N(t){const e=this[m];e._socket.removeListener("data",j),e.readyState=k.CLOSING,e._closeCode=t[y],e.emit("error",t),e._socket.destroy()}function $(){this[m].emitClose()}function H(t){this[m].emit("message",t)}function I(t){const e=this[m];e.pong(t,!e._isServer,v),e.emit("ping",t)}function B(t){this[m].emit("pong",t)}function F(){const t=this[m];this.removeListener("close",F),this.removeListener("end",U),t.readyState=k.CLOSING,t._socket.read(),t._receiver.end(),this.removeListener("data",j),this[m]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",$),t._receiver.on("finish",$))}function j(t){this[m]._receiver.write(t)||this.pause()}function U(){const t=this[m];t.readyState=k.CLOSING,t._receiver.end(),this.end()}function G(){const t=this[m];this.removeListener("error",G),this.on("error",v),t&&(t.readyState=k.CLOSING,this.destroy())}w.forEach((t,e)=>{k[t]=e}),["open","error","close","message"].forEach(t=>{Object.defineProperty(k.prototype,`on${t}`,{get(){const e=this.listeners(t);for(let t=0;t<e.length;t++)if(e[t]._listener)return e[t]._listener},set(e){const n=this.listeners(t);for(let e=0;e<n.length;e++)n[e]._listener&&this.removeListener(t,n[e]);this.addEventListener(t,e)}})}),k.prototype.addEventListener=b,k.prototype.removeEventListener=E,t.exports=k},function(t,e){t.exports=require("http")},function(t,e,n){var s=n(1),r=n(0),i=n(7),o=require,a=process.config&&process.config.variables||{},c=!!process.env.PREBUILDS_ONLY,u=process.versions.modules,l=!(!process.versions||!process.versions.electron)||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",h=i.arch(),f=i.platform(),p=process.env.LIBC||(function(t){return"linux"===t&&s.existsSync("/etc/alpine-release")}(f)?"musl":"glibc"),d=process.env.ARM_VERSION||("arm64"===h?"8":a.arm_version)||"",_=(process.versions.uv||"").split(".")[0];function g(t){return o(g.path(t))}function y(t){try{return s.readdirSync(t)}catch(t){return[]}}function m(t,e){var n=y(t).filter(e);return n[0]&&r.join(t,n[0])}function v(t){return/\.node$/.test(t)}function b(t){var e=t.split("-");if(2===e.length){var n=e[0],s=e[1].split("+");if(n&&s.length&&s.every(Boolean))return{name:t,platform:n,architectures:s}}}function E(t,e){return function(n){return null!=n&&(n.platform===t&&n.architectures.includes(e))}}function S(t,e){return t.architectures.length-e.architectures.length}function A(t){var e=t.split("."),n={file:t,specificity:0};if("node"===e.pop()){for(var s=0;s<e.length;s++){var r=e[s];if("node"===r||"electron"===r||"node-webkit"===r)n.runtime=r;else if("napi"===r)n.napi=!0;else if("abi"===r.slice(0,3))n.abi=r.slice(3);else if("uv"===r.slice(0,2))n.uv=r.slice(2);else if("armv"===r.slice(0,4))n.armv=r.slice(4);else{if("glibc"!==r&&"musl"!==r)continue;n.libc=r}n.specificity++}return n}}function x(t,e){return function(n){return null!=n&&(!(n.runtime!==t&&!function(t){return"node"===t.runtime&&t.napi}(n))&&(!(n.abi!==e&&!n.napi)&&((!n.uv||n.uv===_)&&((!n.armv||n.armv===d)&&(!n.libc||n.libc===p)))))}}function w(t){return function(e,n){return e.runtime!==n.runtime?e.runtime===t?-1:1:e.abi!==n.abi?e.abi?-1:1:e.specificity!==n.specificity?e.specificity>n.specificity?-1:1:0}}t.exports=g,g.path=function(t){t=r.resolve(t||".");try{var e=o(r.join(t,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[e+"_PREBUILD"]&&(t=process.env[e+"_PREBUILD"])}catch(t){}if(!c){var n=m(r.join(t,"build/Release"),v);if(n)return n;var s=m(r.join(t,"build/Debug"),v);if(s)return s}var i=R(t);if(i)return i;var a=R(r.dirname(process.execPath));if(a)return a;var g=["platform="+f,"arch="+h,"runtime="+l,"abi="+u,"uv="+_,d?"armv="+d:"","libc="+p,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+g+"\n    loaded from: "+t+"\n");function R(t){var e=y(r.join(t,"prebuilds")).map(b).filter(E(f,h)).sort(S)[0];if(e){var n=r.join(t,"prebuilds",e.name),s=y(n).map(A).filter(x(l,u)).sort(w(l))[0];return s?r.join(n,s.file):void 0}}},g.parseTags=A,g.matchTags=x,g.compareTags=w,g.parseTuple=b,g.matchTuple=E,g.compareTuples=S},function(t,e,n){"use strict";const{Writable:s}=n(4),r=n(12),{BINARY_TYPES:i,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=n(6),{concat:u,toArrayBuffer:l,unmask:h}=n(13),{isValidStatusCode:f,isValidUTF8:p}=n(35),d=0,_=1,g=2,y=3,m=4,v=5;function b(t,e,n,s){const r=new t(n?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(r,b),r[a]=s,r}t.exports=class extends s{constructor(t,e,n,s){super(),this._binaryType=t||i[0],this[c]=void 0,this._extensions=e||{},this._isServer=!!n,this._maxPayload=0|s,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=d,this._loop=!1}_write(t,e,n){if(8===this._opcode&&this._state==d)return n();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(n)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){const e=this._buffers[0];return this._buffers[0]=e.slice(t),e.slice(0,t)}const e=Buffer.allocUnsafe(t);do{const n=this._buffers[0],s=e.length-t;t>=n.length?e.set(this._buffers.shift(),s):(e.set(new Uint8Array(n.buffer,n.byteOffset,t),s),this._buffers[0]=n.slice(t)),t-=n.length}while(t>0);return e}startLoop(t){let e;this._loop=!0;do{switch(this._state){case d:e=this.getInfo();break;case _:e=this.getPayloadLength16();break;case g:e=this.getPayloadLength64();break;case y:this.getMask();break;case m:e=this.getData(t);break;default:return void(this._loop=!1)}}while(this._loop);t(e)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(0!=(48&t[0]))return this._loop=!1,b(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const e=64==(64&t[0]);if(e&&!this._extensions[r.extensionName])return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(e)return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,b(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,b(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=e}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,b(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,b(RangeError,"FIN must be set",!0,1002);if(e)return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,b(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&t[1]),this._isServer){if(!this._masked)return this._loop=!1,b(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,b(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=_;else{if(127!==this._payloadLength)return this.haveLength();this._state=g}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),e=t.readUInt32BE(0);return e>Math.pow(2,21)-1?(this._loop=!1,b(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=e*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,b(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=y:this._state=m}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=m)}getData(t){let e=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);e=this.consume(this._payloadLength),this._masked&&h(e,this._mask)}return this._opcode>7?this.controlMessage(e):this._compressed?(this._state=v,void this.decompress(e,t)):(e.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(e)),this.dataMessage())}decompress(t,e){this._extensions[r.extensionName].decompress(t,this._fin,(t,n)=>{if(t)return e(t);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return e(b(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const s=this.dataMessage();if(s)return e(s);this.startLoop(e)})}dataMessage(){if(this._fin){const t=this._messageLength,e=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?u(e,t):"arraybuffer"===this._binaryType?l(u(e,t)):e,this.emit("message",n)}else{const n=u(e,t);if(!p(n))return this._loop=!1,b(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",n.toString())}}this._state=d}controlMessage(t){if(8===this._opcode)if(this._loop=!1,0===t.length)this.emit("conclude",1005,""),this.end();else{if(1===t.length)return b(RangeError,"invalid payload length 1",!0,1002);{const e=t.readUInt16BE(0);if(!f(e))return b(RangeError,`invalid status code ${e}`,!0,1002);const n=t.slice(2);if(!p(n))return b(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",e,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",t):this.emit("pong",t);this._state=d}}},function(t,e,n){"use strict";try{const t=n(117);e.isValidUTF8="object"==typeof t?t.Validation.isValidUTF8:t}catch(t){e.isValidUTF8=()=>!0}e.isValidStatusCode=t=>t>=1e3&&t<=1014&&1004!==t&&1005!==t&&1006!==t||t>=3e3&&t<=4999},function(t,e,n){"use strict";const{randomFillSync:s}=n(2),r=n(12),{EMPTY_BUFFER:i}=n(6),{isValidStatusCode:o}=n(35),{mask:a,toBuffer:c}=n(13),u=Buffer.alloc(4);class l{constructor(t,e){this._extensions=e||{},this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,e){const n=e.mask&&e.readOnly;let r=e.mask?6:2,i=t.length;t.length>=65536?(r+=8,i=127):t.length>125&&(r+=2,i=126);const o=Buffer.allocUnsafe(n?t.length+r:r);return o[0]=e.fin?128|e.opcode:e.opcode,e.rsv1&&(o[0]|=64),o[1]=i,126===i?o.writeUInt16BE(t.length,2):127===i&&(o.writeUInt32BE(0,2),o.writeUInt32BE(t.length,6)),e.mask?(s(u,0,4),o[1]|=128,o[r-4]=u[0],o[r-3]=u[1],o[r-2]=u[2],o[r-1]=u[3],n?(a(t,u,o,r,t.length),[o]):(a(t,u,t,0,t.length),[o,t])):[o,t]}close(t,e,n,s){let r;if(void 0===t)r=i;else{if("number"!=typeof t||!o(t))throw new TypeError("First argument must be a valid error code number");if(void 0===e||""===e)(r=Buffer.allocUnsafe(2)).writeUInt16BE(t,0);else{const n=Buffer.byteLength(e);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");(r=Buffer.allocUnsafe(2+n)).writeUInt16BE(t,0),r.write(e,2)}}this._deflating?this.enqueue([this.doClose,r,n,s]):this.doClose(r,n,s)}doClose(t,e,n){this.sendFrame(l.frame(t,{fin:!0,rsv1:!1,opcode:8,mask:e,readOnly:!1}),n)}ping(t,e,n){const s=c(t);if(s.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,s,e,c.readOnly,n]):this.doPing(s,e,c.readOnly,n)}doPing(t,e,n,s){this.sendFrame(l.frame(t,{fin:!0,rsv1:!1,opcode:9,mask:e,readOnly:n}),s)}pong(t,e,n){const s=c(t);if(s.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,s,e,c.readOnly,n]):this.doPong(s,e,c.readOnly,n)}doPong(t,e,n,s){this.sendFrame(l.frame(t,{fin:!0,rsv1:!1,opcode:10,mask:e,readOnly:n}),s)}send(t,e,n){const s=c(t),i=this._extensions[r.extensionName];let o=e.binary?2:1,a=e.compress;if(this._firstFragment?(this._firstFragment=!1,a&&i&&(a=s.length>=i._threshold),this._compress=a):(a=!1,o=0),e.fin&&(this._firstFragment=!0),i){const t={fin:e.fin,rsv1:a,opcode:o,mask:e.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,s,this._compress,t,n]):this.dispatch(s,this._compress,t,n)}else this.sendFrame(l.frame(s,{fin:e.fin,rsv1:!1,opcode:o,mask:e.mask,readOnly:c.readOnly}),n)}dispatch(t,e,n,s){if(!e)return void this.sendFrame(l.frame(t,n),s);const i=this._extensions[r.extensionName];this._deflating=!0,i.compress(t,n.fin,(t,e)=>{if(this._socket.destroyed){const t=new Error("The socket was closed while data was being compressed");"function"==typeof s&&s(t);for(let e=0;e<this._queue.length;e++){const n=this._queue[e][4];"function"==typeof n&&n(t)}}else this._deflating=!1,n.readOnly=!1,this.sendFrame(l.frame(e,n),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const t=this._queue.shift();this._bufferedBytes-=t[1].length,Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[1].length,this._queue.push(t)}sendFrame(t,e){2===t.length?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],e),this._socket.uncork()):this._socket.write(t[0],e)}}t.exports=l},function(t,e,n){"use strict";const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(t,e,n){void 0===t[e]?t[e]=[n]:t[e].push(n)}t.exports={format:function(t){return Object.keys(t).map(e=>{let n=t[e];return Array.isArray(n)||(n=[n]),n.map(t=>[e].concat(Object.keys(t).map(e=>{let n=t[e];return Array.isArray(n)||(n=[n]),n.map(t=>!0===t?e:`${e}=${t}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(t){const e=Object.create(null);if(void 0===t||""===t)return e;let n,i,o=Object.create(null),a=!1,c=!1,u=!1,l=-1,h=-1,f=0;for(;f<t.length;f++){const p=t.charCodeAt(f);if(void 0===n)if(-1===h&&1===s[p])-1===l&&(l=f);else if(32===p||9===p)-1===h&&-1!==l&&(h=f);else{if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${f}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f);const s=t.slice(l,h);44===p?(r(e,s,o),o=Object.create(null)):n=s,l=h=-1}}else if(void 0===i)if(-1===h&&1===s[p])-1===l&&(l=f);else if(32===p||9===p)-1===h&&-1!==l&&(h=f);else if(59===p||44===p){if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f),r(o,t.slice(l,h),!0),44===p&&(r(e,n,o),o=Object.create(null),n=void 0),l=h=-1}else{if(61!==p||-1===l||-1!==h)throw new SyntaxError(`Unexpected character at index ${f}`);i=t.slice(l,f),l=h=-1}else if(c){if(1!==s[p])throw new SyntaxError(`Unexpected character at index ${f}`);-1===l?l=f:a||(a=!0),c=!1}else if(u)if(1===s[p])-1===l&&(l=f);else if(34===p&&-1!==l)u=!1,h=f;else{if(92!==p)throw new SyntaxError(`Unexpected character at index ${f}`);c=!0}else if(34===p&&61===t.charCodeAt(f-1))u=!0;else if(-1===h&&1===s[p])-1===l&&(l=f);else if(-1===l||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${f}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f);let s=t.slice(l,h);a&&(s=s.replace(/\\/g,""),a=!1),r(o,i,s),44===p&&(r(e,n,o),o=Object.create(null),n=void 0),i=void 0,l=h=-1}}else-1===h&&(h=f)}if(-1===l||u)throw new SyntaxError("Unexpected end of input");-1===h&&(h=f);const p=t.slice(l,h);return void 0===n?r(e,p,o):(void 0===i?r(o,p,!0):r(o,i,a?p.replace(/\\/g,""):p),r(e,n,o)),e}}},function(t,e,n){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=new(s(n(39)).default);e.activate=function(t){r.activate()},e.deactivate=function(){r.deactivate()}},function(t,e,n){"use strict";var s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(40)),o=r(n(41)),a=r(n(107)),c=r(n(122));e.default=class{constructor(){this.initialized=!1}checkInstalled(){return!!this.settings.getInstalled()||(this.showInstallMessage(),!1)}hideMessage(){this.panel&&this.panel.destroy()}showInstallMessage(){const t=document.createElement("div");t.innerHTML='\n<div class="serenade-message">\n  <a href="#" class="serenade-message-close">&times;</a>\n  <div class="serenade-message-content">\n    <h1>Welcome to Serenade!</h1>\n    <p>With Serenade, you can write code faster&mdash;by speaking in plain English, rather than typing. Use Serenade as your coding assistant, or abandon your keyboard entirely.</p>\n    <p>To get started, download the Serenade app and run it alongside Atom.</p>\n    <a class="serenade-download" href="https://serenade.ai/">Download</a>\n  </div>\n</div>',t.querySelector(".serenade-message-close").addEventListener("click",t=>{t.preventDefault(),this.hideMessage()}),t.querySelector(".serenade-download").addEventListener("click",()=>{this.hideMessage()}),this.panel=atom.workspace.addRightPanel({item:t})}updateActive(){this.ipc.sendActive(),this.commandHandler.reloadActiveEditor()}activate(){this.initialize(),this.subscriptions=new i.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"serenade:initialize":()=>this.initialize()}))}deactivate(){this.subscriptions.dispose()}initialize(){this.initialized||(this.initialized=!0,this.settings=new c.default,this.commandHandler=new o.default(this.settings),this.ipc=new a.default(this.commandHandler,"atom"),this.ipc.start(),this.checkInstalled(),this.commandHandler.pollActiveEditor(),this.settings.setPluginInstalled("atom"),atom.workspace.observeTextEditors(t=>{t.onDidChangeCursorPosition(()=>{this.updateActive()})}),atom.workspace.observeActiveTextEditor(t=>{t&&this.updateActive()}),atom.workspace.observeActivePane(t=>{t&&this.updateActive()}),atom.workspace.observeActivePaneItem(t=>{t&&this.updateActive()}))}}},function(t,e){t.exports=require("atom")},function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(r,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((s=s.apply(t,e||[])).next())})},r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(42)),o=r(n(105));e.default=class{constructor(t){this.settings=t,this.activeEditor=atom.workspace.getActiveTextEditor(),this.openFileList=[],this.scopeToExtension={"source.c":["c","h"],"source.cpp":["cpp","cc","cxx","c++","hpp","hh","hxx","h++","c","h"],"source.c++":["cpp","cc","cxx","c++","hpp","hh","hxx","h++","c","h"],"source.css":["css","scss"],"source.scss":["css","scss"],"source.go":["go"],"text.html":["html","vue","svelte"],"text.html.basic":["html","vue","svelte"],"source.java":["java"],"source.js":["js","jsx"],"source.python":["py"],"source.ruby":["rb"],"source.rust":["rs"],"source.shell":["sh","bash"],"source.ts":["ts","tsx"],"source.tsx":["tsx","ts"]}}dispatch(t){let e=atom.workspace.getActivePane();this.activeEditor&&(e=atom.views.getView(this.activeEditor)),atom.commands.dispatch(e,t)}focus(){this.activeEditor&&atom.workspace.paneForItem(this.activeEditor).activate()}highlightRanges(t){const e=[1,2,1],n=200/e.length;if(!this.activeEditor||0==t.length)return 0;for(const s of t)for(let t=0;t<e.length;t++)setTimeout(()=>{if(this.activeEditor){const r=this.activeEditor.markBufferRange([s.start,s.stop]);this.activeEditor.decorateMarker(r,{type:"highlight",class:s.diffRangeType==o.DiffRangeType.Delete?`error-color-${e[t]}`:`success-color-${e[t]}`}),setTimeout(()=>{r.destroy()},n)}},t*n);return 250}rowAndColumnToCursor(t,e,n){let s=0,r=0,i=0;for(let o=0;o<n.length;o++){if(r==t){if(i==e)break;i++}"\n"==n[o]&&r++,s++}return s}setSourceAndCursor(t,e,n){this.activeEditor&&this.activeEditor.transact(()=>{this.activeEditor.setText(t),this.activeEditor.setCursorBufferPosition([e,n])})}uiDelay(t=300){return new Promise(e=>{setTimeout(()=>{e()},t)})}COMMAND_TYPE_CLOSE_TAB(t){return s(this,void 0,void 0,function*(){atom.workspace.getActivePane().destroyActiveItem(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_CLOSE_WINDOW(t){return s(this,void 0,void 0,function*(){this.dispatch("pane:close"),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_COPY(t){return s(this,void 0,void 0,function*(){t&&t.text&&atom.clipboard.write(t.text)})}COMMAND_TYPE_CREATE_TAB(t){return s(this,void 0,void 0,function*(){yield this.focus(),atom.workspace.open(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_DIFF(t){return s(this,void 0,void 0,function*(){if(yield this.focus(),!this.activeEditor)return;const e=this.activeEditor.getText()||"",[n,r]=o.cursorToRowAndColumn(t.source,t.cursor);if(!this.settings.getAnimations())return void this.setSourceAndCursor(t.source,n,r);let i=o.diff(e,t.source);0==i.length&&(i=[new o.DiffRange(o.DiffRangeType.Add,o.DiffHighlightType.Line,new o.DiffPoint(n,0),new o.DiffPoint(n+1,0))]);const a=i.filter(t=>t.diffRangeType==o.DiffRangeType.Add),c=i.filter(t=>t.diffRangeType==o.DiffRangeType.Delete),u=this.highlightRanges(c);return new Promise(e=>{setTimeout(()=>s(this,void 0,void 0,function*(){this.setSourceAndCursor(t.source,n,r),this.highlightRanges(a),e(null)}),c.length>0?u:1)})})}COMMAND_TYPE_GET_EDITOR_STATE(t){return s(this,void 0,void 0,function*(){let e={message:"editorState",data:{source:"",cursor:0,selectionStart:0,selectionEnd:0,filename:"",files:this.openFileList,tabs:atom.workspace.getActivePane().getItems().map(t=>t.getTitle())}};if(!this.activeEditor)return e;let n=this.activeEditor.getPath()||"";const s=this.activeEditor.getGrammar().scopeName;if(s&&this.scopeToExtension[s]&&(this.scopeToExtension[s].some(t=>n.endsWith(`.${t}`))||(n=(n||"file")+`.${this.scopeToExtension[s][0]}`)),e.data.filename=n,t.limited)return e;const r=atom.project.getPaths();let i=[];for(const t of this.openFileList){let e=0;for(const n of r)t.startsWith(n)&&e<t.length&&(e=n.length+1);i.push(t.substring(e))}e.data.files=i;const o=this.activeEditor.getText(),a=this.activeEditor.getCursorBufferPosition(),c=this.activeEditor.getSelectedBufferRange().start,u=this.activeEditor.getSelectedBufferRange().end;return e.data.selectionStart=this.rowAndColumnToCursor(c.row,c.column,o),e.data.selectionEnd=this.rowAndColumnToCursor(u.row,u.column,o),e.data.selectionStart==e.data.selectionEnd&&(e.data.selectionStart=0,e.data.selectionEnd=0),e.data.source=o,e.data.cursor=this.rowAndColumnToCursor(a.row,a.column,o),e.data.available=!0,e.data.canGetState=!0,e.data.canSetState=!0,e})}COMMAND_TYPE_NEXT_TAB(t){return s(this,void 0,void 0,function*(){yield this.focus(),atom.workspace.getActivePane().activateNextItem(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_OPEN_FILE(t){return s(this,void 0,void 0,function*(){atom.workspace.open(this.openFileList[t.index||0])})}COMMAND_TYPE_OPEN_FILE_LIST(t){return s(this,void 0,void 0,function*(){const e="**"+t.path.toLowerCase().replace(/ /g,"**")+"**";this.openFileList=[];for(const t of atom.project.getDirectories())this.openFileList.push(...i.sync([e],{cwd:t.getPath(),absolute:!0,caseSensitiveMatch:!1,baseNameMatch:!0,gitignore:!0}));return{message:"open"}})}COMMAND_TYPE_PREVIOUS_TAB(t){return s(this,void 0,void 0,function*(){yield this.focus(),atom.workspace.getActivePane().activatePreviousItem(),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_REDO(t){return s(this,void 0,void 0,function*(){this.activeEditor&&this.activeEditor.redo()})}COMMAND_TYPE_SAVE(t){return s(this,void 0,void 0,function*(){if(this.activeEditor)return this.activeEditor.getPath()?this.activeEditor.save():atom.applicationDelegate.showSaveDialog().then(t=>{t.canceled||this.activeEditor.saveAs(t.filePath)})})}COMMAND_TYPE_SELECT(t){return s(this,void 0,void 0,function*(){if(!this.activeEditor)return;const[e,n]=o.cursorToRowAndColumn(t.source,t.cursor),[s,r]=o.cursorToRowAndColumn(t.source,t.cursorEnd);this.activeEditor.setSelectedBufferRange([[e,n],[s,r]])})}COMMAND_TYPE_SPLIT(t){return s(this,void 0,void 0,function*(){yield this.focus(),this.dispatch("pane:split-"+t.direction+"-and-copy-active-item"),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_SWITCH_TAB(t){return s(this,void 0,void 0,function*(){let e=t.index-1;e<0&&(e=atom.workspace.getActivePane().getItems().length-1),yield this.focus(),atom.workspace.getActivePane().activateItemAtIndex(e),yield this.uiDelay(),this.reloadActiveEditor()})}COMMAND_TYPE_UNDO(t){return s(this,void 0,void 0,function*(){this.activeEditor&&this.activeEditor.undo()})}COMMAND_TYPE_WINDOW(t){return s(this,void 0,void 0,function*(){yield this.focus();this.dispatch("window:focus-pane-"+{left:"on-left",right:"on-right",up:"above",down:"below"}[t.direction]),yield this.uiDelay(),this.reloadActiveEditor()})}pollActiveEditor(){setInterval(()=>{this.reloadActiveEditor()},1e3)}reloadActiveEditor(){const t=atom.workspace.getActiveTextEditor();t&&(this.activeEditor=t)}}},function(t,e,n){"use strict";const s=n(1),r=n(43),i=n(21),o=n(22),a=n(99),c=n(101),{FilterStream:u,UniqueStream:l}=n(104),h=()=>!1,f=t=>"!"===t[0],p=(t,e)=>{(t=>{if(!t.every(t=>"string"==typeof t))throw new TypeError("Patterns must be a string or an array of strings")})(t=r([].concat(t))),((t={})=>{if(!t.cwd)return;let e;try{e=s.statSync(t.cwd)}catch(t){return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")})(e);const n=[];e={ignore:[],expandDirectories:!0,...e};for(const[s,r]of t.entries()){if(f(r))continue;const i=t.slice(s).filter(f).map(t=>t.slice(1)),o={...e,ignore:e.ignore.concat(i)};n.push({pattern:r,options:o})}return n},d=(t,e)=>t.options.expandDirectories?((t,e)=>{let n={};return t.options.cwd&&(n.cwd=t.options.cwd),Array.isArray(t.options.expandDirectories)?n={...n,files:t.options.expandDirectories}:"object"==typeof t.options.expandDirectories&&(n={...n,...t.options.expandDirectories}),e(t.pattern,n)})(t,e):[t.pattern],_=t=>t&&t.gitignore?c.sync({cwd:t.cwd,ignore:t.ignore}):h,g=t=>e=>{const{options:n}=t;return n.ignore&&Array.isArray(n.ignore)&&n.expandDirectories&&(n.ignore=a.sync(n.ignore)),{pattern:e,options:n}};t.exports=async(t,e)=>{const n=p(t,e),[i,u]=await Promise.all([(async()=>e&&e.gitignore?c({cwd:e.cwd,ignore:e.ignore}):h)(),(async()=>{const t=await Promise.all(n.map(async t=>{const e=await d(t,a);return Promise.all(e.map(g(t)))}));return r(...t)})()]),l=await Promise.all(u.map(t=>o(t.pattern,t.options)));return r(...l).filter(t=>!i((t=>t.stats instanceof s.Stats?t.path:t)(t)))},t.exports.sync=(t,e)=>{const n=p(t,e).reduce((t,e)=>{const n=d(e,a.sync).map(g(e));return t.concat(n)},[]),s=_(e);return n.reduce((t,e)=>r(t,o.sync(e.pattern,e.options)),[]).filter(t=>!s(t))},t.exports.stream=(t,e)=>{const n=p(t,e).reduce((t,e)=>{const n=d(e,a.sync).map(g(e));return t.concat(n)},[]),s=_(e),r=new u(t=>!s(t)),c=new l;return i(n.map(t=>o.stream(t.pattern,t.options))).pipe(r).pipe(c)},t.exports.generateGlobTasks=p,t.exports.hasMagic=(t,e)=>[].concat(t).some(t=>o.isDynamicPattern(t,e)),t.exports.gitignore=c},function(t,e,n){"use strict";t.exports=(...t)=>[...new Set([].concat(...t))]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(3);function r(t,e,n){const s=a(t);if("."in s){return[u(".",t,e,n)]}return c(s,e,n)}function i(t){return s.pattern.getPositivePatterns(t)}function o(t,e){return s.pattern.getNegativePatterns(t).concat(e).map(s.pattern.convertToPositivePattern)}function a(t){return t.reduce((t,e)=>{const n=s.pattern.getBaseDirectory(e);return n in t?t[n].push(e):t[n]=[e],t},{})}function c(t,e,n){return Object.keys(t).map(s=>u(s,t[s],e,n))}function u(t,e,n,r){return{dynamic:r,positive:e,negative:n,base:t,patterns:[].concat(e,n.map(s.pattern.convertToNegativePattern))}}e.generate=function(t,e){const n=i(t),a=o(t,e.ignore),c=n.filter(t=>s.pattern.isStaticPattern(t,e)),u=n.filter(t=>s.pattern.isDynamicPattern(t,e)),l=r(c,a,!1),h=r(u,a,!0);return l.concat(h)},e.convertPatternsToTasks=r,e.getPositivePatterns=i,e.getNegativePatternsAsPositive=o,e.groupPatternsByBaseDirectory=a,e.convertPatternGroupsToTasks=c,e.convertPatternGroupToTask=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flatten=function(t){return t.reduce((t,e)=>[].concat(t,e),[])},e.splitWhen=function(t,e){const n=[[]];let s=0;for(const r of t)e(r)?n[++s]=[]:n[s].push(r);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEnoentCodeError=function(t){return"ENOENT"===t.code}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}e.createDirentFromStats=function(t,e){return new s(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),r=2,i=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;e.unixify=function(t){return t.replace(/\\/g,"/")},e.makeAbsolute=function(t,e){return s.resolve(t,e)},e.escape=function(t){return t.replace(i,"\\$2")},e.removeLeadingDotSegment=function(t){if("."===t.charAt(0)){const e=t.charAt(1);if("/"===e||"\\"===e)return t.slice(r)}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),r=n(50),i=n(53),o=n(65),a="**",c="\\",u=/[*?]|^!/,l=/\[.*]/,h=/(?:^|[^!*+?@])\(.*\|.*\)/,f=/[!*+?@]\(.*\)/,p=/{.*(?:,|\.\.).*}/;function d(t,e={}){return!_(t,e)}function _(t,e={}){return!(!1!==e.caseSensitiveMatch&&!t.includes(c))||(!!(u.test(t)||l.test(t)||h.test(t))||(!(!1===e.extglob||!f.test(t))||!(!1===e.braceExpansion||!p.test(t))))}function g(t){return t.startsWith("!")&&"("!==t[1]}function y(t){return!g(t)}function m(t){return t.endsWith("/"+a)}function v(t){return i.braces(t,{expand:!0,nodupes:!0})}function b(t,e){return i.makeRe(t,e)}e.isStaticPattern=d,e.isDynamicPattern=_,e.convertToPositivePattern=function(t){return g(t)?t.slice(1):t},e.convertToNegativePattern=function(t){return"!"+t},e.isNegativePattern=g,e.isPositivePattern=y,e.getNegativePatterns=function(t){return t.filter(g)},e.getPositivePatterns=function(t){return t.filter(y)},e.getBaseDirectory=function(t){return r(t,{flipBackslashes:!1})},e.hasGlobStar=function(t){return t.includes(a)},e.endsWithSlashGlobStar=m,e.isAffectDepthOfReadingPattern=function(t){const e=s.basename(t);return m(t)||d(e)},e.expandPatternsWithBraceExpansion=function(t){return t.reduce((t,e)=>t.concat(v(e)),[])},e.expandBraceExpansion=v,e.getPatternParts=function(t,e){const n=o.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return 0===n.parts.length?[t]:n.parts},e.makeRe=b,e.convertPatternsToRe=function(t,e){return t.map(t=>b(t,e))},e.matchAny=function(t,e){return e.some(e=>e.test(t))}},function(t,e,n){"use strict";var s=n(51),r=n(0).posix.dirname,i="win32"===n(7).platform(),o=/\\/g,a=/[\{\[].*[\/]*.*[\}\]]$/,c=/(^|[^\\])([\{\[]|\([^\)]+$)/,u=/\\([\!\*\?\|\[\]\(\)\{\}])/g;t.exports=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&i&&t.indexOf("/")<0&&(t=t.replace(o,"/")),a.test(t)&&(t+="/"),t+="a";do{t=r(t)}while(s(t)||c.test(t));return t.replace(u,"$1")}},function(t,e,n){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var s=n(52),r={"{":"}","(":")","[":"]"},i=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,o=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;t.exports=function(t,e){if("string"!=typeof t||""===t)return!1;if(s(t))return!0;var n,a=i;for(e&&!1===e.strict&&(a=o);n=a.exec(t);){if(n[2])return!0;var c=n.index+n[0].length,u=n[1],l=u?r[u]:null;if(u&&l){var h=t.indexOf(l,c);-1!==h&&(c=h+1)}t=t.slice(c)}return!1}},function(t,e){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
t.exports=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1}},function(t,e,n){"use strict";const s=n(8),r=n(54),i=n(61),o=n(9),a=t=>"string"==typeof t&&(""===t||"./"===t),c=(t,e,n)=>{e=[].concat(e),t=[].concat(t);let s=new Set,r=new Set,o=new Set,a=0,c=t=>{o.add(t.output),n&&n.onResult&&n.onResult(t)};for(let o=0;o<e.length;o++){let u=i(String(e[o]),{...n,onResult:c},!0),l=u.state.negated||u.state.negatedExtglob;l&&a++;for(let e of t){let t=u(e,!0);(l?!t.isMatch:t.isMatch)&&(l?s.add(t.output):(s.delete(t.output),r.add(t.output)))}}let u=(a===e.length?[...o]:[...r]).filter(t=>!s.has(t));if(n&&0===u.length){if(!0===n.failglob)throw new Error(`No matches found for "${e.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?e.map(t=>t.replace(/\\/g,"")):e}return u};c.match=c,c.matcher=(t,e)=>i(t,e),c.any=c.isMatch=(t,e,n)=>i(e,n)(t),c.not=(t,e,n={})=>{e=[].concat(e).map(String);let s=new Set,r=[],i=c(t,e,{...n,onResult:t=>{n.onResult&&n.onResult(t),r.push(t.output)}});for(let t of r)i.includes(t)||s.add(t);return[...s]},c.contains=(t,e,n)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${s.inspect(t)}"`);if(Array.isArray(e))return e.some(e=>c.contains(t,e,n));if("string"==typeof e){if(a(t)||a(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return c.isMatch(t,e,{...n,contains:!0})},c.matchKeys=(t,e,n)=>{if(!o.isObject(t))throw new TypeError("Expected the first argument to be an object");let s=c(Object.keys(t),e,n),r={};for(let e of s)r[e]=t[e];return r},c.some=(t,e,n)=>{let s=[].concat(t);for(let t of[].concat(e)){let e=i(String(t),n);if(s.some(t=>e(t)))return!0}return!1},c.every=(t,e,n)=>{let s=[].concat(t);for(let t of[].concat(e)){let e=i(String(t),n);if(!s.every(t=>e(t)))return!1}return!0},c.all=(t,e,n)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${s.inspect(t)}"`);return[].concat(e).every(e=>i(e,n)(t))},c.capture=(t,e,n)=>{let s=o.isWindows(n),r=i.makeRe(String(t),{...n,capture:!0}).exec(s?o.toPosixSlashes(e):e);if(r)return r.slice(1).map(t=>void 0===t?"":t)},c.makeRe=(...t)=>i.makeRe(...t),c.scan=(...t)=>i.scan(...t),c.parse=(t,e)=>{let n=[];for(let s of[].concat(t||[]))for(let t of r(String(s),e))n.push(i.parse(t,e));return n},c.braces=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return e&&!0===e.nobrace||!/\{.*\}/.test(t)?[t]:r(t,e)},c.braceExpand=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return c.braces(t,{...e,expand:!0})},t.exports=c},function(t,e,n){"use strict";const s=n(14),r=n(55),i=n(58),o=n(59),a=(t,e={})=>{let n=[];if(Array.isArray(t))for(let s of t){let t=a.create(s,e);Array.isArray(t)?n.push(...t):n.push(t)}else n=[].concat(a.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(n=[...new Set(n)]),n};a.parse=(t,e={})=>o(t,e),a.stringify=(t,e={})=>s("string"==typeof t?a.parse(t,e):t,e),a.compile=(t,e={})=>("string"==typeof t&&(t=a.parse(t,e)),r(t,e)),a.expand=(t,e={})=>{"string"==typeof t&&(t=a.parse(t,e));let n=i(t,e);return!0===e.noempty&&(n=n.filter(Boolean)),!0===e.nodupes&&(n=[...new Set(n)]),n},a.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?a.compile(t,e):a.expand(t,e),t.exports=a},function(t,e,n){"use strict";const s=n(23),r=n(15);t.exports=(t,e={})=>{let n=(t,i={})=>{let o=r.isInvalidBrace(i),a=!0===t.invalid&&!0===e.escapeInvalid,c=!0===o||!0===a,u=!0===e.escapeInvalid?"\\":"",l="";if(!0===t.isOpen)return u+t.value;if(!0===t.isClose)return u+t.value;if("open"===t.type)return c?u+t.value:"(";if("close"===t.type)return c?u+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":c?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let n=r.reduce(t.nodes),i=s(...n,{...e,wrap:!1,toRegex:!0});if(0!==i.length)return n.length>1&&i.length>1?`(${i})`:i}if(t.nodes)for(let e of t.nodes)l+=n(e,t);return l};return n(t)}},function(t,e,n){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const s=n(57),r=(t,e,n)=>{if(!1===s(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===s(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...n};"boolean"==typeof i.strictZeros&&(i.relaxZeros=!1===i.strictZeros);let c=t+":"+e+"="+String(i.relaxZeros)+String(i.shorthand)+String(i.capture)+String(i.wrap);if(r.cache.hasOwnProperty(c))return r.cache[c].result;let u=Math.min(t,e),l=Math.max(t,e);if(1===Math.abs(u-l)){let n=t+"|"+e;return i.capture?`(${n})`:!1===i.wrap?n:`(?:${n})`}let h=d(t)||d(e),f={min:t,max:e,a:u,b:l},p=[],_=[];if(h&&(f.isPadded=h,f.maxLen=String(f.max).length),u<0){_=o(l<0?Math.abs(l):1,Math.abs(u),f,i),u=f.a=0}return l>=0&&(p=o(u,l,f,i)),f.negatives=_,f.positives=p,f.result=function(t,e,n){let s=a(t,e,"-",!1,n)||[],r=a(e,t,"",!1,n)||[],i=a(t,e,"-?",!0,n)||[];return s.concat(i).concat(r).join("|")}(_,p,i),!0===i.capture?f.result=`(${f.result})`:!1!==i.wrap&&p.length+_.length>1&&(f.result=`(?:${f.result})`),r.cache[c]=f,f.result};function i(t,e,n){if(t===e)return{pattern:t,count:[],digits:0};let s=function(t,e){let n=[];for(let s=0;s<t.length;s++)n.push([t[s],e[s]]);return n}(t,e),r=s.length,i="",o=0;for(let t=0;t<r;t++){let[e,r]=s[t];e===r?i+=e:"0"!==e||"9"!==r?i+=p(e,r,n):o++}return o&&(i+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:i,count:[o],digits:r}}function o(t,e,n,s){let r,o=function(t,e){let n=1,s=1,r=l(t,n),i=new Set([e]);for(;t<=r&&r<=e;)i.add(r),r=l(t,n+=1);for(r=h(e+1,s)-1;t<r&&r<=e;)i.add(r),r=h(e+1,s+=1)-1;return(i=[...i]).sort(c),i}(t,e),a=[],u=t;for(let t=0;t<o.length;t++){let e=o[t],c=i(String(u),String(e),s),l="";n.isPadded||!r||r.pattern!==c.pattern?(n.isPadded&&(l=_(e,n,s)),c.string=l+c.pattern+f(c.count),a.push(c),u=e+1,r=c):(r.count.length>1&&r.count.pop(),r.count.push(c.count[0]),r.string=r.pattern+f(r.count),u=e+1)}return a}function a(t,e,n,s,r){let i=[];for(let r of t){let{string:t}=r;s||u(e,"string",t)||i.push(n+t),s&&u(e,"string",t)&&i.push(n+t)}return i}function c(t,e){return t>e?1:e>t?-1:0}function u(t,e,n){return t.some(t=>t[e]===n)}function l(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function h(t,e){return t-t%Math.pow(10,e)}function f(t){let[e=0,n=""]=t;return n||e>1?`{${e+(n?","+n:"")}}`:""}function p(t,e,n){return`[${t}${e-t==1?"":"-"}${e}]`}function d(t){return/^-?(0+)\d/.test(t)}function _(t,e,n){if(!e.isPadded)return t;let s=Math.abs(e.maxLen-String(t).length),r=!1!==n.relaxZeros;switch(s){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${s}}`:`0{${s}}`}}r.cache={},r.clearCache=()=>r.cache={},t.exports=r},function(t,e,n){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))}},function(t,e,n){"use strict";const s=n(23),r=n(14),i=n(15),o=(t="",e="",n=!1)=>{let s=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return n?i.flatten(e).map(t=>`{${t}}`):e;for(let r of t)if(Array.isArray(r))for(let t of r)s.push(o(t,e,n));else for(let t of e)!0===n&&"string"==typeof t&&(t=`{${t}}`),s.push(Array.isArray(t)?o(r,t,n):r+t);return i.flatten(s)};t.exports=(t,e={})=>{let n=void 0===e.rangeLimit?1e3:e.rangeLimit,a=(t,c={})=>{t.queue=[];let u=c,l=c.queue;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)l=(u=u.parent).queue;if(t.invalid||t.dollar)return void l.push(o(l.pop(),r(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void l.push(o(l.pop(),["{}"]));if(t.nodes&&t.ranges>0){let a=i.reduce(t.nodes);if(i.exceedsLimit(...a,e.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=s(...a,e);return 0===c.length&&(c=r(t,e)),l.push(o(l.pop(),c)),void(t.nodes=[])}let h=i.encloseBrace(t),f=t.queue,p=t;for(;"brace"!==p.type&&"root"!==p.type&&p.parent;)f=(p=p.parent).queue;for(let e=0;e<t.nodes.length;e++){let n=t.nodes[e];"comma"!==n.type||"brace"!==t.type?"close"!==n.type?n.value&&"open"!==n.type?f.push(o(f.pop(),n.value)):n.nodes&&a(n,t):l.push(o(l.pop(),f,h)):(1===e&&f.push(""),f.push(""))}return f};return i.flatten(a(t))}},function(t,e,n){"use strict";const s=n(14),{MAX_LENGTH:r,CHAR_BACKSLASH:i,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:u,CHAR_RIGHT_PARENTHESES:l,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:f,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:_,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:y,CHAR_ZERO_WIDTH_NOBREAK_SPACE:m}=n(60);t.exports=(t,e={})=>{if("string"!=typeof t)throw new TypeError("Expected a string");let n=e||{},v="number"==typeof n.maxLength?Math.min(r,n.maxLength):r;if(t.length>v)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${v})`);let b,E={type:"root",input:t,nodes:[]},S=[E],A=E,x=E,w=0,R=t.length,C=0,k=0;const T=()=>t[C++],O=t=>{if("text"===t.type&&"dot"===x.type&&(x.type="text"),!x||"text"!==x.type||"text"!==t.type)return A.nodes.push(t),t.parent=A,t.prev=x,x=t,t;x.value+=t.value};for(O({type:"bos"});C<R;)if(A=S[S.length-1],(b=T())!==m&&b!==y)if(b!==i)if(b!==d)if(b!==p)if(b!==u)if(b!==l)if(b!==_&&b!==g&&b!==o)if(b!==h)if(b!==f)if(b===a&&k>0){if(A.ranges>0){A.ranges=0;let t=A.nodes.shift();A.nodes=[t,{type:"text",value:s(A)}]}O({type:"comma",value:b}),A.commas++}else if(b===c&&k>0&&0===A.commas){let t=A.nodes;if(0===k||0===t.length){O({type:"text",value:b});continue}if("dot"===x.type){if(A.range=[],x.value+=b,x.type="range",3!==A.nodes.length&&5!==A.nodes.length){A.invalid=!0,A.ranges=0,x.type="text";continue}A.ranges++,A.args=[];continue}if("range"===x.type){t.pop();let e=t[t.length-1];e.value+=x.value+b,x=e,A.ranges--;continue}O({type:"dot",value:b})}else O({type:"text",value:b});else{if("brace"!==A.type){O({type:"text",value:b});continue}let t="close";(A=S.pop()).close=!0,O({type:t,value:b}),k--,A=S[S.length-1]}else{k++;let t=x.value&&"$"===x.value.slice(-1)||!0===A.dollar;A=O({type:"brace",open:!0,close:!1,dollar:t,depth:k,commas:0,ranges:0,nodes:[]}),S.push(A),O({type:"open",value:b})}else{let t,n=b;for(!0!==e.keepQuotes&&(b="");C<R&&(t=T());)if(t!==i){if(t===n){!0===e.keepQuotes&&(b+=t);break}b+=t}else b+=t+T();O({type:"text",value:b})}else{if("paren"!==A.type){O({type:"text",value:b});continue}A=S.pop(),O({type:"text",value:b}),A=S[S.length-1]}else A=O({type:"paren",nodes:[]}),S.push(A),O({type:"text",value:b});else{w++;let t;for(;C<R&&(t=T());)if(b+=t,t!==p)if(t!==i){if(t===d&&0===--w)break}else b+=T();else w++;O({type:"text",value:b})}else O({type:"text",value:"\\"+b});else O({type:"text",value:(e.keepEscaping?b:"")+T()});do{if("root"!==(A=S.pop()).type){A.nodes.forEach(t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)});let t=S[S.length-1],e=t.nodes.indexOf(A);t.nodes.splice(e,1,...A.nodes)}}while(S.length>0);return O({type:"eos"}),E}},function(t,e,n){"use strict";t.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(t,e,n){"use strict";t.exports=n(62)},function(t,e,n){"use strict";const s=n(0),r=n(63),i=n(64),o=n(9),a=(t,e,n=!1)=>{if(Array.isArray(t)){let s=t.map(t=>a(t,e,n));return t=>{for(let e of s){let n=e(t);if(n)return n}return!1}}if("string"!=typeof t||""===t)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},r=o.isWindows(e),i=a.makeRe(t,e,!1,!0),c=i.state;delete i.state;let u=()=>!1;if(s.ignore){let t={...e,ignore:null,onMatch:null,onResult:null};u=a(s.ignore,t,n)}const l=(n,o=!1)=>{let{isMatch:l,match:h,output:f}=a.test(n,i,e,{glob:t,posix:r}),p={glob:t,state:c,regex:i,posix:r,input:n,output:f,match:h,isMatch:l};return"function"==typeof s.onResult&&s.onResult(p),!1===l?(p.isMatch=!1,!!o&&p):u(n)?("function"==typeof s.onIgnore&&s.onIgnore(p),p.isMatch=!1,!!o&&p):("function"==typeof s.onMatch&&s.onMatch(p),!o||p)};return n&&(l.state=c),l};a.test=(t,e,n,{glob:s,posix:r}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};let i=n||{},c=i.format||(r?o.toPosixSlashes:null),u=t===s,l=u&&c?c(t):t;return!1===u&&(u=(l=c?c(t):t)===s),!1!==u&&!0!==i.capture||(u=!0===i.matchBase||!0===i.basename?a.matchBase(t,e,n,r):e.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(t,e,n,r=o.isWindows(n))=>{return(e instanceof RegExp?e:a.makeRe(e,n)).test(s.basename(t))},a.isMatch=(t,e,n)=>a(e,n)(t),a.parse=(t,e)=>i(t,e),a.scan=(t,e)=>r(t,e),a.makeRe=(t,e,n=!1,s=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");let r,o=e||{},c=o.contains?"":"^",u=o.contains?"":"$",l={negated:!1,fastpaths:!0},h="";if(t.startsWith("./")&&(t=t.slice(2),h=l.prefix="./"),!1===o.fastpaths||"."!==t[0]&&"*"!==t[0]||(r=i.fastpaths(t,e)),void 0===r&&((l=a.parse(t,e)).prefix=h+(l.prefix||""),r=l.output),!0===n)return r;let f=`${c}(?:${r})${u}`;l&&!0===l.negated&&(f=`^(?!${f}).*$`);let p=a.toRegex(f,e);return!0===s&&(p.state=l),p},a.toRegex=(t,e)=>{try{let n=e||{};return new RegExp(t,n.flags||(n.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},a.constants=n(10),t.exports=a},function(t,e,n){"use strict";const s=n(9),{CHAR_ASTERISK:r,CHAR_AT:i,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:d,CHAR_QUESTION_MARK:_,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:m}=n(10);t.exports=(t,e)=>{let n,v,b=e||{},E=t.length-1,S=-1,A=0,x=0,w=!1,R=!1,C=!1,k=0,T=!1,O=()=>S>=E,L=()=>(n=v,t.charCodeAt(++S));for(;S<E;){let e;if((v=L())!==o){if(!0===T||v===h)for(k++;!O()&&(e=L());)if(e!==o)if(e!==h){if(!T&&e===c&&(e=L())===c){w=!0;break}if(!T&&e===a){w=!0;break}if(e===g&&0===--k){T=!1;break}}else k++;else R=!0,e=L();if(v!==l){if(v===r){w=!0;break}if(v===r||v===_){w=!0;break}if(v===p)for(;!O()&&(e=L());)if(e!==o){if(e===m){w=!0;break}}else R=!0,e=L();if((v===d||v===i||v===u)&&t.charCodeAt(S+1)===f){w=!0;break}if(v!==u||S!==A){if(v===f)for(;!O()&&(e=L());)if(e!==o){if(e===y){w=!0;break}}else R=!0,e=L();if(w)break}else C=!0,A++}else{if(n===c&&S===A+1){A+=2;continue}x=S+1}}else R=!0,(e=L())===h&&(T=!0)}let P="",M=t,D=t,N="";return A>0&&(P=t.slice(0,A),t=t.slice(A),x-=A),D&&!0===w&&x>0?(D=t.slice(0,x),N=t.slice(x)):!0===w?(D="",N=t):D=t,D&&""!==D&&"/"!==D&&D!==t&&(t=>t===l||t===o)(D.charCodeAt(D.length-1))&&(D=D.slice(0,-1)),!0===b.unescape&&(N&&(N=s.removeBackslashes(N)),D&&!0===R&&(D=s.removeBackslashes(D))),{prefix:P,input:M,base:D,glob:N,negated:C,isGlob:w}}},function(t,e,n){"use strict";const s=n(9),r=n(10),{MAX_LENGTH:i,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=r,l=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();let n=`[${t.join("-")}]`;try{new RegExp(n)}catch(e){return t.map(t=>s.escapeRegex(t)).join("..")}return n},h=t=>{let e=1;for(;"!"===t.peek()&&("("!==t.peek(2)||"?"===t.peek(3));)t.advance(),t.start++,e++;return e%2!=0&&(t.negated=!0,t.start++,!0)},f=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,p=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=u[t]||t;let n={...e},p="number"==typeof n.maxLength?Math.min(i,n.maxLength):i,d=t.length;if(d>p)throw new SyntaxError(`Input length: ${d}, exceeds maximum allowed length: ${p}`);let _={type:"bos",value:"",output:n.prepend||""},g=[_],y=n.capture?"":"?:",m=s.isWindows(e);const v=r.globChars(m),b=r.extglobChars(v),{DOT_LITERAL:E,PLUS_LITERAL:S,SLASH_LITERAL:A,ONE_CHAR:x,DOTS_SLASH:w,NO_DOT:R,NO_DOT_SLASH:C,NO_DOTS_SLASH:k,QMARK:T,QMARK_NO_DOT:O,STAR:L,START_ANCHOR:P}=v,M=t=>`(${y}(?:(?!${P}${t.dot?w:E}).)*?)`;let D=n.dot?"":R,N=!0===n.bash?M(n):L,$=n.dot?T:O;n.capture&&(N=`(${N})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);let H,I={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},B=[],F=[],j=_;const U=()=>I.index===d-1,G=I.peek=(e=1)=>t[I.index+e],W=I.advance=()=>t[++I.index],q=t=>{I.output+=null!=t.output?t.output:t.value,I.consumed+=t.value||""},K=t=>{I[t]++,F.push(t)},V=t=>{I[t]--,F.pop()},Y=t=>{if("globstar"===j.type){let e=I.braces>0&&("comma"===t.type||"brace"===t.type),n=B.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||n||(I.output=I.output.slice(0,-j.output.length),j.type="star",j.value="*",j.output=N,I.output+=j.output)}B.length&&"paren"!==t.type&&!b[t.value]&&(B[B.length-1].inner+=t.value),(t.value||t.output)&&q(t),j&&"text"===j.type&&"text"===t.type?j.value+=t.value:(t.prev=j,g.push(t),j=t)},Q=(t,e)=>{let s={...b[e],conditions:1,inner:""};s.prev=j,s.parens=I.parens,s.output=I.output;let r=(n.capture?"(":"")+s.open;Y({type:t,value:e,output:I.output?"":x}),Y({type:"paren",extglob:!0,value:W(),output:r}),K("parens"),B.push(s)},X=e=>{let s=e.close+(n.capture?")":"");if("negate"===e.type){let r=N;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(r=M(n)),(r!==N||U()||/^\)+$/.test(t.slice(I.index+1)))&&(s=e.close=")$))"+r),"bos"===e.prev.type&&U()&&(I.negatedExtglob=!0)}Y({type:"paren",extglob:!0,value:H,output:s}),V("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(t)){let e=!1,s=t.replace(c,(t,n,s,r,i,o)=>"\\"===r?(e=!0,t):"?"===r?n?n+r+(i?T.repeat(i.length):""):0===o?$+(i?T.repeat(i.length):""):T.repeat(s.length):"."===r?E.repeat(s.length):"*"===r?n?n+r+(i?N:""):N:n?t:"\\"+t);return!0===e&&(s=!0===n.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,t=>t.length%2==0?"\\\\":t?"\\":"")),I.output=s,I}for(;!U();){if("\0"===(H=W()))continue;if("\\"===H){let e=G();if("/"===e&&!0!==n.bash)continue;if("."===e||";"===e)continue;if(!e){Y({type:"text",value:H+="\\"});continue}let s=/^\\+/.exec(t.slice(I.index+1)),r=0;if(s&&s[0].length>2&&(r=s[0].length,I.index+=r,r%2!=0&&(H+="\\")),!0===n.unescape?H=W()||"":H+=W()||"",0===I.brackets){Y({type:"text",value:H});continue}}if(I.brackets>0&&("]"!==H||"["===j.value||"[^"===j.value)){if(!1!==n.posix&&":"===H){let t=j.value.slice(1);if(t.includes("[")&&(j.posix=!0,t.includes(":"))){let t=j.value.lastIndexOf("["),e=j.value.slice(0,t),n=j.value.slice(t+2),s=o[n];if(s){j.value=e+s,I.backtrack=!0,W(),_.output||1!==g.indexOf(j)||(_.output=x);continue}}}("["===H&&":"!==G()||"-"===H&&"]"===G())&&(H="\\"+H),"]"!==H||"["!==j.value&&"[^"!==j.value||(H="\\"+H),!0===n.posix&&"!"===H&&"["===j.value&&(H="^"),j.value+=H,q({value:H});continue}if(1===I.quotes&&'"'!==H){H=s.escapeRegex(H),j.value+=H,q({value:H});continue}if('"'===H){I.quotes=1===I.quotes?0:1,!0===n.keepQuotes&&Y({type:"text",value:H});continue}if("("===H){Y({type:"paren",value:H}),K("parens");continue}if(")"===H){if(0===I.parens&&!0===n.strictBrackets)throw new SyntaxError(f("opening","("));let t=B[B.length-1];if(t&&I.parens===t.parens+1){X(B.pop());continue}Y({type:"paren",value:H,output:I.parens?")":"\\)"}),V("parens");continue}if("["===H){if(!0!==n.nobracket&&t.slice(I.index+1).includes("]"))K("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(f("closing","]"));H="\\"+H}Y({type:"bracket",value:H});continue}if("]"===H){if(!0===n.nobracket||j&&"bracket"===j.type&&1===j.value.length){Y({type:"text",value:H,output:"\\"+H});continue}if(0===I.brackets){if(!0===n.strictBrackets)throw new SyntaxError(f("opening","["));Y({type:"text",value:H,output:"\\"+H});continue}V("brackets");let t=j.value.slice(1);if(!0===j.posix||"^"!==t[0]||t.includes("/")||(H="/"+H),j.value+=H,q({value:H}),!1===n.literalBrackets||s.hasRegexChars(t))continue;let e=s.escapeRegex(j.value);if(I.output=I.output.slice(0,-j.value.length),!0===n.literalBrackets){I.output+=e,j.value=e;continue}j.value=`(${y}${e}|${j.value})`,I.output+=j.value;continue}if("{"===H&&!0!==n.nobrace){Y({type:"brace",value:H,output:"("}),K("braces");continue}if("}"===H){if(!0===n.nobrace||0===I.braces){Y({type:"text",value:H,output:"\\"+H});continue}let t=")";if(!0===I.dots){let e=g.slice(),s=[];for(let t=e.length-1;t>=0&&(g.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&s.unshift(e[t].value);t=l(s,n),I.backtrack=!0}Y({type:"brace",value:H,output:t}),V("braces");continue}if("|"===H){B.length>0&&B[B.length-1].conditions++,Y({type:"text",value:H});continue}if(","===H){let t=H;I.braces>0&&"braces"===F[F.length-1]&&(t="|"),Y({type:"comma",value:H,output:t});continue}if("/"===H){if("dot"===j.type&&1===I.index){I.start=I.index+1,I.consumed="",I.output="",g.pop(),j=_;continue}Y({type:"slash",value:H,output:A});continue}if("."===H){if(I.braces>0&&"dot"===j.type){"."===j.value&&(j.output=E),j.type="dots",j.output+=H,j.value+=H,I.dots=!0;continue}Y({type:"dot",value:H,output:E});continue}if("?"===H){if(j&&"paren"===j.type){let t=G(),e=H;if("<"===t&&!s.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===j.value&&!/[!=<:]/.test(t)||"<"===t&&!/[!=]/.test(G(2)))&&(e="\\"+H),Y({type:"text",value:H,output:e});continue}if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Q("qmark",H);continue}if(!0!==n.dot&&("slash"===j.type||"bos"===j.type)){Y({type:"qmark",value:H,output:O});continue}Y({type:"qmark",value:H,output:T});continue}if("!"===H){if(!0!==n.noextglob&&"("===G()&&("?"!==G(2)||!/[!=<:]/.test(G(3)))){Q("negate",H);continue}if(!0!==n.nonegate&&0===I.index){h(I);continue}}if("+"===H){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Q("plus",H);continue}if(j&&("bracket"===j.type||"paren"===j.type||"brace"===j.type)){let t=!0===j.extglob?"\\"+H:H;Y({type:"plus",value:H,output:t});continue}if(I.parens>0&&!1!==n.regex){Y({type:"plus",value:H});continue}Y({type:"plus",value:S});continue}if("@"===H){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Y({type:"at",value:H,output:""});continue}Y({type:"text",value:H});continue}if("*"!==H){"$"!==H&&"^"!==H||(H="\\"+H);let e=a.exec(t.slice(I.index+1));e&&(H+=e[0],I.index+=e[0].length),Y({type:"text",value:H});continue}if(j&&("globstar"===j.type||!0===j.star)){j.type="star",j.star=!0,j.value+=H,j.output=N,I.backtrack=!0,I.consumed+=H;continue}if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Q("star",H);continue}if("star"===j.type){if(!0===n.noglobstar){I.consumed+=H;continue}let e=j.prev,s=e.prev,r="slash"===e.type||"bos"===e.type,i=s&&("star"===s.type||"globstar"===s.type);if(!0===n.bash&&(!r||!U()&&"/"!==G())){Y({type:"star",value:H,output:""});continue}let o=I.braces>0&&("comma"===e.type||"brace"===e.type),a=B.length&&("pipe"===e.type||"paren"===e.type);if(!r&&"paren"!==e.type&&!o&&!a){Y({type:"star",value:H,output:""});continue}for(;"/**"===t.slice(I.index+1,I.index+4);){let e=t[I.index+4];if(e&&"/"!==e)break;I.consumed+="/**",I.index+=3}if("bos"===e.type&&U()){j.type="globstar",j.value+=H,j.output=M(n),I.output=j.output,I.consumed+=H;continue}if("slash"===e.type&&"bos"!==e.prev.type&&!i&&U()){I.output=I.output.slice(0,-(e.output+j.output).length),e.output="(?:"+e.output,j.type="globstar",j.output=M(n)+"|$)",j.value+=H,I.output+=e.output+j.output,I.consumed+=H;continue}let c=G();if("slash"===e.type&&"bos"!==e.prev.type&&"/"===c){let t=void 0!==G(2)?"|$":"";I.output=I.output.slice(0,-(e.output+j.output).length),e.output="(?:"+e.output,j.type="globstar",j.output=`${M(n)}${A}|${A}${t})`,j.value+=H,I.output+=e.output+j.output,I.consumed+=H+W(),Y({type:"slash",value:H,output:""});continue}if("bos"===e.type&&"/"===c){j.type="globstar",j.value+=H,j.output=`(?:^|${A}|${M(n)}${A})`,I.output=j.output,I.consumed+=H+W(),Y({type:"slash",value:H,output:""});continue}I.output=I.output.slice(0,-j.output.length),j.type="globstar",j.output=M(n),j.value+=H,I.output+=j.output,I.consumed+=H;continue}let e={type:"star",value:H,output:N};!0!==n.bash?!j||"bracket"!==j.type&&"paren"!==j.type||!0!==n.regex?(I.index!==I.start&&"slash"!==j.type&&"dot"!==j.type||("dot"===j.type?(I.output+=C,j.output+=C):!0===n.dot?(I.output+=k,j.output+=k):(I.output+=D,j.output+=D),"*"!==G()&&(I.output+=x,j.output+=x)),Y(e)):(e.output=H,Y(e)):(e.output=".*?","bos"!==j.type&&"slash"!==j.type||(e.output=D+e.output),Y(e))}for(;I.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(f("closing","]"));I.output=s.escapeLast(I.output,"["),V("brackets")}for(;I.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(f("closing",")"));I.output=s.escapeLast(I.output,"("),V("parens")}for(;I.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(f("closing","}"));I.output=s.escapeLast(I.output,"{"),V("braces")}if(!0===n.strictSlashes||"star"!==j.type&&"bracket"!==j.type||Y({type:"maybe_slash",value:"",output:`${A}?`}),!0===I.backtrack){I.output="";for(let t of I.tokens)I.output+=null!=t.output?t.output:t.value,t.suffix&&(I.output+=t.suffix)}return I};p.fastpaths=(t,e)=>{let n={...e},o="number"==typeof n.maxLength?Math.min(i,n.maxLength):i,a=t.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);t=u[t]||t;let c=s.isWindows(e);const{DOT_LITERAL:l,SLASH_LITERAL:h,ONE_CHAR:f,DOTS_SLASH:p,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:y,START_ANCHOR:m}=r.globChars(c);let v=n.capture?"":"?:",b=!0===n.bash?".*?":y,E=n.dot?_:d,S=n.dot?g:d;n.capture&&(b=`(${b})`);const A=t=>`(${v}(?:(?!${m}${t.dot?p:l}).)*?)`,x=t=>{switch(t){case"*":return`${E}${f}${b}`;case".*":return`${l}${f}${b}`;case"*.*":return`${E}${b}${l}${f}${b}`;case"*/*":return`${E}${b}${h}${f}${S}${b}`;case"**":return E+A(n);case"**/*":return`(?:${E}${A(n)}${h})?${S}${f}${b}`;case"**/*.*":return`(?:${E}${A(n)}${h})?${S}${b}${l}${f}${b}`;case"**/.*":return`(?:${E}${A(n)}${h})?${l}${f}${b}`;default:{let n=/^(.*?)\.(\w+)$/.exec(t);if(!n)return;let s=x(n[1],e);if(!s)return;return s+l+n[2]}}};let w=x(t);return w&&!0!==n.strictSlashes&&(w+=`${h}?`),w},t.exports=p},function(t,e,n){"use strict";t.exports=n(66)},function(t,e,n){"use strict";const s=n(0),r=n(67),i=n(68),o=n(16),a=n(11),c=(t,e,n=!1)=>{if(Array.isArray(t)){const s=t.map(t=>c(t,e,n));return t=>{for(const e of s){const n=e(t);if(n)return n}return!1}}const s=(t=>t&&"object"==typeof t&&!Array.isArray(t))(t)&&t.tokens&&t.input;if(""===t||"string"!=typeof t&&!s)throw new TypeError("Expected pattern to be a non-empty string");const r=e||{},i=o.isWindows(e),a=s?c.compileRe(t,e):c.makeRe(t,e,!1,!0),u=a.state;delete a.state;let l=()=>!1;if(r.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};l=c(r.ignore,t,n)}const h=(n,s=!1)=>{const{isMatch:o,match:h,output:f}=c.test(n,a,e,{glob:t,posix:i}),p={glob:t,state:u,regex:a,posix:i,input:n,output:f,match:h,isMatch:o};return"function"==typeof r.onResult&&r.onResult(p),!1===o?(p.isMatch=!1,!!s&&p):l(n)?("function"==typeof r.onIgnore&&r.onIgnore(p),p.isMatch=!1,!!s&&p):("function"==typeof r.onMatch&&r.onMatch(p),!s||p)};return n&&(h.state=u),h};c.test=(t,e,n,{glob:s,posix:r}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const i=n||{},a=i.format||(r?o.toPosixSlashes:null);let u=t===s,l=u&&a?a(t):t;return!1===u&&(u=(l=a?a(t):t)===s),!1!==u&&!0!==i.capture||(u=!0===i.matchBase||!0===i.basename?c.matchBase(t,e,n,r):e.exec(l)),{isMatch:Boolean(u),match:u,output:l}},c.matchBase=(t,e,n,r=o.isWindows(n))=>{return(e instanceof RegExp?e:c.makeRe(e,n)).test(s.basename(t))},c.isMatch=(t,e,n)=>c(e,n)(t),c.parse=(t,e)=>Array.isArray(t)?t.map(t=>c.parse(t,e)):i(t,{...e,fastpaths:!1}),c.scan=(t,e)=>r(t,e),c.compileRe=(t,e,n=!1,s=!1)=>{if(!0===n)return t.output;const r=e||{},i=r.contains?"":"^",o=r.contains?"":"$";let a=`${i}(?:${t.output})${o}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const u=c.toRegex(a,e);return!0===s&&(u.state=t),u},c.makeRe=(t,e,n=!1,s=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");const r=e||{};let o,a={negated:!1,fastpaths:!0},u="";return t.startsWith("./")&&(t=t.slice(2),u=a.prefix="./"),!1===r.fastpaths||"."!==t[0]&&"*"!==t[0]||(o=i.fastpaths(t,e)),void 0===o?(a=i(t,e)).prefix=u+(a.prefix||""):a.output=o,c.compileRe(a,e,n,s)},c.toRegex=(t,e)=>{try{const n=e||{};return new RegExp(t,n.flags||(n.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},c.constants=a,t.exports=c},function(t,e,n){"use strict";const s=n(16),{CHAR_ASTERISK:r,CHAR_AT:i,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:d,CHAR_QUESTION_MARK:_,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:m}=n(11),v=t=>t===l||t===o,b=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};t.exports=(t,e)=>{const n=e||{},E=t.length-1,S=!0===n.parts||!0===n.scanToEnd,A=[],x=[],w=[];let R,C,k=t,T=-1,O=0,L=0,P=!1,M=!1,D=!1,N=!1,$=!1,H=!1,I=!1,B=!1,F=!1,j=0,U={value:"",depth:0,isGlob:!1};const G=()=>T>=E,W=()=>k.charCodeAt(T+1),q=()=>(R=C,k.charCodeAt(++T));for(;T<E;){let t;if((C=q())!==o){if(!0===H||C===h){for(j++;!0!==G()&&(C=q());)if(C!==o)if(C!==h){if(!0!==H&&C===c&&(C=q())===c){if(P=U.isBrace=!0,D=U.isGlob=!0,F=!0,!0===S)continue;break}if(!0!==H&&C===a){if(P=U.isBrace=!0,D=U.isGlob=!0,F=!0,!0===S)continue;break}if(C===g&&0===--j){H=!1,P=U.isBrace=!0,F=!0;break}}else j++;else I=U.backslashes=!0,q();if(!0===S)continue;break}if(C!==l){if(!0!==n.noext){if(!0===(C===d||C===i||C===r||C===_||C===u)&&W()===f){if(D=U.isGlob=!0,N=U.isExtglob=!0,F=!0,!0===S){for(;!0!==G()&&(C=q());)if(C!==o){if(C===y){D=U.isGlob=!0,F=!0;break}}else I=U.backslashes=!0,C=q();continue}break}}if(C===r){if(R===r&&($=U.isGlobstar=!0),D=U.isGlob=!0,F=!0,!0===S)continue;break}if(C===_){if(D=U.isGlob=!0,F=!0,!0===S)continue;break}if(C===p)for(;!0!==G()&&(t=q());)if(t!==o){if(t===m){if(M=U.isBracket=!0,D=U.isGlob=!0,F=!0,!0===S)continue;break}}else I=U.backslashes=!0,q();if(!0===n.nonegate||C!==u||T!==O){if(!0!==n.noparen&&C===f){if(D=U.isGlob=!0,!0===S){for(;!0!==G()&&(C=q());)if(C!==f){if(C===y){F=!0;break}}else I=U.backslashes=!0,C=q();continue}break}if(!0===D){if(F=!0,!0===S)continue;break}}else B=U.negated=!0,O++}else{if(A.push(T),x.push(U),U={value:"",depth:0,isGlob:!1},!0===F)continue;if(R===c&&T===O+1){O+=2;continue}L=T+1}}else I=U.backslashes=!0,(C=q())===h&&(H=!0)}!0===n.noext&&(N=!1,D=!1);let K=k,V="",Y="";O>0&&(V=k.slice(0,O),k=k.slice(O),L-=O),K&&!0===D&&L>0?(K=k.slice(0,L),Y=k.slice(L)):!0===D?(K="",Y=k):K=k,K&&""!==K&&"/"!==K&&K!==k&&v(K.charCodeAt(K.length-1))&&(K=K.slice(0,-1)),!0===n.unescape&&(Y&&(Y=s.removeBackslashes(Y)),K&&!0===I&&(K=s.removeBackslashes(K)));const Q={prefix:V,input:t,start:O,base:K,glob:Y,isBrace:P,isBracket:M,isGlob:D,isExtglob:N,isGlobstar:$,negated:B};if(!0===n.tokens&&(Q.maxDepth=0,v(C)||x.push(U),Q.tokens=x),!0===n.parts||!0===n.tokens){let e;for(let s=0;s<A.length;s++){const r=e?e+1:O,i=A[s],o=t.slice(r,i);n.tokens&&(0===s&&0!==O?(x[s].isPrefix=!0,x[s].value=V):x[s].value=o,b(x[s]),Q.maxDepth+=x[s].depth),0===s&&""===o||w.push(o),e=i}if(e&&e+1<t.length){const s=t.slice(e+1);w.push(s),n.tokens&&(x[x.length-1].value=s,b(x[x.length-1]),Q.maxDepth+=x[x.length-1].depth)}Q.slashes=A,Q.parts=w}return Q}},function(t,e,n){"use strict";const s=n(11),r=n(16),{MAX_LENGTH:i,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=s,l=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const n=`[${t.join("-")}]`;try{new RegExp(n)}catch(e){return t.map(t=>r.escapeRegex(t)).join("..")}return n},h=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,f=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=u[t]||t;const n={...e},f="number"==typeof n.maxLength?Math.min(i,n.maxLength):i;let p=t.length;if(p>f)throw new SyntaxError(`Input length: ${p}, exceeds maximum allowed length: ${f}`);const d={type:"bos",value:"",output:n.prepend||""},_=[d],g=n.capture?"":"?:",y=r.isWindows(e),m=s.globChars(y),v=s.extglobChars(m),{DOT_LITERAL:b,PLUS_LITERAL:E,SLASH_LITERAL:S,ONE_CHAR:A,DOTS_SLASH:x,NO_DOT:w,NO_DOT_SLASH:R,NO_DOTS_SLASH:C,QMARK:k,QMARK_NO_DOT:T,STAR:O,START_ANCHOR:L}=m,P=t=>`(${g}(?:(?!${L}${t.dot?x:b}).)*?)`,M=n.dot?"":w,D=n.dot?k:T;let N=!0===n.bash?P(n):O;n.capture&&(N=`(${N})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const $={input:t,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:_};t=r.removePrefix(t,$),p=t.length;const H=[],I=[],B=[];let F,j=d;const U=()=>$.index===p-1,G=$.peek=(e=1)=>t[$.index+e],W=$.advance=()=>t[++$.index],q=()=>t.slice($.index+1),K=(t="",e=0)=>{$.consumed+=t,$.index+=e},V=t=>{$.output+=null!=t.output?t.output:t.value,K(t.value)},Y=()=>{let t=1;for(;"!"===G()&&("("!==G(2)||"?"===G(3));)W(),$.start++,t++;return t%2!=0&&($.negated=!0,$.start++,!0)},Q=t=>{$[t]++,B.push(t)},X=t=>{$[t]--,B.pop()},z=t=>{if("globstar"===j.type){const e=$.braces>0&&("comma"===t.type||"brace"===t.type),n=!0===t.extglob||H.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||n||($.output=$.output.slice(0,-j.output.length),j.type="star",j.value="*",j.output=N,$.output+=j.output)}if(H.length&&"paren"!==t.type&&!v[t.value]&&(H[H.length-1].inner+=t.value),(t.value||t.output)&&V(t),j&&"text"===j.type&&"text"===t.type)return j.value+=t.value,void(j.output=(j.output||"")+t.value);t.prev=j,_.push(t),j=t},Z=(t,e)=>{const s={...v[e],conditions:1,inner:""};s.prev=j,s.parens=$.parens,s.output=$.output;const r=(n.capture?"(":"")+s.open;Q("parens"),z({type:t,value:e,output:$.output?"":A}),z({type:"paren",extglob:!0,value:W(),output:r}),H.push(s)},J=t=>{let e=t.close+(n.capture?")":"");if("negate"===t.type){let s=N;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(s=P(n)),(s!==N||U()||/^\)+$/.test(q()))&&(e=t.close=`)$))${s}`),"bos"===t.prev.type&&U()&&($.negatedExtglob=!0)}z({type:"paren",extglob:!0,value:F,output:e}),X("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let s=!1,i=t.replace(c,(t,e,n,r,i,o)=>"\\"===r?(s=!0,t):"?"===r?e?e+r+(i?k.repeat(i.length):""):0===o?D+(i?k.repeat(i.length):""):k.repeat(n.length):"."===r?b.repeat(n.length):"*"===r?e?e+r+(i?N:""):N:e?t:`\\${t}`);return!0===s&&(i=!0===n.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,t=>t.length%2==0?"\\\\":t?"\\":"")),i===t&&!0===n.contains?($.output=t,$):($.output=r.wrapOutput(i,$,e),$)}for(;!U();){if("\0"===(F=W()))continue;if("\\"===F){const t=G();if("/"===t&&!0!==n.bash)continue;if("."===t||";"===t)continue;if(!t){z({type:"text",value:F+="\\"});continue}const e=/^\\+/.exec(q());let s=0;if(e&&e[0].length>2&&(s=e[0].length,$.index+=s,s%2!=0&&(F+="\\")),!0===n.unescape?F=W()||"":F+=W()||"",0===$.brackets){z({type:"text",value:F});continue}}if($.brackets>0&&("]"!==F||"["===j.value||"[^"===j.value)){if(!1!==n.posix&&":"===F){const t=j.value.slice(1);if(t.includes("[")&&(j.posix=!0,t.includes(":"))){const t=j.value.lastIndexOf("["),e=j.value.slice(0,t),n=j.value.slice(t+2),s=o[n];if(s){j.value=e+s,$.backtrack=!0,W(),d.output||1!==_.indexOf(j)||(d.output=A);continue}}}("["===F&&":"!==G()||"-"===F&&"]"===G())&&(F=`\\${F}`),"]"!==F||"["!==j.value&&"[^"!==j.value||(F=`\\${F}`),!0===n.posix&&"!"===F&&"["===j.value&&(F="^"),j.value+=F,V({value:F});continue}if(1===$.quotes&&'"'!==F){F=r.escapeRegex(F),j.value+=F,V({value:F});continue}if('"'===F){$.quotes=1===$.quotes?0:1,!0===n.keepQuotes&&z({type:"text",value:F});continue}if("("===F){Q("parens"),z({type:"paren",value:F});continue}if(")"===F){if(0===$.parens&&!0===n.strictBrackets)throw new SyntaxError(h("opening","("));const t=H[H.length-1];if(t&&$.parens===t.parens+1){J(H.pop());continue}z({type:"paren",value:F,output:$.parens?")":"\\)"}),X("parens");continue}if("["===F){if(!0!==n.nobracket&&q().includes("]"))Q("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(h("closing","]"));F=`\\${F}`}z({type:"bracket",value:F});continue}if("]"===F){if(!0===n.nobracket||j&&"bracket"===j.type&&1===j.value.length){z({type:"text",value:F,output:`\\${F}`});continue}if(0===$.brackets){if(!0===n.strictBrackets)throw new SyntaxError(h("opening","["));z({type:"text",value:F,output:`\\${F}`});continue}X("brackets");const t=j.value.slice(1);if(!0===j.posix||"^"!==t[0]||t.includes("/")||(F=`/${F}`),j.value+=F,V({value:F}),!1===n.literalBrackets||r.hasRegexChars(t))continue;const e=r.escapeRegex(j.value);if($.output=$.output.slice(0,-j.value.length),!0===n.literalBrackets){$.output+=e,j.value=e;continue}j.value=`(${g}${e}|${j.value})`,$.output+=j.value;continue}if("{"===F&&!0!==n.nobrace){Q("braces");const t={type:"brace",value:F,output:"(",outputIndex:$.output.length,tokensIndex:$.tokens.length};I.push(t),z(t);continue}if("}"===F){const t=I[I.length-1];if(!0===n.nobrace||!t){z({type:"text",value:F,output:F});continue}let e=")";if(!0===t.dots){const t=_.slice(),s=[];for(let e=t.length-1;e>=0&&(_.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&s.unshift(t[e].value);e=l(s,n),$.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const n=$.output.slice(0,t.outputIndex),s=$.tokens.slice(t.tokensIndex);t.value=t.output="\\{",F=e="\\}",$.output=n;for(const t of s)$.output+=t.output||t.value}z({type:"brace",value:F,output:e}),X("braces"),I.pop();continue}if("|"===F){H.length>0&&H[H.length-1].conditions++,z({type:"text",value:F});continue}if(","===F){let t=F;const e=I[I.length-1];e&&"braces"===B[B.length-1]&&(e.comma=!0,t="|"),z({type:"comma",value:F,output:t});continue}if("/"===F){if("dot"===j.type&&$.index===$.start+1){$.start=$.index+1,$.consumed="",$.output="",_.pop(),j=d;continue}z({type:"slash",value:F,output:S});continue}if("."===F){if($.braces>0&&"dot"===j.type){"."===j.value&&(j.output=b);const t=I[I.length-1];j.type="dots",j.output+=F,j.value+=F,t.dots=!0;continue}if($.braces+$.parens===0&&"bos"!==j.type&&"slash"!==j.type){z({type:"text",value:F,output:b});continue}z({type:"dot",value:F,output:b});continue}if("?"===F){if(!(j&&"("===j.value)&&!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Z("qmark",F);continue}if(j&&"paren"===j.type){const t=G();let e=F;if("<"===t&&!r.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===j.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(q()))&&(e=`\\${F}`),z({type:"text",value:F,output:e});continue}if(!0!==n.dot&&("slash"===j.type||"bos"===j.type)){z({type:"qmark",value:F,output:T});continue}z({type:"qmark",value:F,output:k});continue}if("!"===F){if(!0!==n.noextglob&&"("===G()&&("?"!==G(2)||!/[!=<:]/.test(G(3)))){Z("negate",F);continue}if(!0!==n.nonegate&&0===$.index){Y();continue}}if("+"===F){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Z("plus",F);continue}if(j&&"("===j.value||!1===n.regex){z({type:"plus",value:F,output:E});continue}if(j&&("bracket"===j.type||"paren"===j.type||"brace"===j.type)||$.parens>0){z({type:"plus",value:F});continue}z({type:"plus",value:E});continue}if("@"===F){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){z({type:"at",extglob:!0,value:F,output:""});continue}z({type:"text",value:F});continue}if("*"!==F){"$"!==F&&"^"!==F||(F=`\\${F}`);const t=a.exec(q());t&&(F+=t[0],$.index+=t[0].length),z({type:"text",value:F});continue}if(j&&("globstar"===j.type||!0===j.star)){j.type="star",j.star=!0,j.value+=F,j.output=N,$.backtrack=!0,$.globstar=!0,K(F);continue}let e=q();if(!0!==n.noextglob&&/^\([^?]/.test(e)){Z("star",F);continue}if("star"===j.type){if(!0===n.noglobstar){K(F);continue}const s=j.prev,r=s.prev,i="slash"===s.type||"bos"===s.type,o=r&&("star"===r.type||"globstar"===r.type);if(!0===n.bash&&(!i||e[0]&&"/"!==e[0])){z({type:"star",value:F,output:""});continue}const a=$.braces>0&&("comma"===s.type||"brace"===s.type),c=H.length&&("pipe"===s.type||"paren"===s.type);if(!i&&"paren"!==s.type&&!a&&!c){z({type:"star",value:F,output:""});continue}for(;"/**"===e.slice(0,3);){const n=t[$.index+4];if(n&&"/"!==n)break;e=e.slice(3),K("/**",3)}if("bos"===s.type&&U()){j.type="globstar",j.value+=F,j.output=P(n),$.output=j.output,$.globstar=!0,K(F);continue}if("slash"===s.type&&"bos"!==s.prev.type&&!o&&U()){$.output=$.output.slice(0,-(s.output+j.output).length),s.output=`(?:${s.output}`,j.type="globstar",j.output=P(n)+(n.strictSlashes?")":"|$)"),j.value+=F,$.globstar=!0,$.output+=s.output+j.output,K(F);continue}if("slash"===s.type&&"bos"!==s.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";$.output=$.output.slice(0,-(s.output+j.output).length),s.output=`(?:${s.output}`,j.type="globstar",j.output=`${P(n)}${S}|${S}${t})`,j.value+=F,$.output+=s.output+j.output,$.globstar=!0,K(F+W()),z({type:"slash",value:"/",output:""});continue}if("bos"===s.type&&"/"===e[0]){j.type="globstar",j.value+=F,j.output=`(?:^|${S}|${P(n)}${S})`,$.output=j.output,$.globstar=!0,K(F+W()),z({type:"slash",value:"/",output:""});continue}$.output=$.output.slice(0,-j.output.length),j.type="globstar",j.output=P(n),j.value+=F,$.output+=j.output,$.globstar=!0,K(F);continue}const s={type:"star",value:F,output:N};!0!==n.bash?!j||"bracket"!==j.type&&"paren"!==j.type||!0!==n.regex?($.index!==$.start&&"slash"!==j.type&&"dot"!==j.type||("dot"===j.type?($.output+=R,j.output+=R):!0===n.dot?($.output+=C,j.output+=C):($.output+=M,j.output+=M),"*"!==G()&&($.output+=A,j.output+=A)),z(s)):(s.output=F,z(s)):(s.output=".*?","bos"!==j.type&&"slash"!==j.type||(s.output=M+s.output),z(s))}for(;$.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing","]"));$.output=r.escapeLast($.output,"["),X("brackets")}for(;$.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing",")"));$.output=r.escapeLast($.output,"("),X("parens")}for(;$.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing","}"));$.output=r.escapeLast($.output,"{"),X("braces")}if(!0===n.strictSlashes||"star"!==j.type&&"bracket"!==j.type||z({type:"maybe_slash",value:"",output:`${S}?`}),!0===$.backtrack){$.output="";for(const t of $.tokens)$.output+=null!=t.output?t.output:t.value,t.suffix&&($.output+=t.suffix)}return $};f.fastpaths=(t,e)=>{const n={...e},o="number"==typeof n.maxLength?Math.min(i,n.maxLength):i,a=t.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);t=u[t]||t;const c=r.isWindows(e),{DOT_LITERAL:l,SLASH_LITERAL:h,ONE_CHAR:f,DOTS_SLASH:p,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:y,START_ANCHOR:m}=s.globChars(c),v=n.dot?_:d,b=n.dot?g:d,E=n.capture?"":"?:";let S=!0===n.bash?".*?":y;n.capture&&(S=`(${S})`);const A=t=>!0===t.noglobstar?S:`(${E}(?:(?!${m}${t.dot?p:l}).)*?)`,x=t=>{switch(t){case"*":return`${v}${f}${S}`;case".*":return`${l}${f}${S}`;case"*.*":return`${v}${S}${l}${f}${S}`;case"*/*":return`${v}${S}${h}${f}${b}${S}`;case"**":return v+A(n);case"**/*":return`(?:${v}${A(n)}${h})?${b}${f}${S}`;case"**/*.*":return`(?:${v}${A(n)}${h})?${b}${S}${l}${f}${S}`;case"**/.*":return`(?:${v}${A(n)}${h})?${l}${f}${S}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const n=x(e[1]);if(!n)return;return n+l+e[2]}}},w=r.removePrefix(t,{negated:!1,prefix:""});let R=x(w);return R&&!0!==n.strictSlashes&&(R+=`${h}?`),R},t.exports=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(21);function r(t){t.forEach(t=>t.emit("close"))}e.merge=function(t){const e=s(t);return t.forEach(t=>{t.once("error",t=>e.emit("error",t))}),e.once("close",()=>r(t)),e.once("end",()=>r(t)),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=function(t){return"string"==typeof t},e.isEmpty=function(t){return""===t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(24),r=n(20);e.default=class extends r.default{constructor(){super(...arguments),this._reader=new s.default(this._settings)}read(t){const e=this._getRootDirectory(t),n=this._getReaderOptions(t),s=[];return new Promise((r,i)=>{const o=this.api(e,t,n);o.once("error",i),o.on("data",t=>s.push(n.transform(t))),o.once("end",()=>r(s))})}api(t,e,n){return e.dynamic?this._reader.dynamic(t,n):this._reader.static(e.patterns,n)}}},function(t,e,n){"use strict";function s(t,e){t(e)}function r(t,e){t(null,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.read=function(t,e,n){e.fs.lstat(t,(i,o)=>null!==i?s(n,i):o.isSymbolicLink()&&e.followSymbolicLink?void e.fs.stat(t,(t,i)=>{if(null!==t)return e.throwErrorOnBrokenSymbolicLink?s(n,t):r(n,o);e.markSymbolicLink&&(i.isSymbolicLink=()=>!0),r(n,i)}):r(n,o))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.read=function(t,e){const n=e.fs.lstatSync(t);if(!n.isSymbolicLink()||!e.followSymbolicLink)return n;try{const s=e.fs.statSync(t);return e.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return n;throw t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(75);e.default=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=s.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return void 0===t?e:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(1);e.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(26);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new s.default(this._root,this._settings),this._storage=new Set}read(t){this._reader.onError(e=>{!function(t,e){t(e)}(t,e)}),this._reader.onEntry(t=>{this._storage.add(t)}),this._reader.onEnd(()=>{!function(t,e){t(null,e)}(t,[...this._storage])}),this._reader.read()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5),r=n(78),i=n(27),o=n(28);function a(t,e,n){e.fs.readdir(t,{withFileTypes:!0},(s,i)=>{if(null!==s)return u(n,s);const a=i.map(n=>({dirent:n,name:n.name,path:`${t}${e.pathSegmentSeparator}${n.name}`}));if(!e.followSymbolicLinks)return l(n,a);const c=a.map(t=>(function(t,e){return n=>{if(!t.dirent.isSymbolicLink())return n(null,t);e.fs.stat(t.path,(s,r)=>null!==s?e.throwErrorOnBrokenSymbolicLink?n(s):n(null,t):(t.dirent=o.fs.createDirentFromStats(t.name,r),n(null,t)))}})(t,e));r(c,(t,e)=>{if(null!==t)return u(n,t);l(n,e)})})}function c(t,e,n){e.fs.readdir(t,(i,a)=>{if(null!==i)return u(n,i);const c=a.map(n=>`${t}${e.pathSegmentSeparator}${n}`),h=c.map(t=>n=>s.stat(t,e.fsStatSettings,n));r(h,(t,s)=>{if(null!==t)return u(n,t);const r=[];a.forEach((t,n)=>{const i=s[n],a={name:t,path:c[n],dirent:o.fs.createDirentFromStats(t,i)};e.stats&&(a.stats=i),r.push(a)}),l(n,r)})})}function u(t,e){t(e)}function l(t,e){t(null,e)}e.read=function(t,e,n){return!e.stats&&i.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(t,e,n):c(t,e,n)},e.readdirWithFileTypes=a,e.readdir=c},function(t,e){t.exports=function(t,e){var n,s,r,i=!0;Array.isArray(t)?(n=[],s=t.length):(r=Object.keys(t),n={},s=r.length);function o(t){function s(){e&&e(t,n),e=null}i?process.nextTick(s):s()}function a(t,e,r){n[t]=r,(0==--s||e)&&o(e)}s?r?r.forEach(function(e){t[e](function(t,n){a(e,t,n)})}):t.forEach(function(t,e){t(function(t,n){a(e,t,n)})}):o(null);i=!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}e.createDirentFromStats=function(t,e){return new s(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5),r=n(27),i=n(28);function o(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{const s={dirent:n,name:n.name,path:`${t}${e.pathSegmentSeparator}${n.name}`};if(s.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const t=e.fs.statSync(s.path);s.dirent=i.fs.createDirentFromStats(s.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return s})}function a(t,e){return e.fs.readdirSync(t).map(n=>{const r=`${t}${e.pathSegmentSeparator}${n}`,o=s.statSync(r,e.fsStatSettings),a={name:n,path:r,dirent:i.fs.createDirentFromStats(n,o)};return e.stats&&(a.stats=o),a})}e.read=function(t,e){return!e.stats&&r.IS_SUPPORT_READDIR_WITH_FILE_TYPES?o(t,e):a(t,e)},e.readdirWithFileTypes=o,e.readdir=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),r=n(5),i=n(82);e.default=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=i.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,s.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new r.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return void 0===t?e:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(1);e.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},function(t,e,n){"use strict";var s=n(84);function r(){}function i(){this.value=null,this.callback=r,this.next=null,this.release=r,this.context=null;var t=this;this.worked=function(e,n){var s=t.callback;t.value=null,t.callback=r,s.call(t.context,e,n),t.release(t)}}t.exports=function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null);var o=s(i),a=null,c=null,u=0,l={push:function(n,s){var i=o.get();i.context=t,i.release=h,i.value=n,i.callback=s||r,u===l.concurrency||l.paused?c?(c.next=i,c=i):(a=i,c=i,l.saturated()):(u++,e.call(t,i.value,i.worked))},drain:r,saturated:r,pause:function(){l.paused=!0},paused:!1,concurrency:n,running:function(){return u},resume:function(){if(!l.paused)return;l.paused=!1;for(var t=0;t<l.concurrency;t++)u++,h()},idle:function(){return 0===u&&0===l.length()},length:function(){var t=a,e=0;for(;t;)t=t.next,e++;return e},getQueue:function(){var t=a,e=[];for(;t;)e.push(t.value),t=t.next;return e},unshift:function(n,s){var i=o.get();i.context=t,i.release=h,i.value=n,i.callback=s||r,u===l.concurrency||l.paused?a?(i.next=a,a=i):(a=i,c=i,l.saturated()):(u++,e.call(t,i.value,i.worked))},empty:r,kill:function(){a=null,c=null,l.drain=r},killAndDrain:function(){a=null,c=null,l.drain(),l.drain=r}};return l;function h(n){n&&o.release(n);var s=a;s?l.paused?u--:(c===a&&(c=null),a=s.next,s.next=null,e.call(t,s.value,s.worked),null===c&&l.empty()):0==--u&&l.drain()}}},function(t,e,n){"use strict";t.exports=function(t){var e=new t,n=e;return{get:function(){var s=e;return s.next?e=s.next:(e=new t,n=e),s.next=null,s},release:function(t){n.next=t,n=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(4),r=n(26);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new r.default(this._root,this._settings),this._stream=new s.Readable({objectMode:!0,read:()=>{},destroy:this._reader.destroy.bind(this._reader)})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(87);e.default=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new s.default(this._root,this._settings)}read(){return this._reader.read()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(18),r=n(19),i=n(29);e.default=class extends i.default{constructor(){super(...arguments),this._scandir=s.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const n=this._scandir(t,this._settings.fsScandirSettings);for(const t of n)this._handleEntry(t,e)}catch(t){this._handleError(t)}}_handleError(t){if(r.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const n=t.path;void 0!==e&&(t.path=r.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),r.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&r.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,t.path)}_pushToStorage(t){this._storage.add(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(0),r=n(18);e.default=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,s.sep),this.fsScandirSettings=new r.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return void 0===t?e:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(3),r=n(90);e.default=class{constructor(t,e){this._settings=t,this._micromatchOptions=e}getFilter(t,e,n){const s=this._getMatcher(e),r=this._getNegativePatternsRe(n);return e=>this._filter(t,e,s,r)}_getMatcher(t){return new r.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){const e=t.filter(s.pattern.isAffectDepthOfReadingPattern);return s.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,n,r){const i=this._getEntryLevel(t,e.path);if(this._isSkippedByDeep(i))return!1;if(this._isSkippedSymbolicLink(e))return!1;const o=s.path.removeLeadingDotSegment(e.path);return!this._isSkippedByPositivePatterns(o,n)&&this._isSkippedByNegativePatterns(o,r)}_isSkippedByDeep(t){return t>=this._settings.deep}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_getEntryLevel(t,e){const n=t.split("/").length;return e.split("/").length-(""===t?0:n)}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!s.pattern.matchAny(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(91);e.default=class extends s.default{match(t){const e=t.split("/"),n=e.length,s=this._storage.filter(t=>!t.complete||t.segments.length>n);for(const t of s){const s=t.sections[0];if(!t.complete&&n>s.length)return!0;if(e.every((e,n)=>{const s=t.segments[n];return!(!s.dynamic||!s.patternRe.test(e))||!s.dynamic&&s.pattern===e}))return!0}return!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(3);e.default=class{constructor(t,e,n){this._patterns=t,this._settings=e,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){const t=s.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const e of t){const t=this._getPatternSegments(e),n=this._splitSegmentsIntoSections(t);this._storage.push({complete:n.length<=1,pattern:e,segments:t,sections:n})}}_getPatternSegments(t){return s.pattern.getPatternParts(t,this._micromatchOptions).map(t=>{return s.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:s.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t}})}_splitSegmentsIntoSections(t){return s.array.splitWhen(t,t=>t.dynamic&&s.pattern.hasGlobStar(t.pattern))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(3);e.default=class{constructor(t,e){this._settings=t,this._micromatchOptions=e,this.index=new Map}getFilter(t,e){const n=s.pattern.convertPatternsToRe(t,this._micromatchOptions),r=s.pattern.convertPatternsToRe(e,this._micromatchOptions);return t=>this._filter(t,n,r)}_filter(t,e,n){if(this._settings.unique){if(this._isDuplicateEntry(t))return!1;this._createIndexRecord(t)}if(this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;if(this._isSkippedByAbsoluteNegativePatterns(t,n))return!1;const s=this._settings.baseNameMatch?t.name:t.path;return this._isMatchToPatterns(s,e)&&!this._isMatchToPatterns(t.path,n)}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return!1;const n=s.path.makeAbsolute(this._settings.cwd,t.path);return this._isMatchToPatterns(n,e)}_isMatchToPatterns(t,e){const n=s.path.removeLeadingDotSegment(t);return s.pattern.matchAny(n,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(3);e.default=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return s.errno.isEnoentCodeError(t)||this._settings.suppressErrors}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(3);e.default=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;return this._settings.absolute&&(e=s.path.makeAbsolute(this._settings.cwd,e),e=s.path.unixify(e)),this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(4),r=n(24),i=n(20);e.default=class extends i.default{constructor(){super(...arguments),this._reader=new r.default(this._settings)}read(t){const e=this._getRootDirectory(t),n=this._getReaderOptions(t),r=this.api(e,t,n),i=new s.Readable({objectMode:!0,read:()=>{}});return r.once("error",t=>i.emit("error",t)).on("data",t=>i.emit("data",n.transform(t))).once("end",()=>i.emit("end")),i.once("close",()=>r.destroy()),i}api(t,e,n){return e.dynamic?this._reader.dynamic(t,n):this._reader.static(e.patterns,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(97),r=n(20);e.default=class extends r.default{constructor(){super(...arguments),this._reader=new s.default(this._settings)}read(t){const e=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(e,t,n).map(n.transform)}api(t,e,n){return e.dynamic?this._reader.dynamic(t,n):this._reader.static(e.patterns,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5),r=n(25),i=n(30);e.default=class extends i.default{constructor(){super(...arguments),this._walkSync=r.walkSync,this._statSync=s.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const n=[];for(const s of t){const t=this._getFullEntryPath(s),r=this._getEntry(t,s,e);null!==r&&e.entryFilter(r)&&n.push(r)}return n}_getEntry(t,e,n){try{const s=this._getStat(t);return this._makeEntry(s,e)}catch(t){if(n.errorFilter(t))return null;throw t}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(1),r=n(7).cpus().length;e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:s.lstat,lstatSync:s.lstatSync,stat:s.stat,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync};e.default=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,r),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,e){return void 0===t?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}},function(t,e,n){"use strict";const s=n(0),r=n(100),i=t=>t.length>1?`{${t.join(",")}}`:t[0],o=(t,e)=>{const n="!"===t[0]?t.slice(1):t;return s.isAbsolute(n)?n:s.join(e,n)},a=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(n=>s.posix.join(t,((t,e)=>s.extname(t)?`**/${t}`:`**/${t}.${i(e)}`)(n,e.extensions))):e.files?e.files.map(e=>s.posix.join(t,`**/${e}`)):e.extensions?[s.posix.join(t,`**/*.${i(e.extensions)}`)]:[s.posix.join(t,"**")]};t.exports=async(t,e)=>{if("string"!=typeof(e={cwd:process.cwd(),...e}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);const n=await Promise.all([].concat(t).map(async t=>{return await r.isDirectory(o(t,e.cwd))?a(t,e):t}));return[].concat.apply([],n)},t.exports.sync=(t,e)=>{if("string"!=typeof(e={cwd:process.cwd(),...e}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);const n=[].concat(t).map(t=>r.isDirectorySync(o(t,e.cwd))?a(t,e):t);return[].concat.apply([],n)}},function(t,e,n){"use strict";const{promisify:s}=n(8),r=n(1);async function i(t,e,n){if("string"!=typeof n)throw new TypeError(`Expected a string, got ${typeof n}`);try{return(await s(r[t])(n))[e]()}catch(t){if("ENOENT"===t.code)return!1;throw t}}function o(t,e,n){if("string"!=typeof n)throw new TypeError(`Expected a string, got ${typeof n}`);try{return r[t](n)[e]()}catch(t){if("ENOENT"===t.code)return!1;throw t}}e.isFile=i.bind(null,"stat","isFile"),e.isDirectory=i.bind(null,"stat","isDirectory"),e.isSymlink=i.bind(null,"lstat","isSymbolicLink"),e.isFileSync=o.bind(null,"statSync","isFile"),e.isDirectorySync=o.bind(null,"statSync","isDirectory"),e.isSymlinkSync=o.bind(null,"lstatSync","isSymbolicLink")},function(t,e,n){"use strict";const{promisify:s}=n(8),r=n(1),i=n(0),o=n(22),a=n(102),c=n(103),u=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],l=s(r.readFile),h=(t,e)=>{const n=c(i.relative(e.cwd,i.dirname(e.fileName)));return t.split(/\r?\n/).filter(Boolean).filter(t=>!t.startsWith("#")).map((t=>e=>e.startsWith("!")?"!"+i.posix.join(t,e.slice(1)):i.posix.join(t,e))(n))},f=t=>t.reduce((t,e)=>(t.add(h(e.content,{cwd:e.cwd,fileName:e.filePath})),t),a()),p=(t,e)=>n=>t.ignores(c(i.relative(e,((t,e)=>{if(i.isAbsolute(e)){if(e.startsWith(t))return e;throw new Error(`Path ${e} is not in cwd ${t}`)}return i.join(t,e)})(e,n)))),d=({ignore:t=[],cwd:e=c(process.cwd())}={})=>({ignore:t,cwd:e});t.exports=async t=>{t=d(t);const e=await o("**/.gitignore",{ignore:u.concat(t.ignore),cwd:t.cwd}),n=await Promise.all(e.map(e=>(async(t,e)=>{const n=i.join(e,t);return{cwd:e,filePath:n,content:await l(n,"utf8")}})(e,t.cwd))),s=f(n);return p(s,t.cwd)},t.exports.sync=t=>{t=d(t);const e=o.sync("**/.gitignore",{ignore:u.concat(t.ignore),cwd:t.cwd}).map(e=>((t,e)=>{const n=i.join(e,t);return{cwd:e,filePath:n,content:r.readFileSync(n,"utf8")}})(e,t.cwd)),n=f(e);return p(n,t.cwd)}},function(t,e){function n(t){return Array.isArray(t)?t:[t]}const s=/^\s+$/,r=/^\\!/,i=/^\\#/,o=/\r?\n/g,a=/^\.*\/|^\.+$/,c="/",u="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",l=(t,e,n)=>Object.defineProperty(t,e,{value:n}),h=/([0-z])-([0-z])/g,f=[[/\\?\s+$/,t=>0===t.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\^$.|*+(){]/g,t=>`\\${t}`],[/\[([^\]/]*)($|\])/g,(t,e,n)=>"]"===n?`[${(t=>t.replace(h,(t,e,n)=>e.charCodeAt(0)<=n.charCodeAt(0)?t:""))(e)}]`:`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,n)=>e+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>`${e}[^\\/]*`],[/(\^|\\\/)?\\\*$/,(t,e)=>{return`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`}],[/\\\\\\/g,()=>"\\"]],p=Object.create(null),d=t=>"string"==typeof t,_=t=>t&&d(t)&&!s.test(t)&&0!==t.indexOf("#"),g=t=>t.split(o);class y{constructor(t,e,n,s){this.origin=t,this.pattern=e,this.negative=n,this.regex=s}}const m=(t,e)=>{const n=t;let s=!1;0===t.indexOf("!")&&(s=!0,t=t.substr(1));const o=((t,e,n)=>{const s=p[t];if(s)return s;const r=f.reduce((e,n)=>e.replace(n[0],n[1].bind(t)),t);return p[t]=n?new RegExp(r,"i"):new RegExp(r)})(t=t.replace(r,"!").replace(i,"#"),0,e);return new y(n,t,s,o)},v=(t,e)=>{throw new e(t)},b=(t,e,n)=>{if(!d(t))return n(`path must be a string, but got \`${e}\``,TypeError);if(!t)return n("path must not be empty",TypeError);if(b.isNotRelative(t)){return n(`path should be a ${"`path.relative()`d"} string, but got "${e}"`,RangeError)}return!0},E=t=>a.test(t);b.isNotRelative=E,b.convert=t=>t;class S{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,l(this,u,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[u])return this._rules=this._rules.concat(t._rules),void(this._added=!0);if(_(t)){const e=m(t,this._ignorecase);this._added=!0,this._rules.push(e)}}add(t){return this._added=!1,n(d(t)?g(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,e){let n=!1,s=!1;return this._rules.forEach(r=>{const{negative:i}=r;s===i&&n!==s||i&&!n&&!s&&!e||r.regex.test(t)&&(n=!i,s=i)}),{ignored:n,unignored:s}}_test(t,e,n,s){const r=t&&b.convert(t);return b(r,t,v),this._t(r,e,n,s)}_t(t,e,n,s){if(t in e)return e[t];if(s||(s=t.split(c)),s.pop(),!s.length)return e[t]=this._testOne(t,n);const r=this._t(s.join(c)+c,e,n,s);return e[t]=r.ignored?r:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return n(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}}const A=t=>new S(t),x=()=>!1;if(A.isPathValid=t=>b(t&&b.convert(t),t,x),A.default=A,t.exports=A,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const t=t=>/^\\\\\?\\/.test(t)||/["<>|\u0000-\u001F]+/u.test(t)?t:t.replace(/\\/g,"/");b.convert=t;const e=/^[a-z]:\//i;b.isNotRelative=t=>e.test(t)||E(t)}},function(t,e,n){"use strict";t.exports=t=>{const e=/^\\\\\?\\/.test(t),n=/[^\u0000-\u0080]+/.test(t);return e||n?t:t.replace(/\\/g,"/")}},function(t,e,n){"use strict";const{Transform:s}=n(4);class r extends s{constructor(){super({objectMode:!0})}}t.exports={FilterStream:class extends r{constructor(t){super(),this._filter=t}_transform(t,e,n){this._filter(t)&&this.push(t),n()}},UniqueStream:class extends r{constructor(){super(),this._pushed=new Set}_transform(t,e,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(106);var r,i;!function(t){t[t.Add=0]="Add",t[t.Delete=1]="Delete"}(r=e.DiffRangeType||(e.DiffRangeType={})),function(t){t[t.Line=0]="Line",t[t.Word=1]="Word"}(i=e.DiffHighlightType||(e.DiffHighlightType={}));class o{constructor(t,e){this.row=t,this.column=e}static fromArray(t){return new o(t[0],t[1])}}e.DiffPoint=o;class a{constructor(t,e,n,s){this.diffRangeType=t,this.diffHighlightType=e,this.start=n,this.stop=s}static fromDiff(t,e,n,s){const r=c(e,n),u=c(e,n+s);r[0]==u[0]&&(r[1]++,u[1]++);let l=r[0]==u[0]?i.Word:i.Line;return n+s!=e.length-1&&"\n"!=e[n]||(r[0]++,r[1]=0,l=i.Line,r[0]!=u[0]&&n+s!=e.length-1||(u[0]++,u[1]=0)),new a(t,l,o.fromArray(r),o.fromArray(u))}}function c(t,e){let n=0,s=0;for(let r=0;r<e;r++)s++,"\n"==t[r]&&(n++,s=0);return[n,s]}e.DiffRange=a,e.cursorToRowAndColumn=c,e.diff=function(t,e){const n=new s;let i=n.diff_main(t,e);n.diff_cleanupSemantic(i);let o=[],c=-1,u=-1;for(const n of i)0==n[0]?(c+=n[1].length,u+=n[1].length):1==n[0]?(o.push(a.fromDiff(r.Add,e,u,n[1].length)),u+=n[1].length):-1==n[0]&&(o.push(a.fromDiff(r.Delete,t,c,n[1].length)),c+=n[1].length);return o}},function(t,e){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};n.Diff=function(t,e){this[0]=t,this[1]=e},n.Diff.prototype.length=2,n.Diff.prototype.toString=function(){return this[0]+","+this[1]},n.prototype.diff_main=function(t,e,s,r){if(void 0===r&&(r=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[new n.Diff(0,t)]:[];void 0===s&&(s=!0);var i=s,o=this.diff_commonPrefix(t,e);s=t.substring(0,o),t=t.substring(o),e=e.substring(o),o=this.diff_commonSuffix(t,e);var a=t.substring(t.length-o);return t=t.substring(0,t.length-o),e=e.substring(0,e.length-o),t=this.diff_compute_(t,e,i,r),s&&t.unshift(new n.Diff(0,s)),a&&t.push(new n.Diff(0,a)),this.diff_cleanupMerge(t),t},n.prototype.diff_compute_=function(t,e,s,r){if(!t)return[new n.Diff(1,e)];if(!e)return[new n.Diff(-1,t)];var i=t.length>e.length?t:e,o=t.length>e.length?e:t,a=i.indexOf(o);return-1!=a?(s=[new n.Diff(1,i.substring(0,a)),new n.Diff(0,o),new n.Diff(1,i.substring(a+o.length))],t.length>e.length&&(s[0][0]=s[2][0]=-1),s):1==o.length?[new n.Diff(-1,t),new n.Diff(1,e)]:(i=this.diff_halfMatch_(t,e))?(e=i[1],o=i[3],t=i[4],i=this.diff_main(i[0],i[2],s,r),s=this.diff_main(e,o,s,r),i.concat([new n.Diff(0,t)],s)):s&&100<t.length&&100<e.length?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,s){var r=this.diff_linesToChars_(t,e);t=r.chars1,e=r.chars2,r=r.lineArray,t=this.diff_main(t,e,!1,s),this.diff_charsToLines_(t,r),this.diff_cleanupSemantic(t),t.push(new n.Diff(0,""));for(var i=r=e=0,o="",a="";e<t.length;){switch(t[e][0]){case 1:i++,a+=t[e][1];break;case-1:r++,o+=t[e][1];break;case 0:if(1<=r&&1<=i){for(t.splice(e-r-i,r+i),e=e-r-i,i=(r=this.diff_main(o,a,!1,s)).length-1;0<=i;i--)t.splice(e,0,r[i]);e+=r.length}r=i=0,a=o=""}e++}return t.pop(),t},n.prototype.diff_bisect_=function(t,e,s){for(var r=t.length,i=e.length,o=Math.ceil((r+i)/2),a=2*o,c=Array(a),u=Array(a),l=0;l<a;l++)c[l]=-1,u[l]=-1;c[o+1]=0,u[o+1]=0;for(var h=0!=(l=r-i)%2,f=0,p=0,d=0,_=0,g=0;g<o&&!((new Date).getTime()>s);g++){for(var y=-g+f;y<=g-p;y+=2){for(var m=o+y,v=y==-g||y!=g&&c[m-1]<c[m+1]?c[m+1]:c[m-1]+1,b=v-y;v<r&&b<i&&t.charAt(v)==e.charAt(b);)v++,b++;if(c[m]=v,v>r)p+=2;else if(b>i)f+=2;else if(h&&(0<=(m=o+l-y)&&m<a&&-1!=u[m])){var E=r-u[m];if(v>=E)return this.diff_bisectSplit_(t,e,v,b,s)}}for(y=-g+d;y<=g-_;y+=2){for(m=o+y,v=(E=y==-g||y!=g&&u[m-1]<u[m+1]?u[m+1]:u[m-1]+1)-y;E<r&&v<i&&t.charAt(r-E-1)==e.charAt(i-v-1);)E++,v++;if(u[m]=E,E>r)_+=2;else if(v>i)d+=2;else if(!h&&(0<=(m=o+l-y)&&m<a&&-1!=c[m]&&(b=o+(v=c[m])-m,v>=(E=r-E))))return this.diff_bisectSplit_(t,e,v,b,s)}}return[new n.Diff(-1,t),new n.Diff(1,e)]},n.prototype.diff_bisectSplit_=function(t,e,n,s,r){var i=t.substring(0,n),o=e.substring(0,s);return t=t.substring(n),e=e.substring(s),i=this.diff_main(i,o,!1,r),r=this.diff_main(t,e,!1,r),i.concat(r)},n.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,o=-1,a=s.length;o<t.length-1;){-1==(o=t.indexOf("\n",n))&&(o=t.length-1);var c=t.substring(n,o+1);(r.hasOwnProperty?r.hasOwnProperty(c):void 0!==r[c])?e+=String.fromCharCode(r[c]):(a==i&&(c=t.substring(n),o=t.length),e+=String.fromCharCode(a),r[c]=a,s[a++]=c),n=o+1}return e}var s=[],r={};s[0]="";var i=4e4,o=n(t);return i=65535,{chars1:o,chars2:n(e),lineArray:s}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var s=t[n][1],r=[],i=0;i<s.length;i++)r[i]=e[s.charCodeAt(i)];t[n][1]=r.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,s=Math.min(t.length,e.length),r=s,i=0;n<r;)t.substring(i,r)==e.substring(i,r)?i=n=r:s=r,r=Math.floor((s-n)/2+n);return r},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,s=Math.min(t.length,e.length),r=s,i=0;n<r;)t.substring(t.length-r,t.length-i)==e.substring(e.length-r,e.length-i)?i=n=r:s=r,r=Math.floor((s-n)/2+n);return r},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,s=e.length;if(0==n||0==s)return 0;if(n>s?t=t.substring(n-s):n<s&&(e=e.substring(0,n)),n=Math.min(n,s),t==e)return n;s=0;for(var r=1;;){var i=t.substring(n-r);if(-1==(i=e.indexOf(i)))return s;r+=i,0!=i&&t.substring(n-r)!=e.substring(0,r)||(s=r,r++)}},n.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var s,r,o,a,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,l="";-1!=(u=e.indexOf(c,u+1));){var h=i.diff_commonPrefix(t.substring(n),e.substring(u)),f=i.diff_commonSuffix(t.substring(0,n),e.substring(0,u));l.length<f+h&&(l=e.substring(u-f,u)+e.substring(u,u+h),s=t.substring(0,n-f),r=t.substring(n+h),o=e.substring(0,u-f),a=e.substring(u+h))}return 2*l.length>=t.length?[s,r,o,a,l]:null}if(0>=this.Diff_Timeout)return null;var s=t.length>e.length?t:e,r=t.length>e.length?e:t;if(4>s.length||2*r.length<s.length)return null;var i=this,o=n(s,r,Math.ceil(s.length/4));if(s=n(s,r,Math.ceil(s.length/2)),!o&&!s)return null;if(o=s?o&&o[4].length>s[4].length?o:s:o,t.length>e.length){s=o[0],r=o[1];var a=o[2],c=o[3]}else a=o[0],c=o[1],s=o[2],r=o[3];return[s,r,a,c,o[4]]},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,s=[],r=0,i=null,o=0,a=0,c=0,u=0,l=0;o<t.length;)0==t[o][0]?(s[r++]=o,a=u,c=l,l=u=0,i=t[o][1]):(1==t[o][0]?u+=t[o][1].length:l+=t[o][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,l)&&(t.splice(s[r-1],0,new n.Diff(-1,i)),t[s[r-1]+1][0]=1,r--,o=0<--r?s[r-1]:-1,l=u=c=a=0,i=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;)-1==t[o-1][0]&&1==t[o][0]&&(e=t[o-1][1],s=t[o][1],(r=this.diff_commonOverlap_(e,s))>=(i=this.diff_commonOverlap_(s,e))?(r>=e.length/2||r>=s.length/2)&&(t.splice(o,0,new n.Diff(0,s.substring(0,r))),t[o-1][1]=e.substring(0,e.length-r),t[o+1][1]=s.substring(r),o++):(i>=e.length/2||i>=s.length/2)&&(t.splice(o,0,new n.Diff(0,e.substring(0,i))),t[o-1][0]=1,t[o-1][1]=s.substring(0,s.length-i),t[o+1][0]=-1,t[o+1][1]=e.substring(i),o++),o++),o++},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var s=t.charAt(t.length-1),r=e.charAt(0),i=s.match(n.nonAlphaNumericRegex_),o=r.match(n.nonAlphaNumericRegex_),a=i&&s.match(n.whitespaceRegex_),c=o&&r.match(n.whitespaceRegex_);s=a&&s.match(n.linebreakRegex_),r=c&&r.match(n.linebreakRegex_);var u=s&&t.match(n.blanklineEndRegex_),l=r&&e.match(n.blanklineStartRegex_);return u||l?5:s||r?4:i&&!a&&c?3:a||c?2:i||o?1:0}for(var s=1;s<t.length-1;){if(0==t[s-1][0]&&0==t[s+1][0]){var r=t[s-1][1],i=t[s][1],o=t[s+1][1],a=this.diff_commonSuffix(r,i);if(a){var c=i.substring(i.length-a);r=r.substring(0,r.length-a),i=c+i.substring(0,i.length-a),o=c+o}a=r,c=i;for(var u=o,l=e(r,i)+e(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var h=e(r,i)+e(i,o);h>=l&&(l=h,a=r,c=i,u=o)}t[s-1][1]!=a&&(a?t[s-1][1]=a:(t.splice(s-1,1),s--),t[s][1]=c,u?t[s+1][1]=u:(t.splice(s+1,1),s--))}s++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,s=[],r=0,i=null,o=0,a=!1,c=!1,u=!1,l=!1;o<t.length;)0==t[o][0]?(t[o][1].length<this.Diff_EditCost&&(u||l)?(s[r++]=o,a=u,c=l,i=t[o][1]):(r=0,i=null),u=l=!1):(-1==t[o][0]?l=!0:u=!0,i&&(a&&c&&u&&l||i.length<this.Diff_EditCost/2&&3==a+c+u+l)&&(t.splice(s[r-1],0,new n.Diff(-1,i)),t[s[r-1]+1][0]=1,r--,i=null,a&&c?(u=l=!0,r=0):(o=0<--r?s[r-1]:-1,u=l=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push(new n.Diff(0,""));for(var e,s=0,r=0,i=0,o="",a="";s<t.length;)switch(t[s][0]){case 1:i++,a+=t[s][1],s++;break;case-1:r++,o+=t[s][1],s++;break;case 0:1<r+i?(0!==r&&0!==i&&(0!==(e=this.diff_commonPrefix(a,o))&&(0<s-r-i&&0==t[s-r-i-1][0]?t[s-r-i-1][1]+=a.substring(0,e):(t.splice(0,0,new n.Diff(0,a.substring(0,e))),s++),a=a.substring(e),o=o.substring(e)),0!==(e=this.diff_commonSuffix(a,o))&&(t[s][1]=a.substring(a.length-e)+t[s][1],a=a.substring(0,a.length-e),o=o.substring(0,o.length-e))),s-=r+i,t.splice(s,r+i),o.length&&(t.splice(s,0,new n.Diff(-1,o)),s++),a.length&&(t.splice(s,0,new n.Diff(1,a)),s++),s++):0!==s&&0==t[s-1][0]?(t[s-1][1]+=t[s][1],t.splice(s,1)):s++,r=i=0,a=o=""}for(""===t[t.length-1][1]&&t.pop(),r=!1,s=1;s<t.length-1;)0==t[s-1][0]&&0==t[s+1][0]&&(t[s][1].substring(t[s][1].length-t[s-1][1].length)==t[s-1][1]?(t[s][1]=t[s-1][1]+t[s][1].substring(0,t[s][1].length-t[s-1][1].length),t[s+1][1]=t[s-1][1]+t[s+1][1],t.splice(s-1,1),r=!0):t[s][1].substring(0,t[s+1][1].length)==t[s+1][1]&&(t[s-1][1]+=t[s+1][1],t[s][1]=t[s][1].substring(t[s+1][1].length)+t[s+1][1],t.splice(s+1,1),r=!0)),s++;r&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,s=0,r=0,i=0,o=0;for(n=0;n<t.length&&(1!==t[n][0]&&(s+=t[n][1].length),-1!==t[n][0]&&(r+=t[n][1].length),!(s>e));n++)i=s,o=r;return t.length!=n&&-1===t[n][0]?o:o+(e-i)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,s=/</g,r=/>/g,i=/\n/g,o=0;o<t.length;o++){var a=t[o][0],c=t[o][1].replace(n,"&amp;").replace(s,"&lt;").replace(r,"&gt;").replace(i,"&para;<br>");switch(a){case 1:e[o]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:e[o]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:e[o]="<span>"+c+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,s=0,r=0;r<t.length;r++){var i=t[r][1];switch(t[r][0]){case 1:n+=i.length;break;case-1:s+=i.length;break;case 0:e+=Math.max(n,s),s=n=0}}return e+Math.max(n,s)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var s=[],r=0,i=0,o=e.split(/\t/g),a=0;a<o.length;a++){var c=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{s[r++]=new n.Diff(1,decodeURI(c))}catch(t){throw Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||0>u)throw Error("Invalid number in diff_fromDelta: "+c);c=t.substring(i,i+=u),"="==o[a].charAt(0)?s[r++]=new n.Diff(0,c):s[r++]=new n.Diff(-1,c);break;default:if(o[a])throw Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(i!=t.length)throw Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return s},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){function s(t,s){var r=t/e.length,o=Math.abs(n-s);return i.Match_Distance?r+o/i.Match_Distance:o?1:r}if(e.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this,o=this.Match_Threshold,a=t.indexOf(e,n);-1!=a&&(o=Math.min(s(0,a),o),-1!=(a=t.lastIndexOf(e,n+e.length))&&(o=Math.min(s(0,a),o)));var c=1<<e.length-1;a=-1;for(var u,l,h,f=e.length+t.length,p=0;p<e.length;p++){for(u=0,l=f;u<l;)s(p,n+l)<=o?u=l:f=l,l=Math.floor((f-u)/2+u);f=l,u=Math.max(1,n-l+1);var d=Math.min(n+l,t.length)+e.length;for((l=Array(d+2))[d+1]=(1<<p)-1;d>=u;d--){var _=r[t.charAt(d-1)];if(l[d]=0===p?(l[d+1]<<1|1)&_:(l[d+1]<<1|1)&_|(h[d+1]|h[d])<<1|1|h[d+1],l[d]&c&&(_=s(p,d-1))<=o){if(o=_,!((a=d-1)>n))break;u=Math.max(1,2*n-a)}}if(s(p+1,n)>o)break;h=l}return a},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var s=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(s)!=e.lastIndexOf(s)&&s.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,s=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin,(s=e.substring(t.start2-r,t.start2))&&t.diffs.unshift(new n.Diff(0,s)),(r=e.substring(t.start2+t.length1,t.start2+t.length1+r))&&t.diffs.push(new n.Diff(0,r)),t.start1-=s.length,t.start2-=s.length,t.length1+=s.length+r.length,t.length2+=s.length+r.length}},n.prototype.patch_make=function(t,e,s){if("string"==typeof t&&"string"==typeof e&&void 0===s){var r=t;2<(e=this.diff_main(r,e,!0)).length&&(this.diff_cleanupSemantic(e),this.diff_cleanupEfficiency(e))}else if(t&&"object"==typeof t&&void 0===e&&void 0===s)e=t,r=this.diff_text1(e);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===s)r=t;else{if("string"!=typeof t||"string"!=typeof e||!s||"object"!=typeof s)throw Error("Unknown call format to patch_make.");r=t,e=s}if(0===e.length)return[];s=[],t=new n.patch_obj;for(var i=0,o=0,a=0,c=r,u=0;u<e.length;u++){var l=e[u][0],h=e[u][1];switch(i||0===l||(t.start1=o,t.start2=a),l){case 1:t.diffs[i++]=e[u],t.length2+=h.length,r=r.substring(0,a)+h+r.substring(a);break;case-1:t.length1+=h.length,t.diffs[i++]=e[u],r=r.substring(0,a)+r.substring(a+h.length);break;case 0:h.length<=2*this.Patch_Margin&&i&&e.length!=u+1?(t.diffs[i++]=e[u],t.length1+=h.length,t.length2+=h.length):h.length>=2*this.Patch_Margin&&i&&(this.patch_addContext_(t,c),s.push(t),t=new n.patch_obj,i=0,c=r,o=a)}1!==l&&(o+=h.length),-1!==l&&(a+=h.length)}return i&&(this.patch_addContext_(t,c),s.push(t)),s},n.prototype.patch_deepCopy=function(t){for(var e=[],s=0;s<t.length;s++){var r=t[s],i=new n.patch_obj;i.diffs=[];for(var o=0;o<r.diffs.length;o++)i.diffs[o]=new n.Diff(r.diffs[o][0],r.diffs[o][1]);i.start1=r.start1,i.start2=r.start2,i.length1=r.length1,i.length2=r.length2,e[s]=i}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var s=0,r=[],i=0;i<t.length;i++){var o=t[i].start2+s,a=this.diff_text1(t[i].diffs),c=-1;if(a.length>this.Match_MaxBits){var u=this.match_main(e,a.substring(0,this.Match_MaxBits),o);-1!=u&&(-1==(c=this.match_main(e,a.substring(a.length-this.Match_MaxBits),o+a.length-this.Match_MaxBits))||u>=c)&&(u=-1)}else u=this.match_main(e,a,o);if(-1==u)r[i]=!1,s-=t[i].length2-t[i].length1;else if(r[i]=!0,s=u-o,a==(o=-1==c?e.substring(u,u+a.length):e.substring(u,c+this.Match_MaxBits)))e=e.substring(0,u)+this.diff_text2(t[i].diffs)+e.substring(u+a.length);else if(o=this.diff_main(a,o,!1),a.length>this.Match_MaxBits&&this.diff_levenshtein(o)/a.length>this.Patch_DeleteThreshold)r[i]=!1;else{var l;for(this.diff_cleanupSemanticLossless(o),a=0,c=0;c<t[i].diffs.length;c++){var h=t[i].diffs[c];0!==h[0]&&(l=this.diff_xIndex(o,a)),1===h[0]?e=e.substring(0,u+l)+h[1]+e.substring(u+l):-1===h[0]&&(e=e.substring(0,u+l)+e.substring(u+this.diff_xIndex(o,a+h[1].length))),-1!==h[0]&&(a+=h[1].length)}}}return[e=e.substring(n.length,e.length-n.length),r]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,s="",r=1;r<=e;r++)s+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var i=(r=t[0]).diffs;if(0==i.length||0!=i[0][0])i.unshift(new n.Diff(0,s)),r.start1-=e,r.start2-=e,r.length1+=e,r.length2+=e;else if(e>i[0][1].length){var o=e-i[0][1].length;i[0][1]=s.substring(i[0][1].length)+i[0][1],r.start1-=o,r.start2-=o,r.length1+=o,r.length2+=o}return 0==(i=(r=t[t.length-1]).diffs).length||0!=i[i.length-1][0]?(i.push(new n.Diff(0,s)),r.length1+=e,r.length2+=e):e>i[i.length-1][1].length&&(o=e-i[i.length-1][1].length,i[i.length-1][1]+=s.substring(0,o),r.length1+=o,r.length2+=o),s},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,s=0;s<t.length;s++)if(!(t[s].length1<=e)){var r=t[s];t.splice(s--,1);for(var i=r.start1,o=r.start2,a="";0!==r.diffs.length;){var c=new n.patch_obj,u=!0;for(c.start1=i-a.length,c.start2=o-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push(new n.Diff(0,a)));0!==r.diffs.length&&c.length1<e-this.Patch_Margin;){a=r.diffs[0][0];var l=r.diffs[0][1];1===a?(c.length2+=l.length,o+=l.length,c.diffs.push(r.diffs.shift()),u=!1):-1===a&&1==c.diffs.length&&0==c.diffs[0][0]&&l.length>2*e?(c.length1+=l.length,i+=l.length,u=!1,c.diffs.push(new n.Diff(a,l)),r.diffs.shift()):(l=l.substring(0,e-c.length1-this.Patch_Margin),c.length1+=l.length,i+=l.length,0===a?(c.length2+=l.length,o+=l.length):u=!1,c.diffs.push(new n.Diff(a,l)),l==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(l.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin),""!==(l=this.diff_text1(r.diffs).substring(0,this.Patch_Margin))&&(c.length1+=l.length,c.length2+=l.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=l:c.diffs.push(new n.Diff(0,l))),u||t.splice(++s,0,c)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;t=t.split("\n");for(var s=0,r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<t.length;){var i=t[s].match(r);if(!i)throw Error("Invalid patch string: "+t[s]);var o=new n.patch_obj;for(e.push(o),o.start1=parseInt(i[1],10),""===i[2]?(o.start1--,o.length1=1):"0"==i[2]?o.length1=0:(o.start1--,o.length1=parseInt(i[2],10)),o.start2=parseInt(i[3],10),""===i[4]?(o.start2--,o.length2=1):"0"==i[4]?o.length2=0:(o.start2--,o.length2=parseInt(i[4],10)),s++;s<t.length;){i=t[s].charAt(0);try{var a=decodeURI(t[s].substring(1))}catch(t){throw Error("Illegal escape in patch_fromText: "+a)}if("-"==i)o.diffs.push(new n.Diff(-1,a));else if("+"==i)o.diffs.push(new n.Diff(1,a));else if(" "==i)o.diffs.push(new n.Diff(0,a));else{if("@"==i)break;if(""!==i)throw Error('Invalid patch mode "'+i+'" in: '+a)}s++}}return e},n.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},n.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=n},function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(r,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((s=s.apply(t,e||[])).next())})},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(124),o=r(n(108));e.default=class{constructor(t,e){this.connected=!1,this.id="",this.url="ws://localhost:17373/",this.commandHandler=t,this.app=e,this.id=i.v4()}isConnected(){return this.connected}onClose(){this.connected=!1}onMessage(t){return s(this,void 0,void 0,function*(){if("string"==typeof t){let e;try{e=JSON.parse(t)}catch(t){return}if("response"===e.message){const t=yield this.handle(e.data.response);t&&this.send("callback",{callback:e.data.callback,data:t})}}})}onOpen(){this.connected=!0,this.sendActive()}ensureConnection(){if(!this.connected)try{"undefined"!=typeof WebSocket&&WebSocket?(this.websocket=new WebSocket(this.url),this.websocket.addEventListener("open",()=>{this.onOpen()}),this.websocket.addEventListener("close",()=>{this.onClose()}),this.websocket.addEventListener("message",t=>{this.onMessage(t.data)})):(this.websocket=new o.default(this.url),this.websocket.on("open",()=>{this.onOpen()}),this.websocket.on("close",()=>{this.onClose()}),this.websocket.on("message",t=>{this.onMessage(t)}))}catch(t){}}handle(t){return s(this,void 0,void 0,function*(){let e=null;if(t.execute)for(const n of t.execute.commandsList)n.type in this.commandHandler&&(e=yield this.commandHandler[n.type](n));return e||{message:"completed",data:{}}})}sendActive(){this.send("active",{app:this.app,id:this.id})}send(t,e){if(!this.connected||!this.websocket||1!=this.websocket.readyState)return!1;try{return this.websocket.send(JSON.stringify({message:t,data:e})),!0}catch(t){return this.connected=!1,!1}}start(){this.ensureConnection(),setInterval(()=>{this.ensureConnection()},1e3),setInterval(()=>{this.send("heartbeat",{app:this.app,id:this.id})},6e4)}}},function(t,e,n){"use strict";const s=n(31);s.createWebSocketStream=n(120),s.Server=n(121),s.Receiver=n(34),s.Sender=n(36),t.exports=s},function(t,e){t.exports=require("https")},function(t,e){t.exports=require("net")},function(t,e){t.exports=require("tls")},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("zlib")},function(t,e,n){"use strict";(function(e){try{t.exports=n(33)(e)}catch(e){t.exports=n(115)}}).call(this,"/")},function(t,e,n){"use strict";t.exports={mask:(t,e,n,s,r)=>{for(var i=0;i<r;i++)n[s+i]=t[i]^e[3&i]},unmask:(t,e)=>{const n=t.length;for(var s=0;s<n;s++)t[s]^=e[3&s]}}},function(t,e,n){"use strict";const s=Symbol("kDone"),r=Symbol("kRun");t.exports=class{constructor(t){this[s]=()=>{this.pending--,this[r]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const t=this.jobs.shift();this.pending++,t(this[s])}}}},function(t,e,n){"use strict";(function(e){try{t.exports=n(33)(e)}catch(e){t.exports=n(118)}}).call(this,"/")},function(t,e,n){"use strict";t.exports=function(t){const e=t.length;let n=0;for(;n<e;)if(0==(128&t[n]))n++;else if(192==(224&t[n])){if(n+1===e||128!=(192&t[n+1])||192==(254&t[n]))return!1;n+=2}else if(224==(240&t[n])){if(n+2>=e||128!=(192&t[n+1])||128!=(192&t[n+2])||224===t[n]&&128==(224&t[n+1])||237===t[n]&&160==(224&t[n+1]))return!1;n+=3}else{if(240!=(248&t[n]))return!1;if(n+3>=e||128!=(192&t[n+1])||128!=(192&t[n+2])||128!=(192&t[n+3])||240===t[n]&&128==(240&t[n+1])||244===t[n]&&t[n+1]>143||t[n]>244)return!1;n+=4}return!0}},function(t,e,n){"use strict";class s{constructor(t,e){this.target=e,this.type=t}}class r extends s{constructor(t,e){super("message",e),this.data=t}}class i extends s{constructor(t,e,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=e,this.code=t}}class o extends s{constructor(t){super("open",t)}}class a extends s{constructor(t,e){super("error",e),this.message=t.message,this.error=t}}const c={addEventListener(t,e){function n(t){e.call(this,new r(t,this))}function s(t,n){e.call(this,new i(t,n,this))}function c(t){e.call(this,new a(t,this))}function u(){e.call(this,new o(this))}"function"==typeof e&&("message"===t?(n._listener=e,this.on(t,n)):"close"===t?(s._listener=e,this.on(t,s)):"error"===t?(c._listener=e,this.on(t,c)):"open"===t?(u._listener=e,this.on(t,u)):this.on(t,e))},removeEventListener(t,e){const n=this.listeners(t);for(let s=0;s<n.length;s++)n[s]!==e&&n[s]._listener!==e||this.removeListener(t,n[s])}};t.exports=c},function(t,e,n){"use strict";const{Duplex:s}=n(4);function r(t){t.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(t){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",t)}t.exports=function(t,e){let n=!0;function a(){n&&t._socket.resume()}t.readyState===t.CONNECTING?t.once("open",function(){t._receiver.removeAllListeners("drain"),t._receiver.on("drain",a)}):(t._receiver.removeAllListeners("drain"),t._receiver.on("drain",a));const c=new s({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(e){c.push(e)||(n=!1,t._socket.pause())}),t.once("error",function(t){c.destroyed||c.destroy(t)}),t.once("close",function(){c.destroyed||c.push(null)}),c._destroy=function(e,n){if(t.readyState===t.CLOSED)return n(e),void process.nextTick(r,c);let s=!1;t.once("error",function(t){s=!0,n(t)}),t.once("close",function(){s||n(e),process.nextTick(r,c)}),t.terminate()},c._final=function(e){t.readyState!==t.CONNECTING?null!==t._socket&&(t._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),e()):(t._socket.once("finish",function(){e()}),t.close())):t.once("open",function(){c._final(e)})},c._read=function(){t.readyState!==t.OPEN||n||(n=!0,t._receiver._writableState.needDrain||t._socket.resume())},c._write=function(e,n,s){t.readyState!==t.CONNECTING?t.send(e,s):t.once("open",function(){c._write(e,n,s)})},c.on("end",i),c.on("error",o),c}},function(t,e,n){"use strict";const s=n(17),{createHash:r}=n(2),{createServer:i,STATUS_CODES:o}=n(32),a=n(12),c=n(31),{format:u,parse:l}=n(37),{GUID:h}=n(6),f=/^[+/0-9A-Za-z]{22}==$/,p=Symbol("kUsedByWebSocketServer");function d(t){t.emit("close")}function _(){this.destroy()}function g(t,e,n,s){t.writable&&(n=n||o[e],s={Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(n),...s},t.write(`HTTP/1.1 ${e} ${o[e]}\r\n`+Object.keys(s).map(t=>`${t}: ${s[t]}`).join("\r\n")+"\r\n\r\n"+n)),t.removeListener("error",_),t.destroy()}t.exports=class extends s{constructor(t,e){if(super(),null==(t={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...t}).port&&!t.server&&!t.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=t.port)this._server=i((t,e)=>{const n=o[426];e.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),e.end(n)}),this._server.listen(t.port,t.host,t.backlog,e);else if(t.server){if(t.server[p])throw new Error("The HTTP/S server is already being used by another WebSocket server");t.server[p]=!0,this._server=t.server}this._server&&(this._removeListeners=function(t,e){for(const n of Object.keys(e))t.on(n,e[n]);return function(){for(const n of Object.keys(e))t.removeListener(n,e[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,e,n)=>{this.handleUpgrade(t,e,n,e=>{this.emit("connection",e,t)})}})),!0===t.perMessageDeflate&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set),this.options=t}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(t&&this.once("close",t),this.clients)for(const t of this.clients)t.terminate();const e=this._server;if(e){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void e.close(()=>this.emit("close"));delete e[p]}process.nextTick(d,this)}shouldHandle(t){if(this.options.path){const e=t.url.indexOf("?");if((-1!==e?t.url.slice(0,e):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,e,n,s){e.on("error",_);const r=void 0!==t.headers["sec-websocket-key"]&&t.headers["sec-websocket-key"].trim(),i=+t.headers["sec-websocket-version"],o={};if("GET"!==t.method||"websocket"!==t.headers.upgrade.toLowerCase()||!r||!f.test(r)||8!==i&&13!==i||!this.shouldHandle(t))return g(e,400);if(this.options.perMessageDeflate){const n=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const s=l(t.headers["sec-websocket-extensions"]);s[a.extensionName]&&(n.accept(s[a.extensionName]),o[a.extensionName]=n)}catch(t){return g(e,400)}}if(this.options.verifyClient){const a={origin:t.headers[`${8===i?"sec-websocket-origin":"origin"}`],secure:!(!t.connection.authorized&&!t.connection.encrypted),req:t};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(i,a,c,u)=>{if(!i)return g(e,a||401,c,u);this.completeUpgrade(r,o,t,e,n,s)});if(!this.options.verifyClient(a))return g(e,401)}this.completeUpgrade(r,o,t,e,n,s)}completeUpgrade(t,e,n,s,i,o){if(!s.readable||!s.writable)return s.destroy();const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${r("sha1").update(t+h).digest("base64")}`],f=new c(null);let p=n.headers["sec-websocket-protocol"];if(p&&(p=p.trim().split(/ *, */),(p=this.options.handleProtocols?this.options.handleProtocols(p,n):p[0])&&(l.push(`Sec-WebSocket-Protocol: ${p}`),f.protocol=p)),e[a.extensionName]){const t=e[a.extensionName].params,n=u({[a.extensionName]:[t]});l.push(`Sec-WebSocket-Extensions: ${n}`),f._extensions=e}this.emit("headers",l,n),s.write(l.concat("\r\n").join("\r\n")),s.removeListener("error",_),f.setSocket(s,i,this.options.maxPayload),this.clients&&(this.clients.add(f),f.on("close",()=>this.clients.delete(f))),o(f)}}},function(t,e,n){"use strict";var s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const r=s(n(1)),i=s(n(123)),o=s(n(7));e.default=class{constructor(){this.systemData={},this.systemDefaults={},this.userData={},this.userDefaults={}}createIfNotExists(t){i.sync(this.path()),r.existsSync(t)||r.closeSync(r.openSync(t,"w"))}dataForFile(t){return"user"==t?this.userData:"system"==t?this.systemData:void 0}defaultsForFile(t){return"user"==t?this.userDefaults:"system"==t?this.systemDefaults:void 0}get(t,e){this.load();let n=this.dataForFile(t);return void 0===n[e]?this.defaultsForFile(t)[e]:n[e]}load(){this.systemData={},this.userData={};try{this.systemData=JSON.parse(r.readFileSync(this.systemFile()).toString())}catch(t){this.systemData={}}try{this.userData=JSON.parse(r.readFileSync(this.userFile()).toString())}catch(t){this.userData={}}}save(){this.createIfNotExists(this.systemFile()),this.createIfNotExists(this.userFile()),r.writeFileSync(this.systemFile(),JSON.stringify(this.systemData,null,2)),r.writeFileSync(this.userFile(),JSON.stringify(this.userData,null,2))}set(t,e,n){this.load(),this.dataForFile(t)[e]=n,this.save()}systemFile(){return`${this.path()}/serenade.json`}userFile(){return`${this.path()}/settings.json`}getAnimations(){return this.get("user","animations")}getInstalled(){return this.get("system","installed")}path(){return`${o.homedir()}/.serenade`}setPluginInstalled(t){this.load();let e=this.dataForFile("system");e.plugins||(e.plugins=[]),e.plugins.includes(t)||e.plugins.push(t),this.save()}}},function(t,e,n){var s=n(0),r=n(1),i=parseInt("0777",8);function o(t,e,n,a){"function"==typeof e?(n=e,e={}):e&&"object"==typeof e||(e={mode:e});var c=e.mode,u=e.fs||r;void 0===c&&(c=i&~process.umask()),a||(a=null);var l=n||function(){};t=s.resolve(t),u.mkdir(t,c,function(n){if(!n)return l(null,a=a||t);switch(n.code){case"ENOENT":o(s.dirname(t),e,function(n,s){n?l(n,s):o(t,e,l,s)});break;default:u.stat(t,function(t,e){t||!e.isDirectory()?l(n,a):l(null,a)})}})}t.exports=o.mkdirp=o.mkdirP=o,o.sync=function t(e,n,o){n&&"object"==typeof n||(n={mode:n});var a=n.mode,c=n.fs||r;void 0===a&&(a=i&~process.umask()),o||(o=null),e=s.resolve(e);try{c.mkdirSync(e,a),o=o||e}catch(r){switch(r.code){case"ENOENT":o=t(s.dirname(e),n,o),t(e,n,o);break;default:var u;try{u=c.statSync(e)}catch(t){throw r}if(!u.isDirectory())throw r}}return o}},function(t,e,n){"use strict";n.r(e);var s=n(2),r=n.n(s);function i(){return r.a.randomBytes(16)}for(var o=[],a=0;a<256;++a)o[a]=(a+256).toString(16).substr(1);var c,u,l=function(t,e){var n=e||0,s=o;return[s[t[n++]],s[t[n++]],s[t[n++]],s[t[n++]],"-",s[t[n++]],s[t[n++]],"-",s[t[n++]],s[t[n++]],"-",s[t[n++]],s[t[n++]],"-",s[t[n++]],s[t[n++]],s[t[n++]],s[t[n++]],s[t[n++]],s[t[n++]]].join("")},h=0,f=0;var p=function(t,e,n){var s=e&&n||0,r=e||[],o=(t=t||{}).node||c,a=void 0!==t.clockseq?t.clockseq:u;if(null==o||null==a){var p=t.random||(t.rng||i)();null==o&&(o=c=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==a&&(a=u=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),_=void 0!==t.nsecs?t.nsecs:f+1,g=d-h+(_-f)/1e4;if(g<0&&void 0===t.clockseq&&(a=a+1&16383),(g<0||d>h)&&void 0===t.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=d,f=_,u=a;var y=(1e4*(268435455&(d+=122192928e5))+_)%4294967296;r[s++]=y>>>24&255,r[s++]=y>>>16&255,r[s++]=y>>>8&255,r[s++]=255&y;var m=d/4294967296*1e4&268435455;r[s++]=m>>>8&255,r[s++]=255&m,r[s++]=m>>>24&15|16,r[s++]=m>>>16&255,r[s++]=a>>>8|128,r[s++]=255&a;for(var v=0;v<6;++v)r[s+v]=o[v];return e||l(r)};var d=function(t,e,n){var s=function(t,s,r,i){var o=r&&i||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)),"string"==typeof s&&(s=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(t){e.push(parseInt(t,16))}),e}(s)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(s)||16!==s.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=n(s.concat(t));if(a[6]=15&a[6]|e,a[8]=63&a[8]|128,r)for(var c=0;c<16;++c)r[o+c]=a[c];return r||l(a)};try{s.name=t}catch(t){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s};var _=d("v3",48,function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),r.a.createHash("md5").update(t).digest()});var g=function(t,e,n){var s=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var o=0;o<16;++o)e[s+o]=r[o];return e||l(r)};var y=d("v5",80,function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),r.a.createHash("sha1").update(t).digest()});n.d(e,"v1",function(){return p}),n.d(e,"v3",function(){return _}),n.d(e,"v4",function(){return g}),n.d(e,"v5",function(){return y})}]);
//# sourceMappingURL=extension.js.map